!function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="https://poc.nplxplatform.com/static/zt_react/",i(i.s=146)}([function(t,e,n){t.exports=n(152)()},function(t,e,n){"use strict";t.exports=n(147)},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,d,m){"use strict";m.r(d),function(t){m.d(d,"flush",function(){return i}),m.d(d,"hydrate",function(){return o}),m.d(d,"cx",function(){return a}),m.d(d,"merge",function(){return s}),m.d(d,"getRegisteredStyles",function(){return u}),m.d(d,"injectGlobal",function(){return l}),m.d(d,"keyframes",function(){return c}),m.d(d,"css",function(){return f}),m.d(d,"sheet",function(){return h}),m.d(d,"caches",function(){return p});var e=m(145),n=void 0!==t?t:{},r=Object(e.a)(n),i=r.flush,o=r.hydrate,a=r.cx,s=r.merge,u=r.getRegisteredStyles,l=r.injectGlobal,c=r.keyframes,f=r.css,h=r.sheet,p=r.caches}.call(this,m(16))},function(t,e,n){"use strict";n.r(e),n.d(e,"mapProps",function(){return m}),n.d(e,"withProps",function(){return x}),n.d(e,"withPropsOnChange",function(){return E}),n.d(e,"withHandlers",function(){return k}),n.d(e,"defaultProps",function(){return M}),n.d(e,"renameProp",function(){return C}),n.d(e,"renameProps",function(){return A}),n.d(e,"flattenProp",function(){return O}),n.d(e,"withState",function(){return z}),n.d(e,"withStateHandlers",function(){return I}),n.d(e,"withReducer",function(){return R}),n.d(e,"branch",function(){return D}),n.d(e,"renderComponent",function(){return L}),n.d(e,"renderNothing",function(){return F}),n.d(e,"shouldUpdate",function(){return B}),n.d(e,"pure",function(){return U}),n.d(e,"onlyUpdateForKeys",function(){return V}),n.d(e,"onlyUpdateForPropTypes",function(){return q}),n.d(e,"withContext",function(){return Y}),n.d(e,"getContext",function(){return W}),n.d(e,"lifecycle",function(){return $}),n.d(e,"toClass",function(){return Z}),n.d(e,"setStatic",function(){return s}),n.d(e,"setPropTypes",function(){return G}),n.d(e,"setDisplayName",function(){return l}),n.d(e,"compose",function(){return X}),n.d(e,"getDisplayName",function(){return p}),n.d(e,"wrapDisplayName",function(){return d}),n.d(e,"isClassComponent",function(){return H}),n.d(e,"createSink",function(){return K}),n.d(e,"componentFromProp",function(){return J}),n.d(e,"nest",function(){return Q}),n.d(e,"hoistStatics",function(){return tt}),n.d(e,"componentFromStream",function(){return ot}),n.d(e,"componentFromStreamWithConfig",function(){return it}),n.d(e,"mapPropsStream",function(){return ut}),n.d(e,"mapPropsStreamWithConfig",function(){return st}),n.d(e,"createEventHandler",function(){return ct}),n.d(e,"createEventHandlerWithConfig",function(){return lt}),n.d(e,"setObservableConfig",function(){return nt});var c=n(1),r=n.n(c),i=n(26),u=n.n(i);n.d(e,"shallowEqual",function(){return u.a});var o=n(25),a=n.n(o),f=n(67),h=n(44),s=function(e,n){return function(t){return t[e]=n,t}},l=function(t){return s("displayName",t)},p=function(t){return"string"==typeof t?t:t?t.displayName||t.name||"Component":void 0},d=function(t,e){return e+"("+p(t)+")"},m=function(n){return function(t){var e=Object(c.createFactory)(t);return function(t){return e(n(t))}}},y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},_=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},x=function(e){return m(function(t){return v({},t,"function"==typeof e?e(t):e)})},w=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n},E=function(r,s){return function(t){var e=Object(c.createFactory)(t),n="function"==typeof r?r:function(t,e){return!u()(w(t,r),w(e,r))};return function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=b(this,o.call.apply(o,[this].concat(r)))).computedProps=s(e.props),b(e,t)}return g(a,o),a.prototype.componentWillReceiveProps=function(t){n(this.props,t)&&(this.computedProps=s(t))},a.prototype.render=function(){return e(v({},this.props,this.computedProps))},a}(c.Component)}},S=function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r],r));return n},k=function(r){return function(t){var e=Object(c.createFactory)(t),n=function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e=b(this,o.call.apply(o,[this].concat(r))),s.call(e),b(e,t)}return g(a,o),a.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},a.prototype.render=function(){return e(v({},this.props,this.handlers))},a}(c.Component),s=function(){var i=this;this.cachedHandlers={},this.handlers=S("function"==typeof r?r(this.props):r,function(n,r){return function(){var t=i.cachedHandlers[r];if(t)return t.apply(void 0,arguments);var e=n(i.props);return(i.cachedHandlers[r]=e).apply(void 0,arguments)}})};return n}},M=function(r){return function(t){var e=Object(c.createFactory)(t),n=function(t){return e(t)};return n.defaultProps=r,n}},T=function(t,e){for(var n=_(t,[]),r=0;r<e.length;r++){var i=e[r];n.hasOwnProperty(i)&&delete n[i]}return n},C=function(n,r){return m(function(t){var e;return v({},T(t,[n]),((e={})[r]=t[n],e))})},P=Object.keys,A=function(n){return m(function(t){return v({},T(t,P(n)),(r=w(t,P(n)),i=function(t,e){return n[e]},P(r).reduce(function(t,e){var n=r[e];return t[i(n,e)]=n,t},{})));var r,i})},O=function(n){return function(t){var e=Object(c.createFactory)(t);return function(t){return e(v({},t,t[n]))}}},z=function(n,r,s){return function(t){var e=Object(c.createFactory)(t);return function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=b(this,o.call.apply(o,[this].concat(r)))).state={stateValue:"function"==typeof s?s(e.props):s},e.updateStateValue=function(n,t){return e.setState(function(t){var e=t.stateValue;return{stateValue:"function"==typeof n?n(e):n}},t)},b(e,t)}return g(a,o),a.prototype.render=function(){var t;return e(v({},this.props,((t={})[n]=this.state.stateValue,t[r]=this.updateStateValue,t)))},a}(c.Component)}},I=function(r,i){return function(t){var e=Object(c.createFactory)(t),n=function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e=b(this,o.call.apply(o,[this].concat(r))),s.call(e),b(e,t)}return g(a,o),a.prototype.shouldComponentUpdate=function(t,e){var n=t!==this.props,r=!u()(e,this.state);return n||r},a.prototype.render=function(){return e(v({},this.props,this.state,this.stateUpdaters))},a}(c.Component),s=function(){var o=this;this.state="function"==typeof r?r(this.props):r,this.stateUpdaters=S(i,function(i){return function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];n&&"function"==typeof n.persist&&n.persist(),o.setState(function(t,e){return i(t,e).apply(void 0,[n].concat(r))})}})};return n}},R=function(n,r,s,i){return function(t){var e=Object(c.createFactory)(t);return function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=b(this,o.call.apply(o,[this].concat(r)))).state={stateValue:e.initializeStateValue()},e.dispatch=function(n){return e.setState(function(t){var e=t.stateValue;return{stateValue:s(e,n)}})},b(e,t)}return g(a,o),a.prototype.initializeStateValue=function(){return void 0!==i?"function"==typeof i?i(this.props):i:s(void 0,{type:"@@recompose/INIT"})},a.prototype.render=function(){var t;return e(v({},this.props,((t={})[n]=this.state.stateValue,t[r]=this.dispatch,t)))},a}(c.Component)}},N=function(t){return t},D=function(i,o){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:N;return function(e){var n=void 0,r=void 0;return function(t){return i(t)?(n=n||Object(c.createFactory)(o(e)))(t):(r=r||Object(c.createFactory)(a(e)))(t)}}},L=function(n){return function(t){var e=Object(c.createFactory)(n);return function(t){return e(t)}}},j=function(t){function e(){return y(this,e),b(this,t.apply(this,arguments))}return g(e,t),e.prototype.render=function(){return null},e}(c.Component),F=function(t){return j},B=function(r){return function(t){var n=Object(c.createFactory)(t);return function(t){function e(){return y(this,e),b(this,t.apply(this,arguments))}return g(e,t),e.prototype.shouldComponentUpdate=function(t){return r(this.props,t)},e.prototype.render=function(){return n(this.props)},e}(c.Component)}},U=function(t){return B(function(t,e){return!u()(t,e)})(t)},V=function(n){return B(function(t,e){return!u()(w(e,n),w(t,n))})},q=function(t){var e=t.propTypes;var n=Object.keys(e||{});return V(n)(t)},Y=function(r,s){return function(t){var e=Object(c.createFactory)(t),n=function(o){function a(){var t,e;y(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=b(this,o.call.apply(o,[this].concat(r)))).getChildContext=function(){return s(e.props)},b(e,t)}return g(a,o),a.prototype.render=function(){return e(this.props)},a}(c.Component);return n.childContextTypes=r,n}},W=function(r){return function(t){var n=Object(c.createFactory)(t),e=function(t,e){return n(v({},t,e))};return e.contextTypes=r,e}},$=function(r){return function(t){var n=Object(c.createFactory)(t);var e=function(t){function e(){return y(this,e),b(this,t.apply(this,arguments))}return g(e,t),e.prototype.render=function(){return n(v({},this.props,this.state))},e}(c.Component);return Object.keys(r).forEach(function(t){return e.prototype[t]=r[t]}),e}},H=function(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)},Z=function(n){if(H(n))return n;var t=function(t){function e(){return y(this,e),b(this,t.apply(this,arguments))}return g(e,t),e.prototype.render=function(){return"string"==typeof n?r.a.createElement(n,this.props):n(this.props,this.context)},e}(c.Component);return t.displayName=p(n),t.propTypes=n.propTypes,t.contextTypes=n.contextTypes,t.defaultProps=n.defaultProps,t},G=function(t){return s("propTypes",t)};function X(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var K=function(n){return function(t){function e(){return y(this,e),b(this,t.apply(this,arguments))}return g(e,t),e.prototype.componentWillMount=function(){n(this.props)},e.prototype.componentWillReceiveProps=function(t){n(t)},e.prototype.render=function(){return null},e}(c.Component)},J=function(e){var t=function(t){return Object(c.createElement)(t[e],T(t,[e]))};return t.displayName="componentFromProp("+e+")",t},Q=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(c.createFactory);return function(t){var n=_(t,[]),e=t.children;return r.reduceRight(function(t,e){return e(n,t)},e)}},tt=function(n){return function(t){var e=n(t);return a()(e,t),e}},et={fromESObservable:null,toESObservable:null},nt=function(t){et=t},rt={fromESObservable:function(t){return"function"==typeof et.fromESObservable?et.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof et.toESObservable?et.toESObservable(t):t}},it=function(l){return function(u){return function(a){function s(){var t,e,n;y(this,s);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=b(this,a.call.apply(a,[this].concat(i)))).state={vdom:null},n.propsEmitter=Object(f.createChangeEmitter)(),n.props$=l.fromESObservable(((t={subscribe:function(e){return{unsubscribe:n.propsEmitter.listen(function(t){t?e.next(t):e.complete()})}}})[h.a]=function(){return this},t)),n.vdom$=l.toESObservable(u(n.props$)),b(n,e)}return g(s,a),s.prototype.componentWillMount=function(){var e=this;this.subscription=this.vdom$.subscribe({next:function(t){e.setState({vdom:t})}}),this.propsEmitter.emit(this.props)},s.prototype.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},s.prototype.shouldComponentUpdate=function(t,e){return e.vdom!==this.state.vdom},s.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},s.prototype.render=function(){return this.state.vdom},s}(c.Component)}},ot=function(t){return it(rt)(t)},at=function(t){return t},st=function(e){var n=it({fromESObservable:at,toESObservable:at});return function(a){return function(t){var r=Object(c.createFactory)(t),i=e.fromESObservable,o=e.toESObservable;return n(function(n){var t;return(t={subscribe:function(e){var t=o(a(i(n))).subscribe({next:function(t){return e.next(r(t))}});return{unsubscribe:function(){return t.unsubscribe()}}}})[h.a]=function(){return this},t})}}},ut=function(t){return st(rt)(t)},lt=function(r){return function(){var t,n=Object(f.createChangeEmitter)(),e=r.fromESObservable(((t={subscribe:function(e){return{unsubscribe:n.listen(function(t){return e.next(t)})}}})[h.a]=function(){return this},t));return{handler:n.emit,stream:e}}},ct=lt(rt)},function(t,e,n){var r,i,o;i=[e,n(3)],void 0===(o="function"==typeof(r=function(t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleLoader=t.calculateRgba=void 0,t.calculateRgba=function(t,e){if("#"===t[0]&&(t=t.slice(1)),3===t.length){var n="";t.split("").forEach(function(t){n+=t,n+=t}),t=n}var r=t.match(/.{2}/g).map(function(t){return parseInt(t,16)}).join(", ");return"rgba("+r+", "+e+")"},t.styleLoader=function(t,e){return 0===Object.keys(e).length?t:(0,n.cx)(t,(0,n.css)(e))}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e);var r=n(7),P=n.n(r),i=n(2),A=n.n(i);function p(t){return"/"===t.charAt(0)}function d(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&p(t),o=e&&p(e),a=i||o;if(t&&p(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var l=0,c=r.length;0<=c;c--){var f=r[c];"."===f?d(r,c):".."===f?(d(r,c),l++):l&&(d(r,c),l--)}if(!a)for(;l--;l)r.unshift("..");!a||""===r[0]||r[0]&&p(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a=function n(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(Array.isArray(e))return Array.isArray(r)&&e.length===r.length&&e.every(function(t,e){return n(t,r[e])});var t=void 0===e?"undefined":u(e);if(t!==(void 0===r?"undefined":u(r)))return!1;if("object"!==t)return!1;var i=e.valueOf(),o=r.valueOf();if(i!==e||o!==r)return n(i,o);var a=Object.keys(e),s=Object.keys(r);return a.length===s.length&&a.every(function(t){return n(e[t],r[t])})},O=function(t){return"/"===t.charAt(0)?t:"/"+t},s=function(t){return"/"===t.charAt(0)?t.substr(1):t},z=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},I=function(t,e){return z(t,e)?t.substr(e.length):t},R=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},l=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},N=function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D=function(t,e,n,r){var i=void 0;"string"==typeof t?(i=l(t)).state=e:(void 0===(i=c({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=o(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},C=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&a(t.state,e.state)},L=function(){var o=null,r=[];return{setPrompt:function(t){return P()(null==o,"A history supports only one prompt at a time"),o=t,function(){o===t&&(o=null)}},confirmTransitionTo:function(t,e,n,r){if(null!=o){var i="function"==typeof o?o(t,e):o;"string"==typeof i?"function"==typeof n?n(i,r):(P()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==i)}else r(!0)},appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}},j=!("undefined"==typeof window||!window.document||!window.document.createElement),F=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},B=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},U=function(t,e){return e(window.confirm(t))},V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y="popstate",W="hashchange",$=function(){try{return window.history.state||{}}catch(t){return{}}},f=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};A()(j,"Browser history needs a DOM");var e,s=window.history,u=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,n=!(-1===window.navigator.userAgent.indexOf("Trident")),r=t.forceRefresh,l=void 0!==r&&r,i=t.getUserConfirmation,c=void 0===i?U:i,o=t.keyLength,a=void 0===o?6:o,f=t.basename?R(O(t.basename)):"",h=function(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return P()(!f||z(o,f),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+f+'".'),f&&(o=I(o,f)),D(o,r,n)},p=function(){return Math.random().toString(36).substr(2,a)},d=L(),m=function(t){q(C,t),C.length=s.length,d.notifyListeners(C.location,C.action)},y=function(t){void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")||_(h(t.state))},v=function(){_(h($()))},g=!1,_=function(e){g?(g=!1,m()):d.confirmTransitionTo(e,"POP",c,function(t){t?m({action:"POP",location:e}):b(e)})},b=function(t){var e=C.location,n=w.indexOf(e.key);-1===n&&(n=0);var r=w.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,S(i))},x=h($()),w=[x.key],E=function(t){return f+N(t)},S=function(t){s.go(t)},k=0,M=function(t){1===(k+=t)?(F(window,Y,y),n&&F(window,W,v)):0===k&&(B(window,Y,y),n&&B(window,W,v))},T=!1,C={length:s.length,action:"POP",location:x,createHref:E,push:function(t,e){P()(!("object"===(void 0===t?"undefined":V(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=D(t,e,p(),C.location);d.confirmTransitionTo(a,"PUSH",c,function(t){if(t){var e=E(a),n=a.key,r=a.state;if(u)if(s.pushState({key:n,state:r},null,e),l)window.location.href=e;else{var i=w.indexOf(C.location.key),o=w.slice(0,-1===i?0:i+1);o.push(a.key),w=o,m({action:"PUSH",location:a})}else P()(void 0===r,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function(t,e){P()(!("object"===(void 0===t?"undefined":V(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o="REPLACE",a=D(t,e,p(),C.location);d.confirmTransitionTo(a,o,c,function(t){if(t){var e=E(a),n=a.key,r=a.state;if(u)if(s.replaceState({key:n,state:r},null,e),l)window.location.replace(e);else{var i=w.indexOf(C.location.key);-1!==i&&(w[i]=a.key),m({action:o,location:a})}else P()(void 0===r,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:S,goBack:function(){return S(-1)},goForward:function(){return S(1)},block:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=d.setPrompt(t);return T||(M(1),T=!0),function(){return T&&(T=!1,M(-1)),e()}},listen:function(t){var e=d.appendListener(t);return M(1),function(){M(-1),e()}}};return C},H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z="hashchange",G={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+s(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:s,decodePath:O},slash:{encodePath:O,decodePath:O}},X=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},K=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=e?e:0)+"#"+t)},h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};A()(j,"Hash history needs a DOM");var e=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=t.getUserConfirmation,s=void 0===r?U:r,i=t.hashType,o=void 0===i?"slash":i,u=t.basename?R(O(t.basename)):"",a=G[o],l=a.encodePath,c=a.decodePath,f=function(){var t=c(X());return P()(!u||z(t,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+u+'".'),u&&(t=I(t,u)),D(t)},h=L(),p=function(t){H(T,t),T.length=e.length,h.notifyListeners(T.location,T.action)},d=!1,m=null,y=function(){var t=X(),e=l(t);if(t!==e)K(e);else{var n=f(),r=T.location;if(!d&&C(r,n))return;if(m===N(n))return;m=null,v(n)}},v=function(e){d?(d=!1,p()):h.confirmTransitionTo(e,"POP",s,function(t){t?p({action:"POP",location:e}):g(e)})},g=function(t){var e=T.location,n=w.lastIndexOf(N(e));-1===n&&(n=0);var r=w.lastIndexOf(N(t));-1===r&&(r=0);var i=n-r;i&&(d=!0,E(i))},_=X(),b=l(_);_!==b&&K(b);var x=f(),w=[N(x)],E=function(t){P()(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},S=0,k=function(t){1===(S+=t)?F(window,Z,y):0===S&&B(window,Z,y)},M=!1,T={length:e.length,action:"POP",location:x,createHref:function(t){return"#"+l(u+N(t))},push:function(t,e){P()(void 0===e,"Hash history cannot push state; it is ignored");var a=D(t,void 0,void 0,T.location);h.confirmTransitionTo(a,"PUSH",s,function(t){if(t){var e,n=N(a),r=l(u+n);if(X()!==r){m=n,e=r,window.location.hash=e;var i=w.lastIndexOf(N(T.location)),o=w.slice(0,-1===i?0:i+1);o.push(n),w=o,p({action:"PUSH",location:a})}else P()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),p()}})},replace:function(t,e){P()(void 0===e,"Hash history cannot replace state; it is ignored");var i="REPLACE",o=D(t,void 0,void 0,T.location);h.confirmTransitionTo(o,i,s,function(t){if(t){var e=N(o),n=l(u+e);X()!==n&&(m=e,K(n));var r=w.indexOf(N(T.location));-1!==r&&(w[r]=e),p({action:i,location:o})}})},go:E,goBack:function(){return E(-1)},goForward:function(){return E(1)},block:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=h.setPrompt(t);return M||(k(1),M=!0),function(){return M&&(M=!1,k(-1)),e()}},listen:function(t){var e=h.appendListener(t);return k(1),function(){k(-1),e()}}};return T},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t,e,n){return Math.min(Math.max(t,e),n)},m=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.getUserConfirmation,e=t.initialEntries,n=void 0===e?["/"]:e,r=t.initialIndex,o=void 0===r?0:r,a=t.keyLength,s=void 0===a?6:a,u=L(),l=function(t){v(m,t),m.length=m.entries.length,u.notifyListeners(m.location,m.action)},c=function(){return Math.random().toString(36).substr(2,s)},f=g(o,0,n.length-1),h=n.map(function(t){return D(t,void 0,"string"==typeof t?c():t.key||c())}),p=N,d=function(t){var e=g(m.index+t,0,m.entries.length-1),n=m.entries[e];u.confirmTransitionTo(n,"POP",i,function(t){t?l({action:"POP",location:n,index:e}):l()})},m={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:p,push:function(t,e){P()(!("object"===(void 0===t?"undefined":y(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=D(t,e,c(),m.location);u.confirmTransitionTo(r,"PUSH",i,function(t){if(t){var e=m.index+1,n=m.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),l({action:"PUSH",location:r,index:e,entries:n})}})},replace:function(t,e){P()(!("object"===(void 0===t?"undefined":y(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n="REPLACE",r=D(t,e,c(),m.location);u.confirmTransitionTo(r,n,i,function(t){t&&(m.entries[m.index]=r,l({action:n,location:r}))})},go:d,goBack:function(){return d(-1)},goForward:function(){return d(1)},canGo:function(t){var e=m.index+t;return 0<=e&&e<m.entries.length},block:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return u.setPrompt(t)},listen:function(t){return u.appendListener(t)}};return m};n.d(e,"createBrowserHistory",function(){return f}),n.d(e,"createHashHistory",function(){return h}),n.d(e,"createMemoryHistory",function(){return m}),n.d(e,"createLocation",function(){return D}),n.d(e,"locationsAreEqual",function(){return C}),n.d(e,"parsePath",function(){return l}),n.d(e,"createPath",function(){return N})},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";n.r(e);var x=n(1),r=n(0),i=n.n(r),w=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),E=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});function o(){var t,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"store",e=arguments[1]||o+"Subscription",n=function(r){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,e));return n[o]=t.store,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i.prototype.getChildContext=function(){var t;return(t={})[o]=this[o],t[e]=null,t},i.prototype.render=function(){return x.Children.only(this.props.children)},i}(x.Component);return n.propTypes={store:E.isRequired,children:i.a.element.isRequired},n.childContextTypes=((t={})[o]=E.isRequired,t[e]=w,t),n}var a=o(),s=n(25),S=n.n(s),u=n(2),k=n.n(u);var l={notify:function(){}};var M=function(){function r(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=l}return r.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},r.prototype.notifyNestedSubs=function(){this.listeners.notify()},r.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},r.prototype.trySubscribe=function(){var n,r;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(n=[],r=[],{clear:function(){n=r=null},notify:function(){for(var t=n=r,e=0;e<t.length;e++)t[e]()},get:function(){return r},subscribe:function(t){var e=!0;return r===n&&(r=n.slice()),r.push(t),function(){e&&null!==n&&(e=!1,r===n&&(r=n.slice()),r.splice(r.indexOf(t),1))}}}))},r.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},r}(),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var C=0,P={};function A(){}function c(s){var t,e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.getDisplayName,i=void 0===r?function(t){return"ConnectAdvanced("+t+")"}:r,o=n.methodName,u=void 0===o?"connectAdvanced":o,a=n.renderCountProp,l=void 0===a?void 0:a,c=n.shouldHandleStateChanges,f=void 0===c||c,h=n.storeKey,p=void 0===h?"store":h,d=n.withRef,m=void 0!==d&&d,y=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),v=p+"Subscription",g=C++,_=((t={})[p]=E,t[v]=w,t),b=((e={})[v]=w,e);return function(e){k()("function"==typeof e,"You must pass a component to the function returned by "+u+". Instead received "+JSON.stringify(e));var t=e.displayName||e.name||"Component",o=i(t),a=T({},y,{getDisplayName:i,methodName:u,renderCountProp:l,shouldHandleStateChanges:f,storeKey:p,withRef:m,displayName:o,wrappedComponentName:t,WrappedComponent:e}),n=function(r){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,e));return n.version=g,n.state={},n.renderCount=0,n.store=t[p]||e[p],n.propsMode=Boolean(t[p]),n.setWrappedInstance=n.setWrappedInstance.bind(n),k()(n.store,'Could not find "'+p+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+p+'" as a prop to "'+o+'".'),n.initSelector(),n.initSubscription(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[v]=e||this.context[v],t},i.prototype.componentDidMount=function(){f&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=A,this.store=null,this.selector.run=A,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return k()(m,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+u+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},i.prototype.initSelector=function(){var n,r,i,t=s(this.store.dispatch,a);this.selector=(n=t,r=this.store,i={run:function(t){try{var e=n(r.getState(),t);(e!==i.props||i.error)&&(i.shouldComponentUpdate=!0,i.props=e,i.error=null)}catch(t){i.shouldComponentUpdate=!0,i.error=t}}}),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(f){var t=(this.propsMode?this.props:this.context)[v];this.subscription=new M(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(P)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(t){if(!(m||l||this.propsMode&&this.subscription))return t;var e=T({},t);return m&&(e.ref=this.setWrappedInstance),l&&(e[l]=this.renderCount++),this.propsMode&&this.subscription&&(e[v]=this.subscription),e},i.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(x.createElement)(e,this.addExtraProps(t.props))},i}(x.Component);return n.WrappedComponent=e,n.displayName=o,n.childContextTypes=b,n.contextTypes=_,n.propTypes=_,S()(n,e)}}var f=Object.prototype.hasOwnProperty;function h(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function O(t,e){if(h(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!f.call(e,n[i])||!h(t[n[i]],e[n[i]]))return!1;return!0}var p=n(37),d=n(102),m="object"==typeof self&&self&&self.Object===Object&&self,y=(d.a||m||Function("return this")()).Symbol,v=Object.prototype;v.hasOwnProperty,v.toString,y&&y.toStringTag;Object.prototype.toString;y&&y.toStringTag;g=Object.getPrototypeOf,_=Object;var g,_;var b=Function.prototype,z=Object.prototype,I=b.toString;z.hasOwnProperty,I.call(Object);function R(i){return function(t,e){var n=i(t,e);function r(){return n}return r.dependsOnOwnProps=!1,r}}function N(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function D(i,t){return function(t,e){e.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,e){r.mapToProps=i,r.dependsOnOwnProps=N(i);var n=r(t,e);return"function"==typeof n&&(r.mapToProps=n,r.dependsOnOwnProps=N(n),n=r(t,e)),n},r}}var L=[function(t){return"function"==typeof t?D(t):void 0},function(t){return t?void 0:R(function(t){return{dispatch:t}})},function(e){return e&&"object"==typeof e?R(function(t){return Object(p.bindActionCreators)(e,t)}):void 0}];var j=[function(t){return"function"==typeof t?D(t):void 0},function(t){return t?void 0:R(function(){return{}})}],F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function B(t,e,n){return F({},n,t,e)}var U=[function(t){return"function"==typeof t?(u=t,function(t,e){e.displayName;var i=e.pure,o=e.areMergedPropsEqual,a=!1,s=void 0;return function(t,e,n){var r=u(t,e,n);return a?i&&o(r,s)||(s=r):(a=!0,s=r),s}}):void 0;var u},function(t){return t?void 0:function(){return B}}];function V(n,r,i,o){return function(t,e){return i(n(t,e),r(o,e),e)}}function q(a,s,u,l,t){var c=t.areStatesEqual,f=t.areOwnPropsEqual,h=t.areStatePropsEqual,n=!1,p=void 0,d=void 0,m=void 0,y=void 0,v=void 0;function r(t,e){var n,r,i=!f(e,d),o=!c(t,p);return p=t,d=e,i&&o?(m=a(p,d),s.dependsOnOwnProps&&(y=s(l,d)),v=u(m,y,d)):i?(a.dependsOnOwnProps&&(m=a(p,d)),s.dependsOnOwnProps&&(y=s(l,d)),v=u(m,y,d)):(o&&(n=a(p,d),r=!h(n,m),m=n,r&&(v=u(m,y,d))),v)}return function(t,e){return n?r(t,e):(m=a(p=t,d=e),y=s(l,d),v=u(m,y,d),n=!0,v)}}function Y(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?q:V)(a,s,u,t,o)}var W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function $(n,t,r){for(var e=t.length-1;0<=e;e--){var i=t[e](n);if(i)return i}return function(t,e){throw new Error("Invalid value of type "+typeof n+" for "+r+" argument when connecting component "+e.wrappedComponentName+".")}}function H(t,e){return t===e}var Z=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,g=void 0===e?c:e,n=t.mapStateToPropsFactories,_=void 0===n?j:n,r=t.mapDispatchToPropsFactories,b=void 0===r?L:r,i=t.mergePropsFactories,x=void 0===i?U:i,o=t.selectorFactory,w=void 0===o?Y:o;return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=r.pure,o=void 0===i||i,a=r.areStatesEqual,s=void 0===a?H:a,u=r.areOwnPropsEqual,l=void 0===u?O:u,c=r.areStatePropsEqual,f=void 0===c?O:c,h=r.areMergedPropsEqual,p=void 0===h?O:h,d=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),m=$(t,_,"mapStateToProps"),y=$(e,b,"mapDispatchToProps"),v=$(n,x,"mergeProps");return g(w,W({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:m,initMapDispatchToProps:y,initMergeProps:v,pure:o,areStatesEqual:s,areOwnPropsEqual:l,areStatePropsEqual:f,areMergedPropsEqual:p},d))}}();n.d(e,"Provider",function(){return a}),n.d(e,"createProvider",function(){return o}),n.d(e,"connectAdvanced",function(){return c}),n.d(e,"connect",function(){return Z})},function(t,e,n){"use strict";var i=n(73),r=n(174),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:r,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,i=arguments.length;e<i;e++)l(arguments[e],t);return r},extend:function(n,t,r){return l(t,function(t,e){n[e]=r&&"function"==typeof t?i(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";n.r(e);var r=n(38),i=n.n(r),o=n(1),d=n.n(o),a=n(0),s=n.n(a),u=n(6),l=n(8),c=n.n(l),f=n(2),h=n.n(f),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var y=function(o){function a(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=m(this,o.call.apply(o,[this].concat(r)))).state={match:e.computeMatch(e.props.history.location.pathname)},m(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},a.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},a.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;h()(null==n||1===d.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},a.prototype.componentWillReceiveProps=function(t){c()(this.props.history===t.history,"You cannot change <Router history>")},a.prototype.componentWillUnmount=function(){this.unlisten()},a.prototype.render=function(){var t=this.props.children;return t?d.a.Children.only(t):null},a}(d.a.Component);y.propTypes={history:s.a.object.isRequired,children:s.a.node},y.contextTypes={router:s.a.object},y.childContextTypes={router:s.a.object.isRequired};var v=y,g=v;function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var b=function(o){function a(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=_(this,o.call.apply(o,[this].concat(r)))).history=Object(u.createBrowserHistory)(e.props),_(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},a.prototype.render=function(){return d.a.createElement(g,{history:this.history,children:this.props.children})},a}(d.a.Component);b.propTypes={basename:s.a.string,forceRefresh:s.a.bool,getUserConfirmation:s.a.func,keyLength:s.a.number,children:s.a.node};var x=b;function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var E=function(o){function a(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=w(this,o.call.apply(o,[this].concat(r)))).history=Object(u.createHashHistory)(e.props),w(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},a.prototype.render=function(){return d.a.createElement(g,{history:this.history,children:this.props.children})},a}(d.a.Component);E.propTypes={basename:s.a.string,getUserConfirmation:s.a.func,hashType:s.a.oneOf(["hashbang","noslash","slash"]),children:s.a.node};var S=E,k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var T=function(i){function o(){var t,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=a=M(this,i.call.apply(i,[this].concat(n)))).handleClick=function(t){if(a.props.onClick&&a.props.onClick(t),!(t.defaultPrevented||0!==t.button||a.props.target||((o=t).metaKey||o.altKey||o.ctrlKey||o.shiftKey))){t.preventDefault();var e=a.context.router.history,n=a.props,r=n.replace,i=n.to;r?e.replace(i):e.push(i)}var o},M(a,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,i),o.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==e,'You must specify the "to" property');var i=this.context.router.history,o="string"==typeof e?Object(u.createLocation)(e,null,null,i.location):e,a=i.createHref(o);return d.a.createElement("a",k({},r,{onClick:this.handleClick,href:a,ref:n}))},o}(d.a.Component);T.propTypes={onClick:s.a.func,target:s.a.string,replace:s.a.bool,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired,innerRef:s.a.oneOfType([s.a.string,s.a.func])},T.defaultProps={replace:!1},T.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired,createHref:s.a.func.isRequired}).isRequired}).isRequired};var C=T;function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var A=function(o){function a(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=P(this,o.call.apply(o,[this].concat(r)))).history=Object(u.createMemoryHistory)(e.props),P(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.componentWillMount=function(){c()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},a.prototype.render=function(){return d.a.createElement(v,{history:this.history,children:this.props.children})},a}(d.a.Component);A.propTypes={initialEntries:s.a.array,initialIndex:s.a.number,getUserConfirmation:s.a.func,keyLength:s.a.number,children:s.a.node};var O=A,z=n(39),I=n.n(z),R={},N=0,D=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof e&&(e={path:e});var r=e,i=r.path,o=r.exact,a=void 0!==o&&o,s=r.strict,u=void 0!==s&&s,l=r.sensitive;if(null==i)return n;var c=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=R[n]||(R[n]={});if(r[t])return r[t];var i=[],o={re:I()(t,i,e),keys:i};return N<1e4&&(r[t]=o,N++),o}(i,{end:a,strict:u,sensitive:void 0!==l&&l}),f=c.re,h=c.keys,p=f.exec(t);if(!p)return null;var d=p[0],m=p.slice(1),y=t===d;return a&&!y?null:{path:i,url:"/"===i&&""===d?"/":d,isExact:y,params:h.reduce(function(t,e,n){return t[e.name]=m[n],t},{})}},L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var F=function(t){return 0===d.a.Children.count(t)},B=function(o){function a(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e=j(this,o.call.apply(o,[this].concat(r)))).state={match:e.computeMatch(e.props,e.context.router)},j(e,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getChildContext=function(){return{router:L({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},a.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,a=t.exact,s=t.sensitive;if(n)return n;h()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,l=(r||u.location).pathname;return D(l,{path:i,strict:o,exact:a,sensitive:s},u.match)},a.prototype.componentWillMount=function(){c()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),c()(!(this.props.component&&this.props.children&&!F(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),c()(!(this.props.render&&this.props.children&&!F(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},a.prototype.componentWillReceiveProps=function(t,e){c()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),c()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},a.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,l={match:t,location:this.props.location||s.location,history:a,staticContext:u};return r?t?d.a.createElement(r,l):null:i?t?i(l):null:"function"==typeof n?n(l):n&&!F(n)?d.a.Children.only(n):null},a}(d.a.Component);B.propTypes={computedMatch:s.a.object,path:s.a.string,exact:s.a.bool,strict:s.a.bool,sensitive:s.a.bool,component:s.a.func,render:s.a.func,children:s.a.oneOfType([s.a.func,s.a.node]),location:s.a.object},B.contextTypes={router:s.a.shape({history:s.a.object.isRequired,route:s.a.object.isRequired,staticContext:s.a.object})},B.childContextTypes={router:s.a.object.isRequired};var U=B,V=U,q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var W=function(t){var i=t.to,e=t.exact,n=t.strict,r=t.location,o=t.activeClassName,a=t.className,s=t.activeStyle,u=t.style,l=t.isActive,c=t["aria-current"],f=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),h="object"===(void 0===i?"undefined":Y(i))?i.pathname:i,p=h&&h.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return d.a.createElement(V,{path:p,exact:e,strict:n,location:r,children:function(t){var e=t.location,n=t.match,r=!!(l?l(n,e):n);return d.a.createElement(C,q({to:i,className:r?[a,o].filter(function(t){return t}).join(" "):a,style:r?q({},u,s):u,"aria-current":r&&c||null},f))}})};W.propTypes={to:C.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},W.defaultProps={activeClassName:"active","aria-current":"page"};var $=W;var H=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(d.a.Component);H.propTypes={when:s.a.bool,message:s.a.oneOfType([s.a.func,s.a.string]).isRequired},H.defaultProps={when:!0},H.contextTypes={router:s.a.shape({history:s.a.shape({block:s.a.func.isRequired}).isRequired}).isRequired};var Z=H,G={},X=0,K=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"/",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"/"===t?t:function(t){var e=t,n=G[e]||(G[e]={});if(n[t])return n[t];var r=I.a.compile(t);return X<1e4&&(n[t]=r,X++),r}(t)(e,{pretty:!0})},J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var Q=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(u.createLocation)(t.to),n=Object(u.createLocation)(this.props.to);Object(u.locationsAreEqual)(e,n)?c()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"==typeof n?K(n,e.params):J({},n,{pathname:K(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(d.a.Component);Q.propTypes={computedMatch:s.a.object,push:s.a.bool,from:s.a.string,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired},Q.defaultProps={push:!1},Q.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired}).isRequired,staticContext:s.a.object}).isRequired};var tt=Q,et=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function nt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var rt=function(t){return"/"===t.charAt(0)?t:"/"+t},it=function(t,e){return t?et({},e,{pathname:rt(t)+e.pathname}):e},ot=function(t){return"string"==typeof t?t:Object(u.createPath)(t)},at=function(t){return function(){h()(!1,"You cannot %s with <StaticRouter>",t)}},st=function(){},ut=function(o){function a(){var t,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i=nt(this,o.call.apply(o,[this].concat(n)))).createHref=function(t){return rt(i.props.basename+ot(t))},i.handlePush=function(t){var e=i.props,n=e.basename,r=e.context;r.action="PUSH",r.location=it(n,Object(u.createLocation)(t)),r.url=ot(r.location)},i.handleReplace=function(t){var e=i.props,n=e.basename,r=e.context;r.action="REPLACE",r.location=it(n,Object(u.createLocation)(t)),r.url=ot(r.location)},i.handleListen=function(){return st},i.handleBlock=function(){return st},nt(i,t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,o),a.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},a.prototype.componentWillMount=function(){c()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},a.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:function(t,e){if(!t)return e;var n=rt(t);return 0!==e.pathname.indexOf(n)?e:et({},e,{pathname:e.pathname.substr(n.length)})}(e,Object(u.createLocation)(n)),push:this.handlePush,replace:this.handleReplace,go:at("go"),goBack:at("goBack"),goForward:at("goForward"),listen:this.handleListen,block:this.handleBlock};return d.a.createElement(v,et({},r,{history:i}))},a}(d.a.Component);ut.propTypes={basename:s.a.string,context:s.a.object.isRequired,location:s.a.oneOfType([s.a.string,s.a.object])},ut.defaultProps={basename:"",location:"/"},ut.childContextTypes={router:s.a.object.isRequired};var lt=ut;var ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){h()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){c()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),c()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var u=this.context.router.route,t=this.props.children,l=this.props.location||u.location,c=void 0,f=void 0;return d.a.Children.forEach(t,function(t){if(null==c&&d.a.isValidElement(t)){var e=t.props,n=e.path,r=e.exact,i=e.strict,o=e.sensitive,a=e.from,s=n||a;f=t,c=D(l.pathname,{path:s,exact:r,strict:i,sensitive:o},u.match)}}),c?d.a.cloneElement(f,{location:l,computedMatch:c}):null},e}(d.a.Component);ct.contextTypes={router:s.a.shape({route:s.a.object.isRequired}).isRequired},ct.propTypes={children:s.a.node,location:s.a.object};var ft=ct,ht=K,pt=D,dt=n(25),mt=n.n(dt),yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var vt=function(r){var t=function(t){var e=t.wrappedComponentRef,n=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["wrappedComponentRef"]);return d.a.createElement(U,{children:function(t){return d.a.createElement(r,yt({},n,t,{ref:e}))}})};return t.displayName="withRouter("+(r.displayName||r.name)+")",t.WrappedComponent=r,t.propTypes={wrappedComponentRef:s.a.func},mt()(t,r)};n.d(e,"BrowserRouter",function(){return x}),n.d(e,"HashRouter",function(){return S}),n.d(e,"Link",function(){return C}),n.d(e,"MemoryRouter",function(){return O}),n.d(e,"NavLink",function(){return $}),n.d(e,"Prompt",function(){return Z}),n.d(e,"Redirect",function(){return tt}),n.d(e,"Route",function(){return V}),n.d(e,"Router",function(){return g}),n.d(e,"StaticRouter",function(){return lt}),n.d(e,"Switch",function(){return ft}),n.d(e,"generatePath",function(){return ht}),n.d(e,"matchPath",function(){return pt}),n.d(e,"withRouter",function(){return vt})},function(t,e,n){"use strict";var r=n(55);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.portfolioActions=e.alertActions=e.accountActions=void 0;var r=a(n(171)),i=a(n(78)),o=a(n(192));function a(t){return t&&t.__esModule?t:{default:t}}e.accountActions=r.default,e.alertActions=i.default,e.portfolioActions=o.default},function(t,e,n){"use strict";var h=n(53),p=n(54),s=(n(12),n(56),"function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103),d={key:!0,ref:!0,__self:!0,__source:!0},m=function(t,e,n,r,i,o,a){return{$$typeof:s,type:t,key:e,ref:n,props:a,_owner:o}};m.createElement=function(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in a=void 0===e.ref?null:e.ref,o=void 0===e.key?null:""+e.key,void 0===e.__self?null:e.__self,void 0===e.__source?null:e.__source,e)e.hasOwnProperty(r)&&!d.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps){var c=t.defaultProps;for(r in c)void 0===i[r]&&(i[r]=c[r])}return m(t,o,a,0,0,p.current,i)},m.createFactory=function(t){var e=m.createElement.bind(null,t);return e.type=t,e},m.cloneAndReplaceKey=function(t,e){return m(t.type,e,t.ref,t._self,t._source,t._owner,t.props)},m.cloneElement=function(t,e,n){var r,i,o=h({},t.props),a=t.key,s=t.ref,u=(t._self,t._source,t._owner);if(null!=e)for(r in void 0!==e.ref&&(s=e.ref,u=p.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps&&(i=t.type.defaultProps),e)e.hasOwnProperty(r)&&!d.hasOwnProperty(r)&&(void 0===e[r]&&void 0!==i?o[r]=i[r]:o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return m(t.type,a,s,0,0,u,o)},m.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},t.exports=m},function(r,t,i){(function(t){var e=i(263).default,n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";r.exports={window:"undefined"!=typeof window?window:t,global:void 0!==t?t:window,document:"undefined"!=typeof document?document:{},isBrowser:e,userAgent:n}}).call(this,i(16))},function(VK,WK){var XK;XK=function(){return this}();try{XK=XK||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(XK=window)}VK.exports=XK},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PortfolioDashboard=e.UploaderCard=e.SpinnerCard=e.PrivateRoute=e.PageTitle=e.Navbar=e.Loader=e.Header=e.Footer=e.NonFieldErrors=e.FormField=e.LoadingButton=void 0;var r=d(n(196)),i=n(197),o=d(n(198)),a=d(n(199)),s=d(n(201)),u=d(n(202)),l=d(n(79)),c=d(n(203)),f=d(n(204)),h=d(n(225)),p=d(n(226));function d(t){return t&&t.__esModule?t:{default:t}}e.LoadingButton=r.default,e.FormField=i.FormField,e.NonFieldErrors=i.NonFieldErrors,e.Footer=o.default,e.Header=a.default,e.Loader=s.default,e.Navbar=u.default,e.PageTitle=l.default,e.PrivateRoute=c.default,e.SpinnerCard=f.default,e.UploaderCard=h.default,e.PortfolioDashboard=p.default},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e){t.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,m=n[0],y=n[1],v=n[2];t[15]=e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*m+s*y+f*v+e[12],t[13]=i*m+u*y+h*v+e[13],t[14]=o*m+l*y+p*v+e[14],a*m+c*y+d*v+e[15]);return t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*m,t[1]=_*i+b*u+x*h+w*y,t[2]=_*o+b*l+x*p+w*v,t[3]=_*a+b*c+x*d+w*g,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*m,t[5]=_*i+b*u+x*h+w*y,t[6]=_*o+b*l+x*p+w*v,t[7]=_*a+b*c+x*d+w*g,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*m,t[9]=_*i+b*u+x*h+w*y,t[10]=_*o+b*l+x*p+w*v,t[11]=_*a+b*c+x*d+w*g,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*m,t[13]=_*i+b*u+x*h+w*y,t[14]=_*o+b*l+x*p+w*v,t[15]=_*a+b*c+x*d+w*g,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleErrors=e.handleResponse=e.store=e.history=e.authHeader=void 0;var r=s(n(158)),i=s(n(159)),o=s(n(160)),a=n(170);function s(t){return t&&t.__esModule?t:{default:t}}e.authHeader=r.default,e.history=i.default,e.store=o.default,e.handleResponse=a.handleResponse,e.handleErrors=a.handleErrors},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var l={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f=Object.defineProperty,h=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=m&&m(Object);t.exports=function t(e,n,r){if("string"==typeof n)return e;if(y){var i=m(n);i&&i!==y&&t(e,i,r)}var o=h(n);p&&(o=o.concat(p(n)));for(var a=0;a<o.length;++a){var s=o[a];if(!(l[s]||c[s]||r&&r[s])){var u=d(n,s);try{f(e,s,u)}catch(t){}}}return e}},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;function a(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(a(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o.call(e,n[i])||!a(t[n[i]],e[n[i]]))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(80);var s={marginTop:20,marginLeft:"-65px",paddingLeft:"50%",marginBottom:50};e.default=function(){return o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-body"},o.default.createElement("div",{style:s},o.default.createElement(a.RingLoader,{color:"#467fcf",size:130,margin:"30px"}))))}},function(t,e,n){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={REGISTER_REQUEST:"ACCOUNTS_REGISTER_REQUEST",REGISTER_SUCCESS:"ACCOUNTS_REGISTER_SUCCESS",REGISTER_FAILURE:"ACCOUNTS_REGISTER_FAILURE",LOGIN_REQUEST:"ACCOUNTS_LOGIN_REQUEST",LOGIN_SUCCESS:"ACCOUNTS_LOGIN_SUCCESS",LOGIN_FAILURE:"ACCOUNTS_LOGIN_FAILURE",LOGOUT:"ACCOUNTS_LOGOUT",ME_REQUEST:"ACCOUNTS_ME_REQUEST",ME_SUCCESS:"ACCOUNTS_ME_SUCCESS",ME_FAILURE:"ACCOUNTS_ME_FAILURE"}},function(t,e,n){"use strict";var c=n(281).default;e.default=function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=c(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}},e.__esModule=!0},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var r=n(289).default,i=n(291).default;e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i?i(t,e):t.__proto__=e)},e.__esModule=!0},function(t,e,n){"use strict";var i=n(95).default;e.default=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),e.__esModule=!0},function(t,e,n){"use strict";e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,n){"use strict";var r=n(297).default;e.default=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.__esModule=!0},function(t,e,n){"use strict";n.r(e),n.d(e,"createStore",function(){return v}),n.d(e,"combineReducers",function(){return r}),n.d(e,"bindActionCreators",function(){return i}),n.d(e,"applyMiddleware",function(){return o}),n.d(e,"compose",function(){return c}),n.d(e,"__DO_NOT_USE__ActionTypes",function(){return y});var p=n(66),y={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function m(t){if("object"!==(void 0===t?"undefined":d(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function v(t,e,n){var r;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(v)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var n=!0;return l(),s.push(e),function(){if(n){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");n=!1,l();var t=s.indexOf(e);s.splice(t,1)}}}function h(t){if(!m(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}return h({type:y.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,h({type:y.REPLACE})}})[p.a]=function(){var t,n=f;return(t={subscribe:function(t){if("object"!==(void 0===t?"undefined":d(t))||null===t)throw new TypeError("Expected the observer to be an object.");function e(){t.next&&t.next(c())}return e(),{unsubscribe:n(e)}}})[p.a]=function(){return this},t},r}function r(t){for(var e=Object.keys(t),p={},n=0;n<e.length;n++){var r=e[n];0,"function"==typeof t[r]&&(p[r]=t[r])}var d=Object.keys(p);var i,m=void 0;try{i=p,Object.keys(i).forEach(function(t){var e=i[t];if(void 0===e(void 0,{type:y.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===e(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+y.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}catch(t){m=t}return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(m)throw m;for(var n,r,i,o=!1,a={},s=0;s<d.length;s++){var u=d[s],l=p[u],c=t[u],f=l(c,e);if(void 0===f){var h=(n=u,void 0,"Given "+((i=(r=e)&&r.type)&&'action "'+String(i)+'"'||"an action")+', reducer "'+n+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(h)}a[u]=f,o=o||f!==c}return o?a:t}}function s(t,e){return function(){return e(t.apply(this,arguments))}}function i(t,e){if("function"==typeof t)return s(t,e);if("object"!==(void 0===t?"undefined":d(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":void 0===t?"undefined":d(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"==typeof a&&(r[o]=s(a,e))}return r}function c(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function o(){for(var t=arguments.length,u=Array(t),e=0;e<t;e++)u[e]=arguments[e];return function(s){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.apply(void 0,e),i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=u.map(function(t){return t(o)});return i=c.apply(void 0,a)(r.dispatch),l({},r,{dispatch:i})}}}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var h=n(157);t.exports=s,t.exports.parse=o,t.exports.compile=function(t,e){return r(o(t,e))},t.exports.tokensToFunction=r,t.exports.tokensToRegExp=a;var S=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r,i=[],o=0,a=0,s="",u=e&&e.delimiter||"/";null!=(n=S.exec(t));){var l=n[0],c=n[1],f=n.index;if(s+=t.slice(a,f),a=f+l.length,c)s+=c[1];else{var h=t[a],p=n[2],d=n[3],m=n[4],y=n[5],v=n[6],g=n[7];s&&(i.push(s),s="");var _=null!=p&&null!=h&&h!==p,b="+"===v||"*"===v,x="?"===v||"*"===v,w=n[2]||u,E=m||y;i.push({name:d||o++,prefix:p||"",delimiter:w,optional:x,repeat:b,partial:_,asterisk:!!g,pattern:E?(r=E,r.replace(/([=!:$\/()])/g,"\\$1")):g?".*":"[^"+k(w)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&i.push(s),i}function p(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function r(c){for(var f=new Array(c.length),t=0;t<c.length;t++)"object"==typeof c[t]&&(f[t]=new RegExp("^(?:"+c[t].pattern+")$"));return function(t,e){for(var n="",r=t||{},i=(e||{}).pretty?p:encodeURIComponent,o=0;o<c.length;o++){var a=c[o];if("string"!=typeof a){var s,u=r[a.name];if(null==u){if(a.optional){a.partial&&(n+=a.prefix);continue}throw new TypeError('Expected "'+a.name+'" to be defined')}if(h(u)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var l=0;l<u.length;l++){if(s=i(u[l]),!f[o].test(s))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received `'+JSON.stringify(s)+"`");n+=(0===l?a.prefix:a.delimiter)+s}}else{if(s=a.asterisk?encodeURI(u).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):i(u),!f[o].test(s))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+s+'"');n+=a.prefix+s}}else n+=a}return n}}function k(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(t,e){return t.keys=e,t}function m(t){return t.sensitive?"":"i"}function a(t,e,n){h(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=k(s);else{var u=k(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+u+l+")*"),o+=l=s.optional?s.partial?u+"("+l+")?":"(?:"+u+"("+l+"))?":u+"("+l+")"}}var c=k(n.delimiter||"/"),f=o.slice(-c.length)===c;return r||(o=(f?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+c+"|$)",d(new RegExp("^"+o,m(n)),e)}function s(t,e,n){return h(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(t,e)}(t,e):h(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(s(t[i],e,n).source);return d(new RegExp("(?:"+r.join("|")+")",m(n)),e)}(t,e,n):(r=e,a(o(t,i=n),r,i));var r,i}},function(t,e){t.exports=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,S=c*m-f*d,k=c*y-h*d,M=c*v-p*d,T=f*y-h*m,C=f*v-p*m,P=h*v-p*y,A=g*P-_*C+b*T+x*M-w*k+E*S;return A?(A=1/A,t[0]=(s*P-u*C+l*T)*A,t[1]=(i*C-r*P-o*T)*A,t[2]=(m*E-y*w+v*x)*A,t[3]=(h*w-f*E-p*x)*A,t[4]=(u*M-a*P-l*k)*A,t[5]=(n*P-i*M+o*k)*A,t[6]=(y*b-d*E-v*_)*A,t[7]=(c*E-h*b+p*_)*A,t[8]=(a*C-s*M+l*S)*A,t[9]=(r*M-n*C-o*S)*A,t[10]=(d*w-m*b+v*g)*A,t[11]=(f*b-c*w-p*g)*A,t[12]=(s*k-a*T-u*S)*A,t[13]=(n*T-r*k+i*S)*A,t[14]=(m*_-d*x-y*g)*A,t[15]=(c*x-f*_+h*g)*A,t):null}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t}},function(t,o,a){"use strict";(function(t,e){var n,r=a(105);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:e;var i=Object(r.a)(n);o.a=i}).call(this,a(16),a(71)(t))},function(t,c,f){"use strict";(function(n){f.d(c,"a",function(){return l});var t=f(0),r=f.n(t);function o(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function a(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function e(){}var i={container:r.a.object,mapboxApiAccessToken:r.a.string,attributionControl:r.a.bool,preserveDrawingBuffer:r.a.bool,onLoad:r.a.func,onError:r.a.func,reuseMaps:r.a.bool,reuseMap:r.a.bool,transformRequest:r.a.func,mapStyle:r.a.string,visible:r.a.bool,width:r.a.number,height:r.a.number,viewState:r.a.object,longitude:r.a.number,latitude:r.a.number,zoom:r.a.number,bearing:r.a.number,pitch:r.a.number,altitude:r.a.number,mapOptions:r.a.object},s={mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var e=window.location.search.match(/access_token=([^&\/]*)/);t=e&&e[1]}return t||void 0===n||(t=t||Object({API_BASE_URL:"https://poc.nplxplatform.com",ENVIRONMENT:"poc",SUBDIRECTORY:"/app/",DEBUG:!1,FAKE_UPLOAD:!1}).MapboxAccessToken),t||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:e,onError:e,reuseMaps:!1,reuseMap:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5,width:0,height:0,mapOptions:{}};function u(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&r.a.checkPropTypes(i,t,"prop",e)}var l=function(){function i(t){if(o(this,i),!t.mapboxgl)throw new Error("Mapbox not available");!i.initialized&&console.debug&&(i.initialized=!0,console.debug("react-map-gl: ".concat("3.3.4"," using mapbox-gl v").concat(t.mapboxgl.version))),this.props={},this._initialize(t)}return t=i,(e=[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"getMap",value:function(){return this._map}},{key:"_create",value:function(t){if((t.reuseMaps||t.reuseMap)&&i.savedMap){this._map=this.map=i.savedMap;var e=this._map.getContainer(),n=t.container;for(n.classList.add("mapboxgl-map");0<e.childNodes.length;)n.appendChild(e.childNodes[0]);this._map._container=n,i.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle),t.onLoad()}else{var r={container:t.container||document.body,center:[0,0],zoom:8,pitch:0,bearing:0,style:t.mapStyle,interactive:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(r.transformRequest=t.transformRequest),this._map=this.map=new t.mapboxgl.Map(Object.assign({},r,t.mapOptions)),this.map.once("load",t.onLoad),this.map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(i.savedMap?this._map.remove():i.savedMap=this._map,this._map=null)}},{key:"_initialize",value:function(t){u(t=Object.assign({},s,t),"Mapbox"),this.accessToken=t.mapboxApiAccessToken||s.mapboxApiAccessToken,t.mapboxgl&&(this.accessToken?t.mapboxgl.accessToken=this.accessToken:t.mapboxgl.accessToken="no-token"),this._create(t);var e=this.map.getCanvas();e&&(e.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t,this._checkStyleSheet()}},{key:"_update",value:function(t,e){this._map&&(u(e=Object.assign({},this.props,e),"Mapbox"),this._updateMapViewport(t,e),this._updateMapSize(t,e),this.props=e)}},{key:"_updateMapSize",value:function(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e);(r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude)&&(this._map.jumpTo(this._getMapboxViewStateProps(e)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude))}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,u=void 0===s?0:s,l=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:u,altitude:void 0===l?1.5:l}}},{key:"_checkStyleSheet",value:function(){if("undefined"!=typeof document)try{var t=document.querySelector(".mapboxgl-missing-css");if(!("none"===window.getComputedStyle(t).display)){var e=this.props.mapboxgl.version,n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),document.head.append(n)}}catch(t){}}},{key:"_getMapboxViewStateProps",value:function(t){var e=this._getViewState(t);return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch,width:t.width,height:t.height}}}])&&a(t.prototype,e),n&&a(t,n),i;var t,e,n}();l.propTypes=i,l.defaultProps=s}).call(this,f(24))},function(t,e,n){var r;r=function(){var S=!0;function a(n){function t(t){var e=n.match(t);return e&&1<e.length&&e[1]||""}function e(t){var e=n.match(t);return e&&1<e.length&&e[2]||""}var r,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=!/like android/i.test(n)&&/android/i.test(n),a=/nexus\s*[0-6]\s*/i.test(n),s=!a&&/nexus\s*[0-9]+/i.test(n),u=/CrOS/.test(n),l=/silk/i.test(n),c=/sailfish/i.test(n),f=/tizen/i.test(n),h=/(web|hpw)(o|0)s/i.test(n),p=/windows phone/i.test(n),d=(/SamsungBrowser/i.test(n),!p&&/windows/i.test(n)),m=!i&&!l&&/macintosh/i.test(n),y=!o&&!c&&!f&&!h&&/linux/i.test(n),v=e(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=t(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(n)&&!/tablet pc/i.test(n),b=!_&&/[^-]mobi/i.test(n),x=/xbox/i.test(n);/opera/i.test(n)?r={name:"Opera",opera:S,version:g||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(n)?r={name:"Opera",opera:S,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(n)?r={name:"Samsung Internet for Android",samsungBrowser:S,version:g||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(n)?r={name:"NAVER Whale browser",whale:S,version:t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(n)?r={name:"MZ Browser",mzbrowser:S,version:t(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(n)?r={name:"Opera Coast",coast:S,version:g||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(n)?r={name:"Focus",focus:S,version:t(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(n)?r={name:"Yandex Browser",yandexbrowser:S,version:g||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(n)?r={name:"UC Browser",ucbrowser:S,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(n)?r={name:"Maxthon",maxthon:S,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(n)?r={name:"Epiphany",epiphany:S,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(n)?r={name:"Puffin",puffin:S,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(n)?r={name:"Sleipnir",sleipnir:S,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(n)?r={name:"K-Meleon",kMeleon:S,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:S}).version=v?(r.msedge=S,v):(r.msie=S,t(/iemobile\/(\d+(\.\d+)?)/i)):/msie|trident/i.test(n)?r={name:"Internet Explorer",msie:S,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:u?r={name:"Chrome",osname:"Chrome OS",chromeos:S,chromeBook:S,chrome:S,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(n)?r={name:"Microsoft Edge",msedge:S,version:v}:/vivaldi/i.test(n)?r={name:"Vivaldi",vivaldi:S,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||g}:c?r={name:"Sailfish",osname:"Sailfish OS",sailfish:S,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(n)?r={name:"SeaMonkey",seamonkey:S,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(n)?(r={name:"Firefox",firefox:S,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(n)&&(r.firefoxos=S,r.osname="Firefox OS")):l?r={name:"Amazon Silk",silk:S,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(n)?r={name:"PhantomJS",phantom:S,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(n)?r={name:"SlimerJS",slimer:S,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(n)||/rim\stablet/i.test(n)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:S,version:g||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(r={name:"WebOS",osname:"WebOS",webos:S,version:g||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(n)&&(r.touchpad=S)):/bada/i.test(n)?r={name:"Bada",osname:"Bada",bada:S,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",osname:"Tizen",tizen:S,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(n)?r={name:"QupZilla",qupzilla:S,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(n)?r={name:"Chromium",chromium:S,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(n)?r={name:"Chrome",chrome:S,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?r={name:"Android",version:g}:/safari|applewebkit/i.test(n)?(r={name:"Safari",safari:S},g&&(r.version=g)):i?(r={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(n)?{name:"Googlebot",googlebot:S,version:t(/googlebot\/(\d+(\.\d+))/i)||g}:{name:t(/^(.*)\/(.*) /),version:e(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(n)?(/(apple)?webkit\/537\.36/i.test(n)?(r.name=r.name||"Blink",r.blink=S):(r.name=r.name||"Webkit",r.webkit=S),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(n)&&(r.name=r.name||"Gecko",r.gecko=S,r.version=r.version||t(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!o&&!r.silk?!r.windowsphone&&i?(r[i]=S,r.ios=S,r.osname="iOS"):m?(r.mac=S,r.osname="macOS"):x?(r.xbox=S,r.osname="Xbox"):d?(r.windows=S,r.osname="Windows"):y&&(r.linux=S,r.osname="Linux"):(r.android=S,r.osname="Android");var w="";r.windows?w=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?w=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?w=(w=t(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):i?w=(w=t(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):o?w=t(/android[ \/-](\d+(\.\d+)*)/i):r.webos?w=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?w=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?w=t(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(w=t(/tizen[\/\s](\d+(\.\d+)*)/i)),w&&(r.osversion=w);var E=!r.windows&&w.split(".")[0];return _||s||"ipad"==i||o&&(3==E||4<=E&&!b)||r.silk?r.tablet=S:(b||"iphone"==i||"ipod"==i||o||a||r.blackberry||r.webos||r.bada)&&(r.mobile=S),r.msedge||r.msie&&10<=r.version||r.yandexbrowser&&15<=r.version||r.vivaldi&&1<=r.version||r.chrome&&20<=r.version||r.samsungBrowser&&4<=r.version||r.whale&&1===k([r.version,"1.0"])||r.mzbrowser&&1===k([r.version,"6.0"])||r.focus&&1===k([r.version,"1.0"])||r.firefox&&20<=r.version||r.safari&&6<=r.version||r.opera&&10<=r.version||r.ios&&r.osversion&&6<=r.osversion.split(".")[0]||r.blackberry&&10.1<=r.version||r.chromium&&20<=r.version?r.a=S:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=S:r.x=S,r}var s=a("undefined"!=typeof navigator&&navigator.userAgent||"");function r(t){return t.split(".").length}function i(t,e){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)r.push(e(t[n]));return r}function k(t){for(var n=Math.max(r(t[0]),r(t[1])),e=i(t,function(t){var e=n-r(t);return i((t+=new Array(e+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});0<=--n;){if(e[0][n]>e[1][n])return 1;if(e[0][n]!==e[1][n])return-1;if(0===n)return 0}}function o(t,e,n){var r=s;"string"==typeof e&&(n=e,e=void 0),void 0===e&&(e=!1),n&&(r=a(n));var i=""+r.version;for(var o in t)if(t.hasOwnProperty(o)&&r[o]){if("string"!=typeof t[o])throw new Error("Browser version in the minVersion map should be a string: "+o+": "+String(t));return k([i,t[o]])<0}return e}return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=o,s.compareVersions=k,s.check=function(t,e,n){return!o(t,e,n)},s._detect=a,s.detect=a,s},void 0!==t&&t.exports?t.exports=r():n(265)("bowser",r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={CLEAR:"CLEAR",CREATE_REQUEST:"CREATE_REQUEST",CREATE_SUCCESS:"CREATE_SUCCESS",CREATE_FAILURE:"CREATE_FAILURE",DETAIL_REQUEST:"DETAIL_REQUEST",DETAIL_SUCCESS:"DETAIL_SUCCESS",DETAIL_FAILURE:"DETAIL_FAILURE",LOANS_REQUEST:"LOANS_REQUEST",LOANS_SUCCESS:"LOANS_SUCCESS",LOANS_FAILURE:"LOANS_FAILURE"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.portfolioConstants=e.alertConstants=e.accountConstants=void 0;var r=a(n(30)),i=a(n(47)),o=a(n(48));function a(t){return t&&t.__esModule?t:{default:t}}e.accountConstants=r.default,e.alertConstants=i.default,e.portfolioConstants=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.portfolioService=e.accountService=void 0;var r=o(n(172)),i=o(n(191));function o(t){return t&&t.__esModule?t:{default:t}}e.accountService=r.default,e.portfolioService=i.default},function(s,t,u){"use strict";(function(t){var n=u(10),r=u(176),e={"Content-Type":"application/x-www-form-urlencoded"};function i(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,a={adapter:("undefined"!=typeof XMLHttpRequest?o=u(74):void 0!==t&&(o=u(74)),o),transformRequest:[function(t,e){return r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(e)}),s.exports=a}).call(this,u(24))},function(t,e,n){(function($n){$n.exports=function(){"use strict";var t,i;function y(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function u(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)v(e,n)&&(t[n]=e[n]);return v(e,"toString")&&(t.toString=e.toString),v(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,r){return Pe(t,e,n,r,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=g(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function d(t){var e=h(NaN);return null!=t?f(g(e),t):g(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var m=y.momentProperties=[];function _(t,e){var n,r,i;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=g(e)),o(e._locale)||(t._locale=e._locale),0<m.length)for(n=0;n<m.length;n++)r=m[n],o(i=e[r])||(t[r]=i);return t}var e=!1;function b(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,y.updateOffset(this),e=!1)}function x(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function S(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&E(t[r])!==E(e[r]))&&a++;return a+o}function k(t){!1===y.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(i,o){var a=!0;return f(function(){if(null!=y.deprecationHandler&&y.deprecationHandler(null,i),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var r in t+="\n["+n+"] ",arguments[0])t+=r+": "+arguments[0][r]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}k(i+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var r,M={};function T(t,e){null!=y.deprecationHandler&&y.deprecationHandler(t,e),M[t]||(k(e),M[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var n,r=f({},t);for(n in e)v(e,n)&&(u(t[n])&&u(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)v(t,n)&&!v(e,n)&&u(t[n])&&(r[n]=f({},r[n]));return r}function A(t){null!=t&&this.set(t)}y.suppressDeprecationWarnings=!1,y.deprecationHandler=null,r=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)v(t,e)&&n.push(e);return n};var O={};function z(t,e){var n=t.toLowerCase();O[n]=O[n+"s"]=O[e]=t}function I(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function R(t){var e,n,r={};for(n in t)v(t,n)&&(e=I(n))&&(r[e]=t[n]);return r}var N={};function D(t,e){N[t]=e}function L(t){var e=[];for(var n in t)e.push({unit:n,priority:N[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function j(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=0<=t;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},V={};function q(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(V[t]=i),e&&(V[e[0]]=function(){return j(i.apply(this,arguments),e[1],e[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Y(t,e){return t.isValid()?(e=W(e,t.localeData()),U[e]=U[e]||function(r){var t,i,e,o=r.match(F);for(t=0,i=o.length;t<i;t++)V[o[t]]?o[t]=V[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<i;e++)n+=C(o[e])?o[e].call(t,r):o[e];return n}}(e),U[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(B.lastIndex=0;0<=n&&B.test(t);)t=t.replace(B,r),B.lastIndex=0,n-=1;return t}var $=/\d/,H=/\d\d/,Z=/\d{3}/,G=/\d{4}/,X=/[+-]?\d{6}/,K=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,rt=/\d+/,it=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function lt(t,n,r){ut[t]=C(n)?n:function(t,e){return t&&r?r:n}}function ct(t,e){return v(ut,t)?ut[t](e._strict,e._locale):new RegExp(ft(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))}function ft(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function pt(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),c(n)&&(r=function(t,e){e[n]=E(t)}),e=0;e<t.length;e++)ht[t[e]]=r}function dt(t,i){pt(t,function(t,e,n,r){n._w=n._w||{},i(t,n._w,n,r)})}var mt=0,yt=1,vt=2,gt=3,_t=4,bt=5,xt=6,wt=7,Et=8;function St(t){return kt(t)?366:365}function kt(t){return t%4==0&&t%100!=0||t%400==0}q("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),z("year","y"),D("year",1),lt("Y",it),lt("YY",K,H),lt("YYYY",et,G),lt("YYYYY",nt,X),lt("YYYYYY",nt,X),pt(["YYYYY","YYYYYY"],mt),pt("YYYY",function(t,e){e[mt]=2===t.length?y.parseTwoDigitYear(t):E(t)}),pt("YY",function(t,e){e[mt]=y.parseTwoDigitYear(t)}),pt("Y",function(t,e){e[mt]=parseInt(t,10)}),y.parseTwoDigitYear=function(t){return E(t)+(68<E(t)?1900:2e3)};var Mt,Tt=Ct("FullYear",!0);function Ct(e,n){return function(t){return null!=t?(At(this,e,t),y.updateOffset(this,n),this):Pt(this,e)}}function Pt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function At(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&kt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ot(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?kt(t)?29:28:31-r%7%2}Mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),q("MMMM",0,0,function(t){return this.localeData().months(this,t)}),z("month","M"),D("month",8),lt("M",K),lt("MM",K,H),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),pt(["M","MM"],function(t,e){e[yt]=E(t)-1}),pt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[yt]=i:g(n).invalidMonth=t});var zt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Nt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=Mt.call(this._shortMonthsParse,a))?i:null:-1!==(i=Mt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=Mt.call(this._shortMonthsParse,a))?i:-1!==(i=Mt.call(this._longMonthsParse,a))?i:null:-1!==(i=Mt.call(this._longMonthsParse,a))?i:-1!==(i=Mt.call(this._shortMonthsParse,a))?i:null}function Dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=E(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(Dt(this,t),y.updateOffset(this,!0),this):Pt(this,"Month")}var jt=st,Ft=st;function Bt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=ft(r[e]),i[e]=ft(i[e]);for(e=0;e<24;e++)o[e]=ft(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ut(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,n){var r=7+e-n,i=(7+Ut(t,0,r).getUTCDay()-e)%7;return-i+r-1}function qt(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=Vt(t,r,i),l=1+7*(e-1)+s+u;return a=l<=0?St(o=t-1)+l:l>St(t)?(o=t+1,l-St(t)):(o=t,l),{year:o,dayOfYear:a}}function Yt(t,e,n){var r,i,o=Vt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+Wt(i,e,n)):a>Wt(t.year(),e,n)?(r=a-Wt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Wt(t,e,n){var r=Vt(t,e,n),i=Vt(t+1,e,n);return(St(t)-r+i)/7}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),D("week",5),D("isoWeek",5),lt("w",K),lt("ww",K,H),lt("W",K),lt("WW",K,H),dt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=E(t)}),q("d",0,"do","day"),q("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),q("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),q("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),D("day",11),D("weekday",11),D("isoWeekday",11),lt("d",K),lt("e",K),lt("E",K),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),dt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t}),dt(["d","e","E"],function(t,e,n,r){e[r]=E(t)});var $t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Gt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=Mt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Mt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Mt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=Mt.call(this._weekdaysParse,a))?i:-1!==(i=Mt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Mt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=Mt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Mt.call(this._weekdaysParse,a))?i:-1!==(i=Mt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Mt.call(this._minWeekdaysParse,a))?i:-1!==(i=Mt.call(this._weekdaysParse,a))?i:-1!==(i=Mt.call(this._shortWeekdaysParse,a))?i:null}var Xt=st,Kt=st,Jt=st;function Qt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(t),s.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)s[e]=ft(s[e]),u[e]=ft(u[e]),l[e]=ft(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function te(){return this.hours()%12||12}function ee(t,e){q(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ne(t,e){return e._meridiemParse}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,te),q("k",["kk",2],0,function(){return this.hours()||24}),q("hmm",0,0,function(){return""+te.apply(this)+j(this.minutes(),2)}),q("hmmss",0,0,function(){return""+te.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),ee("a",!0),ee("A",!1),z("hour","h"),D("hour",13),lt("a",ne),lt("A",ne),lt("H",K),lt("h",K),lt("k",K),lt("HH",K,H),lt("hh",K,H),lt("kk",K,H),lt("hmm",J),lt("hmmss",Q),lt("Hmm",J),lt("Hmmss",Q),pt(["H","HH"],gt),pt(["k","kk"],function(t,e,n){var r=E(t);e[gt]=24===r?0:r}),pt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),pt(["h","hh"],function(t,e,n){e[gt]=E(t),g(n).bigHour=!0}),pt("hmm",function(t,e,n){var r=t.length-2;e[gt]=E(t.substr(0,r)),e[_t]=E(t.substr(r)),g(n).bigHour=!0}),pt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[gt]=E(t.substr(0,r)),e[_t]=E(t.substr(r,2)),e[bt]=E(t.substr(i)),g(n).bigHour=!0}),pt("Hmm",function(t,e,n){var r=t.length-2;e[gt]=E(t.substr(0,r)),e[_t]=E(t.substr(r))}),pt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[gt]=E(t.substr(0,r)),e[_t]=E(t.substr(r,2)),e[bt]=E(t.substr(i))});var re,ie=Ct("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:Rt,week:{dow:0,doy:6},weekdays:$t,weekdaysMin:Zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},ae={},se={};function ue(t){return t?t.toLowerCase().replace("_","-"):t}function le(t){var e=null;if(!ae[t]&&void 0!==$n&&$n&&$n.exports)try{e=re._abbr,!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ce(e)}catch(t){}return ae[t]}function ce(t,e){var n;return t&&((n=o(e)?he(t):fe(t,e))?re=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),re._abbr}function fe(t,e){if(null===e)return delete ae[t],null;var n,r=oe;if(e.abbr=t,null!=ae[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ae[t]._config;else if(null!=e.parentLocale)if(null!=ae[e.parentLocale])r=ae[e.parentLocale]._config;else{if(null==(n=le(e.parentLocale)))return se[e.parentLocale]||(se[e.parentLocale]=[]),se[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ae[t]=new A(P(r,e)),se[t]&&se[t].forEach(function(t){fe(t.name,t.config)}),ce(t),ae[t]}function he(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return re;if(!s(t)){if(e=le(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(i=ue(t[o]).split("-"),e=i.length,n=(n=ue(t[o+1]))?n.split("-"):null;0<e;){if(r=le(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&S(i,n,!0)>=e-1)break;e--}o++}return re}(t)}function pe(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[yt]<0||11<n[yt]?yt:n[vt]<1||n[vt]>Ot(n[mt],n[yt])?vt:n[gt]<0||24<n[gt]||24===n[gt]&&(0!==n[_t]||0!==n[bt]||0!==n[xt])?gt:n[_t]<0||59<n[_t]?_t:n[bt]<0||59<n[bt]?bt:n[xt]<0||999<n[xt]?xt:-1,g(t)._overflowDayOfYear&&(e<mt||vt<e)&&(e=vt),g(t)._overflowWeeks&&-1===e&&(e=wt),g(t)._overflowWeekday&&-1===e&&(e=Et),g(t).overflow=e),t}function de(t,e,n){return null!=t?t:null!=e?e:n}function me(t){var e,n,r,i,o,a,s,u=[];if(!t._d){for(a=t,s=void 0,s=new Date(y.now()),r=a._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],t._w&&null==t._a[vt]&&null==t._a[yt]&&function(t){var e,n,r,i,o,a,s,u;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=de(e.GG,t._a[mt],Yt(Ae(),1,4).year),r=de(e.W,1),((i=de(e.E,1))<1||7<i)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var l=Yt(Ae(),o,a);n=de(e.gg,t._a[mt],l.year),r=de(e.w,l.week),null!=e.d?((i=e.d)<0||6<i)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||6<e.e)&&(u=!0)):i=o}r<1||r>Wt(n,o,a)?g(t)._overflowWeeks=!0:null!=u?g(t)._overflowWeekday=!0:(s=qt(n,r,i,o,a),t._a[mt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=de(t._a[mt],r[mt]),(t._dayOfYear>St(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=Ut(o,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[vt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=u[e]=r[e];for(;e<7;e++)t._a[e]=u[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[gt]&&0===t._a[_t]&&0===t._a[bt]&&0===t._a[xt]&&(t._nextDay=!0,t._a[gt]=0),t._d=(t._useUTC?Ut:function(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,u),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[gt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(g(t).weekdayMismatch=!0)}}var ye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/Z|[+-]\d\d(?::?\d\d)?/,_e=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xe=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,r,i,o,a,s=t._i,u=ye.exec(s)||ve.exec(s);if(u){for(g(t).iso=!0,e=0,n=_e.length;e<n;e++)if(_e[e][1].exec(u[1])){i=_e[e][0],r=!1!==_e[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=be.length;e<n;e++)if(be[e][1].exec(u[3])){o=(u[2]||" ")+be[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!ge.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),Te(t)}else t._isValid=!1}var Ee=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Se(t,e,n,r,i,o){var a,s,u=[(a=t,s=parseInt(a,10),s<=49?2e3+s:s<=999?1900+s:s),Rt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&u.push(parseInt(o,10)),u}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Me(t){var e=Ee.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(e){var n=Se(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){if(t){var r=Ht.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return g(n).weekdayMismatch=!0,n._isValid=!1}return!0}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return ke[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}(e[8],e[9],e[10]),t._d=Ut.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Te(t){if(t._f!==y.ISO_8601)if(t._f!==y.RFC_2822){t._a=[],g(t).empty=!0;var e,n,r,i,o,a=""+t._i,s=a.length,u=0;for(r=W(t._f,t._locale).match(F)||[],e=0;e<r.length;e++)i=r[e],(n=(a.match(ct(i,t))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&g(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),V[i]?(n?g(t).empty=!1:g(t).unusedTokens.push(i),p=i,m=t,null!=(d=n)&&v(ht,p)&&ht[p](d,m._a,m,p)):t._strict&&!n&&g(t).unusedTokens.push(i);g(t).charsLeftOver=s-u,0<a.length&&g(t).unusedInput.push(a),t._a[gt]<=12&&!0===g(t).bigHour&&0<t._a[gt]&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[gt]=(l=t._locale,c=t._a[gt],null==(f=t._meridiem)?c:null!=l.meridiemHour?l.meridiemHour(c,f):(null!=l.isPM&&((h=l.isPM(f))&&c<12&&(c+=12),h||12!==c||(c=0)),c)),me(t),pe(t)}else Me(t);else we(t);var l,c,f,h,p,d,m}function Ce(t){var e,n,r=t._i,i=t._f;return t._locale=t._locale||he(t._l),null===r||void 0===i&&""===r?d({nullInput:!0}):("string"==typeof r&&(t._i=r=t._locale.preparse(r)),x(r)?new b(pe(r)):(a(r)?t._d=r:s(i)?function(t){var e,n,r,i,o;if(0===t._f.length)return g(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)o=0,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Te(e),p(e)&&(o+=g(e).charsLeftOver,o+=10*g(e).unusedTokens.length,g(e).score=o,(null==r||o<r)&&(r=o,n=e));f(t,n||e)}(t):i?Te(t):o(n=(e=t)._i)?e._d=new Date(y.now()):a(n)?e._d=new Date(n.valueOf()):"string"==typeof n?function(t){var e=xe.exec(t._i);if(null!==e)return t._d=new Date(+e[1]);we(t),!1===t._isValid&&(delete t._isValid,Me(t),!1===t._isValid&&(delete t._isValid,y.createFromInputFallback(t)))}(e):s(n)?(e._a=l(n.slice(0),function(t){return parseInt(t,10)}),me(e)):u(n)?function(t){if(!t._d){var e=R(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),me(t)}}(e):c(n)?e._d=new Date(n):y.createFromInputFallback(e),p(t)||(t._d=null),t))}function Pe(t,e,n,r,i){var o,a={};return!0!==n&&!1!==n||(r=n,n=void 0),(u(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,(o=new b(pe(Ce(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ae(t,e,n,r){return Pe(t,e,n,r,!1)}y.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),y.ISO_8601=function(){},y.RFC_2822=function(){};var Oe=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:d()}),ze=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:d()});function Ie(t,e){var n,r;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Ae();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ne(t){var e=R(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Mt.call(Re,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Re.length;++r)if(t[Re[r]]){if(n)return!1;parseFloat(t[Re[r]])!==E(t[Re[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=he(),this._bubble()}function De(t){return t instanceof Ne}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function je(t,n){q(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+j(~~(t/60),2)+n+j(~~t%60,2)})}je("Z",":"),je("ZZ",""),lt("Z",at),lt("ZZ",at),pt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Be(at,t)});var Fe=/([\+\-]|\d\d)/gi;function Be(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Fe)||["-",0,0],o=60*i[1]+E(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ue(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(x(t)||a(t)?t.valueOf():Ae(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),y.updateOffset(n,!1),n):Ae(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qe(){return!!this.isValid()&&this._isUTC&&0===this._offset}y.updateOffset=function(){};var Ye=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $e(t,e){var n,r,i,o,a,s,u=t,l=null;return De(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(u={},e?u[e]=t:u.milliseconds=t):(l=Ye.exec(t))?(n="-"===l[1]?-1:1,u={y:0,d:E(l[vt])*n,h:E(l[gt])*n,m:E(l[_t])*n,s:E(l[bt])*n,ms:E(Le(1e3*l[xt]))*n}):(l=We.exec(t))?(n="-"===l[1]?-1:(l[1],1),u={y:He(l[2],n),M:He(l[3],n),w:He(l[4],n),d:He(l[5],n),h:He(l[6],n),m:He(l[7],n),s:He(l[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(o=Ae(u.from),a=Ae(u.to),i=o.isValid()&&a.isValid()?(a=Ue(a,o),o.isBefore(a)?s=Ze(o,a):((s=Ze(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),r=new Ne(u),De(t)&&v(t,"_locale")&&(r._locale=t._locale),r}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ge(r,i){return function(t,e){var n;return null===e||isNaN(+e)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Xe(this,$e(t="string"==typeof t?+t:t,e),r),this}}function Xe(t,e,n,r){var i=e._milliseconds,o=Le(e._days),a=Le(e._months);t.isValid()&&(r=null==r||r,a&&Dt(t,Pt(t,"Month")+a*n),o&&At(t,"Date",Pt(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&y.updateOffset(t,o||a))}$e.fn=Ne.prototype,$e.invalid=function(){return $e(NaN)};var Ke=Ge(1,"add"),Je=Ge(-1,"subtract");function Qe(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return r=e-o<0?(n=t.clone().add(i-1,"months"),(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),(e-o)/(n-o)),-(i+r)||0}function tn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=he(t))&&(this._locale=e),this)}y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function nn(){return this._locale}function rn(t,e){q(0,[t,t.length],0,e)}function on(t,e,n,r,i){var o;return null==t?Yt(this,r,i).year:((o=Wt(t,r,i))<e&&(e=o),function(t,e,n,r,i){var o=qt(t,e,n,r,i),a=Ut(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,i))}q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),D("weekYear",1),D("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",K,H),lt("gg",K,H),lt("GGGG",et,G),lt("gggg",et,G),lt("GGGGG",nt,X),lt("ggggg",nt,X),dt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=E(t)}),dt(["gg","GG"],function(t,e,n,r){e[r]=y.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),z("quarter","Q"),D("quarter",7),lt("Q",$),pt("Q",function(t,e){e[yt]=3*(E(t)-1)}),q("D",["DD",2],"Do","date"),z("date","D"),D("date",9),lt("D",K),lt("DD",K,H),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),pt(["D","DD"],vt),pt("Do",function(t,e){e[vt]=E(t.match(K)[0])});var an=Ct("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),D("dayOfYear",4),lt("DDD",tt),lt("DDDD",Z),pt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=E(t)}),q("m",["mm",2],0,"minute"),z("minute","m"),D("minute",14),lt("m",K),lt("mm",K,H),pt(["m","mm"],_t);var sn=Ct("Minutes",!1);q("s",["ss",2],0,"second"),z("second","s"),D("second",15),lt("s",K),lt("ss",K,H),pt(["s","ss"],bt);var un,ln=Ct("Seconds",!1);for(q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),D("millisecond",16),lt("S",tt,$),lt("SS",tt,H),lt("SSS",tt,Z),un="SSSS";un.length<=9;un+="S")lt(un,rt);function cn(t,e){e[xt]=E(1e3*("0."+t))}for(un="S";un.length<=9;un+="S")pt(un,cn);var fn=Ct("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var hn=b.prototype;function pn(t){return t}hn.add=Ke,hn.calendar=function(t,e){var n=t||Ae(),r=Ue(n,this).startOf("day"),i=y.calendarFormat(this,r)||"sameElse",o=e&&(C(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Ae(n)))},hn.clone=function(){return new b(this)},hn.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ue(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=I(e)){case"year":o=Qe(this,r)/12;break;case"month":o=Qe(this,r);break;case"quarter":o=Qe(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:w(o)},hn.endOf=function(t){return void 0===(t=I(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},hn.format=function(t){t||(t=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);var e=Y(this,t);return this.localeData().postformat(e)},hn.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ae(t).isValid())?$e({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.fromNow=function(t){return this.from(Ae(),t)},hn.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Ae(t).isValid())?$e({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.toNow=function(t){return this.to(Ae(),t)},hn.get=function(t){return C(this[t=I(t)])?this[t]():this},hn.invalidAt=function(){return g(this).overflow},hn.isAfter=function(t,e){var n=x(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},hn.isBefore=function(t,e){var n=x(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},hn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},hn.isSame=function(t,e){var n,r=x(t)?t:Ae(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},hn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hn.isValid=function(){return p(this)},hn.lang=en,hn.locale=tn,hn.localeData=nn,hn.max=ze,hn.min=Oe,hn.parsingFlags=function(){return f({},g(this))},hn.set=function(t,e){if("object"==typeof t)for(var n=L(t=R(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(C(this[t=I(t)]))return this[t](e);return this},hn.startOf=function(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},hn.subtract=Je,hn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},hn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?Y(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.year=Tt,hn.isLeapYear=function(){return kt(this.year())},hn.weekYear=function(t){return on.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(t){return on.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hn.month=Lt,hn.daysInMonth=function(){return Ot(this.year(),this.month())},hn.week=hn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hn.isoWeek=hn.isoWeeks=function(t){var e=Yt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hn.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},hn.isoWeeksInYear=function(){return Wt(this.year(),1,4)},hn.date=an,hn.day=hn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"==typeof e?isNaN(e)?"number"!=typeof(e=n.weekdaysParse(e))?null:e:parseInt(e,10):e,this.add(t-r,"d")):r},hn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,r=(e=t,n=this.localeData(),"string"!=typeof e?isNaN(e)?null:e:n.weekdaysParse(e)%7||7);return this.day(this.day()%7?r:r-7)},hn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},hn.hour=hn.hours=ie,hn.minute=hn.minutes=sn,hn.second=hn.seconds=ln,hn.millisecond=hn.milliseconds=fn,hn.utcOffset=function(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?i:Ve(this);if("string"==typeof t){if(null===(t=Be(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Ve(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?Xe(this,$e(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this},hn.utc=function(t){return this.utcOffset(0,t)},hn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},hn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Be(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},hn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=qe,hn.isUTC=qe,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=n("dates accessor is deprecated. Use date instead.",an),hn.months=n("months accessor is deprecated. Use month instead",Lt),hn.years=n("years accessor is deprecated. Use year instead",Tt),hn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),hn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(_(t,this),(t=Ce(t))._a){var e=t._isUTC?h(t._a):Ae(t._a);this._isDSTShifted=this.isValid()&&0<S(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var dn=A.prototype;function mn(t,e,n,r){var i=he(),o=h().set(r,e);return i[n](o,t)}function yn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return mn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mn(t,r,n,"month");return i}function vn(t,e,n,r){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var i,o=he(),a=t?o._week.dow:0;if(null!=n)return mn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=mn(e,(i+a)%7,r,"day");return s}dn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r},dn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return!e&&n?(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]):e},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(t){return this._ordinal.replace("%d",t)},dn.preparse=pn,dn.postformat=pn,dn.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)},dn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},dn.set=function(t){var e,n;for(n in t)C(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dn.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||zt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},dn.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[zt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return Nt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},dn.monthsRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Ft),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(t){return this._monthsParseExact?(v(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=jt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(t){return Yt(t,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},dn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},dn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},dn.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Gt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},dn.weekdaysRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=Xt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},dn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ce("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),y.lang=n("moment.lang is deprecated. Use moment.locale instead.",ce),y.langData=n("moment.langData is deprecated. Use moment.localeData instead.",he);var gn=Math.abs;function _n(t,e,n,r){var i=$e(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function xn(t){return 4800*t/146097}function wn(t){return 146097*t/4800}function En(t){return function(){return this.as(t)}}var Sn=En("ms"),kn=En("s"),Mn=En("m"),Tn=En("h"),Cn=En("d"),Pn=En("w"),An=En("M"),On=En("y");function zn(t){return function(){return this.isValid()?this._data[t]:NaN}}var In=zn("milliseconds"),Rn=zn("seconds"),Nn=zn("minutes"),Dn=zn("hours"),Ln=zn("days"),jn=zn("months"),Fn=zn("years"),Bn=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=Math.abs;function qn(t){return(0<t)-(t<0)||+t}function Yn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);t=w(n/60),e=w(t/60),n%=60,t%=60;var o=w(i/12),a=i%=12,s=r,u=e,l=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var h=f<0?"-":"",p=qn(this._months)!==qn(f)?"-":"",d=qn(this._days)!==qn(f)?"-":"",m=qn(this._milliseconds)!==qn(f)?"-":"";return h+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?d+s+"D":"")+(u||l||c?"T":"")+(u?m+u+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var Wn=Ne.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var t=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),t.milliseconds=gn(t.milliseconds),t.seconds=gn(t.seconds),t.minutes=gn(t.minutes),t.hours=gn(t.hours),t.months=gn(t.months),t.years=gn(t.years),this},Wn.add=function(t,e){return _n(this,t,e,1)},Wn.subtract=function(t,e){return _n(this,t,e,-1)},Wn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+r/864e5,n=this._months+xn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(wn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Wn.asMilliseconds=Sn,Wn.asSeconds=kn,Wn.asMinutes=Mn,Wn.asHours=Tn,Wn.asDays=Cn,Wn.asWeeks=Pn,Wn.asMonths=An,Wn.asYears=On,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Wn._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*bn(wn(s)+a),s=a=0),u.milliseconds=o%1e3,t=w(o/1e3),u.seconds=t%60,e=w(t/60),u.minutes=e%60,n=w(e/60),u.hours=n%24,a+=w(n/24),i=w(xn(a)),s+=i,a-=bn(wn(i)),r=w(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Wn.clone=function(){return $e(this)},Wn.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Wn.milliseconds=In,Wn.seconds=Rn,Wn.minutes=Nn,Wn.hours=Dn,Wn.days=Ln,Wn.weeks=function(){return w(this.days()/7)},Wn.months=jn,Wn.years=Fn,Wn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,o,a,s,u,l,c,f,h=this.localeData(),p=(n=!t,r=h,i=$e(e=this).abs(),o=Bn(i.as("s")),a=Bn(i.as("m")),s=Bn(i.as("h")),u=Bn(i.as("d")),l=Bn(i.as("M")),c=Bn(i.as("y")),(f=o<=Un.ss&&["s",o]||o<Un.s&&["ss",o]||a<=1&&["m"]||a<Un.m&&["mm",a]||s<=1&&["h"]||s<Un.h&&["hh",s]||u<=1&&["d"]||u<Un.d&&["dd",u]||l<=1&&["M"]||l<Un.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=n,f[3]=0<+e,f[4]=r,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,f));return t&&(p=h.pastFuture(+this,p)),h.postformat(p)},Wn.toISOString=Yn,Wn.toString=Yn,Wn.toJSON=Yn,Wn.locale=tn,Wn.localeData=nn,Wn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),Wn.lang=en,q("X",0,0,"unix"),q("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),pt("x",function(t,e,n){n._d=new Date(E(t))}),y.version="2.22.2",t=Ae,y.fn=hn,y.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},y.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},y.now=function(){return Date.now?Date.now():+new Date},y.utc=h,y.unix=function(t){return Ae(1e3*t)},y.months=function(t,e){return yn(t,e,"months")},y.isDate=a,y.locale=ce,y.invalid=d,y.duration=$e,y.isMoment=x,y.weekdays=function(t,e,n){return vn(t,e,n,"weekdays")},y.parseZone=function(){return Ae.apply(null,arguments).parseZone()},y.localeData=he,y.isDuration=De,y.monthsShort=function(t,e){return yn(t,e,"monthsShort")},y.weekdaysMin=function(t,e,n){return vn(t,e,n,"weekdaysMin")},y.defineLocale=fe,y.updateLocale=function(t,e){if(null!=e){var n,r,i=oe;null!=(r=le(t))&&(i=r._config),e=P(i,e),(n=new A(e)).parentLocale=ae[t],ae[t]=n,ce(t)}else null!=ae[t]&&(null!=ae[t].parentLocale?ae[t]=ae[t].parentLocale:null!=ae[t]&&delete ae[t]);return ae[t]},y.locales=function(){return r(ae)},y.weekdaysShort=function(t,e,n){return vn(t,e,n,"weekdaysShort")},y.normalizeUnits=I,y.relativeTimeRounding=function(t){return void 0!==t?"function"==typeof t&&(Bn=t,!0):Bn},y.relativeTimeThreshold=function(t,e){return void 0!==Un[t]&&(void 0===e?Un[t]:(Un[t]=e,"s"===t&&(Un.ss=e-1),!0))},y.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},y.prototype=hn,y.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},y}()}).call(this,n(193)(t))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))l.call(n,a)&&(i[a]=n[a]);if(u){r=u(n);for(var s=0;s<r.length;s++)c.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},function(t,e,n){"use strict";t.exports={current:null}},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator;t.exports=function(t){var e=t&&(r&&t[r]||t["@@iterator"]);if("function"==typeof e)return e}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){var d=n(287),m=n(32),y=n(92),v="prototype",g=function(t,e,n){var r,i,o,a=t&g.F,s=t&g.G,u=t&g.S,l=t&g.P,c=t&g.B,f=t&g.W,h=s?m:m[e]||(m[e]={}),p=s?d:u?d[e]:(d[e]||{})[v];for(r in s&&(n=e),n)(i=!a&&p&&r in p)&&r in h||(o=i?p[r]:n[r],h[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?y(o,d):f&&p[r]==o?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[v]=e[v],t}(o):l&&"function"==typeof o?y(Function.call,o):o,l&&((h[v]||(h[v]={}))[r]=o))};g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,t.exports=g},function(t,e,n){"use strict";n.r(e);var s=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},S=function(o){var n;return 1===o.length&&(n=o,o=function(t,e){return s(n(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}};var r=S(s),i=r.right,o=r.left,m=i,a=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function c(t,e){return[t,e]}var u=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)l[o]=n(a,e[i]);return l},l=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},f=function(t){return null===t?NaN:+t},h=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=f(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=f(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(1<o)return u/(o-1)},p=function(t,e){var n=h(t,e);return n?Math.sqrt(n):n},y=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]},d=Array.prototype,v=d.slice,g=d.map,_=function(t){return function(){return t}},b=function(t){return t},k=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},x=Math.sqrt(50),w=Math.sqrt(10),E=Math.sqrt(2),M=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=T(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function T(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(x<=o?10:w<=o?5:E<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(x<=o?10:w<=o?5:E<=o?2:1)}function C(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return x<=o?i*=10:w<=o?i*=5:E<=o&&(i*=2),e<t?-i:i}var P=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},A=function(){var h=b,p=y,d=P;function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var o=p(i),a=o[0],s=o[1],u=d(i,a,s);Array.isArray(u)||(u=C(a,s,u),u=k(Math.ceil(a/u)*u,s,u));for(var l=u.length;u[0]<=a;)u.shift(),--l;for(;u[l-1]>s;)u.pop(),--l;var c,f=new Array(l+1);for(e=0;e<=l;++e)(c=f[e]=[]).x0=0<e?u[e-1]:a,c.x1=e<l?u[e]:s;for(e=0;e<r;++e)a<=(n=i[e])&&n<=s&&f[m(u,n,0,l)].push(t[e]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:_(t),e):h},e.domain=function(t){return arguments.length?(p="function"==typeof t?t:_([t[0],t[1]]),e):p},e.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?_(v.call(t)):_(t),e):d},e},O=function(t,e,n){if(null==n&&(n=f),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},z=function(t,e,n){return t=g.call(t,f).sort(s),Math.ceil((n-e)/(2*(O(t,.75)-O(t,.25))*Math.pow(t.length,-1/3)))},I=function(t,e,n){return Math.ceil((n-e)/(3.5*p(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=f(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=f(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},D=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=f(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=f(e(t[i],i,t)))||o.push(n);return O(o.sort(s),.5)},L=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n},j=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},B=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=s);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},U=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},V=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},q=function(t){if(!(i=t.length))return[];for(var e=-1,n=j(t,Y),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function Y(t){return t.length}var W=function(){return q(arguments)},$=Array.prototype.slice,H=function(t){return t},Z=1,G=2,X=3,K=4,J=1e-6;function Q(t){return"translate("+(t+.5)+",0)"}function tt(t){return"translate(0,"+(t+.5)+")"}function et(){return!this.__axis}function nt(m,y){var v=[],g=null,_=null,b=6,x=6,w=3,E=m===Z||m===K?-1:1,S=m===K||m===G?"x":"y",k=m===Z||m===X?Q:tt;function e(t){var e=null==g?y.ticks?y.ticks.apply(y,v):y.domain():g,n=null==_?y.tickFormat?y.tickFormat.apply(y,v):H:_,r=Math.max(b,0)+w,i=y.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(y.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(y.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=u.selectAll(".tick").data(e,y).order(),f=c.exit(),h=c.enter().append("g").attr("class","tick"),p=c.select("line"),d=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),c=c.merge(h),p=p.merge(h.append("line").attr("stroke","currentColor").attr(S+"2",E*b)),d=d.merge(h.append("text").attr("fill","currentColor").attr(S,E*r).attr("dy",m===Z?"0em":m===X?"0.71em":"0.32em")),t!==u&&(l=l.transition(t),c=c.transition(t),p=p.transition(t),d=d.transition(t),f=f.transition(t).attr("opacity",J).attr("transform",function(t){return isFinite(t=s(t))?k(t):this.getAttribute("transform")}),h.attr("opacity",J).attr("transform",function(t){var e=this.parentNode.__axis;return k(e&&isFinite(e=e(t))?e:s(t))})),f.remove(),l.attr("d",m===K||m==G?x?"M"+E*x+","+o+"H0.5V"+a+"H"+E*x:"M0.5,"+o+"V"+a:x?"M"+o+","+E*x+"V0.5H"+a+"V"+E*x:"M"+o+",0.5H"+a),c.attr("opacity",1).attr("transform",function(t){return k(s(t))}),p.attr(S+"2",E*b),d.attr(S,E*r).text(n),u.filter(et).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",m===G?"start":m===K?"end":"middle"),u.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(y=t,e):y},e.ticks=function(){return v=$.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:$.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(g=null==t?null:$.call(t),e):g&&g.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function rt(t){return nt(Z,t)}function it(t){return nt(G,t)}function ot(t){return nt(X,t)}function at(t){return nt(K,t)}var st={value:function(){}};function ut(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new lt(r)}function lt(t){this._=t}function ct(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ft(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=st,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}lt.prototype=ut.prototype={constructor:lt,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=ft(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ft(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=ct(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lt(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ht=ut,pt="http://www.w3.org/1999/xhtml",dt={svg:"http://www.w3.org/2000/svg",xhtml:pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),dt.hasOwnProperty(e)?{space:dt[e],local:t}:t};var yt=function(t){var e=mt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===pt&&t.documentElement.namespaceURI===pt?t.createElement(n):t.createElementNS(e,n)}})(e)};function vt(){}var gt=function(t){return null==t?vt:function(){return this.querySelector(t)}};function _t(){return[]}var bt=function(t){return null==t?_t:function(){return this.querySelectorAll(t)}},xt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var wt=document.documentElement;if(!wt.matches){var Et=wt.webkitMatchesSelector||wt.msMatchesSelector||wt.mozMatchesSelector||wt.oMatchesSelector;xt=function(t){return function(){return Et.call(this,t)}}}}var St=xt,kt=function(t){return new Array(t.length)};function Mt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Mt.prototype={constructor:Mt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tt(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Mt(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Ct(t,e,n,r,i,o,a){var s,u,l,c={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=l="$"+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)(u=c[l="$"+a.call(t,o[s],s,o)])?((r[s]=u).__data__=o[s],c[l]=null):n[s]=new Mt(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function Pt(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var At=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Ot(t,e){return t.style.getPropertyValue(e)||At(t).getComputedStyle(t,null).getPropertyValue(e)}function zt(t){return t.trim().split(/^|\s+/)}function It(t){return t.classList||new Rt(t)}function Rt(t){this._node=t,this._names=zt(t.getAttribute("class")||"")}function Nt(t,e){for(var n=It(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Dt(t,e){for(var n=It(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}Rt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};function Lt(){this.textContent=""}function jt(){this.innerHTML=""}function Ft(){this.nextSibling&&this.parentNode.appendChild(this)}function Bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ut(){return null}function Vt(){var t=this.parentNode;t&&t.removeChild(this)}function qt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Yt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Wt={},$t=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Wt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ht(n,t,e){return n=Zt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Zt(n,r,i){return function(t){var e=$t;$t=t;try{n.call(this,this.__data__,r,i)}finally{$t=e}}}function Gt(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function Xt(u,l,c){var f=Wt.hasOwnProperty(u.type)?Ht:Zt;return function(t,e,n){var r,i=this.__on,o=f(l,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=c),void(r.value=l);this.addEventListener(u.type,o,c),r={type:u.type,name:u.name,value:l,listener:o,capture:c},i?i.push(r):this.__on=[r]}}function Kt(t,e,n,r){var i=$t;t.sourceEvent=$t,$t=t;try{return e.apply(n,r)}finally{$t=i}}function Jt(t,e,n){var r=At(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var Qt=[null];function te(t,e){this._groups=t,this._parents=e}function ee(){return new te([[document.documentElement]],Qt)}te.prototype=ee.prototype={constructor:te,select:function(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new te(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new te(r,i)},filter:function(t){"function"!=typeof t&&(t=St(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new te(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n,r=e?Ct:Tt,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,d=t.call(f,f&&f.__data__,c,i),m=d.length,y=u[c]=new Array(m),v=s[c]=new Array(m);r(f,h,y,v,l[c]=new Array(p),d,e);for(var g,_,b=0,x=0;b<m;++b)if(g=y[b]){for(x<=b&&(x=b+1);!(_=v[x])&&++x<m;);g._next=_||null}}return(s=new te(s,i))._enter=u,s._exit=l,s},enter:function(){return new te(this._enter||this._groups.map(kt),this._parents)},exit:function(){return new te(this._exit||this._groups.map(kt),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new te(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=Pt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new te(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=mt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Ot(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=zt(t+"");if(arguments.length<2){for(var r=It(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Nt:Dt)(this,t)}}:e?function(t){return function(){Nt(this,t)}}:function(t){return function(){Dt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Lt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?jt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Ft)},lower:function(){return this.each(Bt)},append:function(t){var e="function"==typeof t?t:yt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:yt(t),r=null==e?Ut:"function"==typeof e?e:gt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Vt)},clone:function(t){return this.select(t?Yt:qt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?Xt:Gt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Jt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Jt(this,t,e)}})(t,e))}};var ne=ee,re=function(t){return"string"==typeof t?new te([[document.querySelector(t)]],[document.documentElement]):new te([[t]],Qt)},ie=function(t){return re(yt(t).call(document.documentElement))},oe=0;function ae(){return new se}function se(){this._="@"+(++oe).toString(36)}se.prototype=ae.prototype={constructor:se,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var ue=function(){for(var t,e=$t;t=e.sourceEvent;)e=t;return e},le=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ce=function(t){var e=ue();return e.changedTouches&&(e=e.changedTouches[0]),le(t,e)},fe=function(t){return"string"==typeof t?new te([document.querySelectorAll(t)],[document.documentElement]):new te([null==t?[]:t],Qt)},he=function(t,e,n){arguments.length<3&&(n=e,e=ue().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return le(t,r);return null},pe=function(t,e){null==e&&(e=ue().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=le(t,e[n]);return i};function de(){$t.stopImmediatePropagation()}var me=function(){$t.preventDefault(),$t.stopImmediatePropagation()},ye=function(t){var e=t.document.documentElement,n=re(t).on("dragstart.drag",me,!0);"onselectstart"in e?n.on("selectstart.drag",me,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function ve(t,e){var n=t.document.documentElement,r=re(t).on("dragstart.drag",null);e&&(r.on("click.drag",me,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ge=function(t){return function(){return t}};function _e(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function be(){return!$t.button}function xe(){return this.parentNode}function we(t){return null==t?{x:$t.x,y:$t.y}:t}function Ee(){return"ontouchstart"in this}_e.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Se=function(){var n,r,i,o,a=be,s=xe,e=we,u=Ee,d={},m=ht("start","drag","end"),y=0,l=0;function v(t){t.on("mousedown.drag",c).filter(u).on("touchstart.drag",p).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!o&&a.apply(this,arguments)){var t=b("mouse",s.apply(this,arguments),ce,this,arguments);t&&(re($t.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),ye($t.view),de(),i=!1,n=$t.clientX,r=$t.clientY,t("start"))}}function f(){if(me(),!i){var t=$t.clientX-n,e=$t.clientY-r;i=l<t*t+e*e}d.mouse("drag")}function h(){re($t.view).on("mousemove.drag mouseup.drag",null),ve($t.view,i),me(),d.mouse("end")}function p(){if(a.apply(this,arguments)){var t,e,n=$t.changedTouches,r=s.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=b(n[t].identifier,r,he,this,arguments))&&(de(),e("start"))}}function g(){var t,e,n=$t.changedTouches,r=n.length;for(t=0;t<r;++t)(e=d[n[t].identifier])&&(me(),e("drag"))}function _(){var t,e,n=$t.changedTouches,r=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(e=d[n[t].identifier])&&(de(),e("end"))}function b(i,o,a,s,u){var l,c,f,h=a(o,i),p=m.copy();if(Kt(new _e(v,"beforestart",l,i,y,h[0],h[1],0,0,p),function(){return null!=($t.subject=l=e.apply(s,u))&&(c=l.x-h[0]||0,f=l.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":d[i]=t,n=y++;break;case"end":delete d[i],--y;case"drag":h=a(o,i),n=y}Kt(new _e(v,e,l,i,n,h[0]+c,h[1]+f,h[0]-r[0],h[1]-r[1],p),p.apply,p,[e,s,u])}}return v.filter=function(t){return arguments.length?(a="function"==typeof t?t:ge(!!t),v):a},v.container=function(t){return arguments.length?(s="function"==typeof t?t:ge(t),v):s},v.subject=function(t){return arguments.length?(e="function"==typeof t?t:ge(t),v):e},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:ge(!!t),v):u},v.on=function(){var t=m.on.apply(m,arguments);return t===m?v:t},v.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,v):Math.sqrt(l)},v},ke=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Me(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Te(){}var Ce="\\s*([+-]?\\d+)\\s*",Pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oe=/^#([0-9a-f]{3})$/,ze=/^#([0-9a-f]{6})$/,Ie=new RegExp("^rgb\\("+[Ce,Ce,Ce]+"\\)$"),Re=new RegExp("^rgb\\("+[Ae,Ae,Ae]+"\\)$"),Ne=new RegExp("^rgba\\("+[Ce,Ce,Ce,Pe]+"\\)$"),De=new RegExp("^rgba\\("+[Ae,Ae,Ae,Pe]+"\\)$"),Le=new RegExp("^hsl\\("+[Pe,Ae,Ae]+"\\)$"),je=new RegExp("^hsla\\("+[Pe,Ae,Ae,Pe]+"\\)$"),Fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Be(t){var e;return t=(t+"").trim().toLowerCase(),(e=Oe.exec(t))?new We((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ze.exec(t))?Ue(parseInt(e[1],16)):(e=Ie.exec(t))?new We(e[1],e[2],e[3],1):(e=Re.exec(t))?new We(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ne.exec(t))?Ve(e[1],e[2],e[3],e[4]):(e=De.exec(t))?Ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Le.exec(t))?He(e[1],e[2]/100,e[3]/100,1):(e=je.exec(t))?He(e[1],e[2]/100,e[3]/100,e[4]):Fe.hasOwnProperty(t)?Ue(Fe[t]):"transparent"===t?new We(NaN,NaN,NaN,0):null}function Ue(t){return new We(t>>16&255,t>>8&255,255&t,1)}function Ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new We(t,e,n,r)}function qe(t){return t instanceof Te||(t=Be(t)),t?new We((t=t.rgb()).r,t.g,t.b,t.opacity):new We}function Ye(t,e,n,r){return 1===arguments.length?qe(t):new We(t,e,n,null==r?1:r)}function We(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function $e(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function He(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Ge(t,e,n,r)}function Ze(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ge)return new Ge(t.h,t.s,t.l,t.opacity);if(t instanceof Te||(t=Be(t)),!t)return new Ge;if(t instanceof Ge)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=0<u&&u<1?0:a,new Ge(a,s,u,t.opacity)}(t):new Ge(t,e,n,null==r?1:r)}function Ge(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ke(Te,Be,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ke(We,Ye,Me(Te,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new We(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+$e(this.r)+$e(this.g)+$e(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ke(Ge,Ze,Me(Te,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ge(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ge(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new We(Xe(240<=t?t-240:t+120,i,r),Xe(t,i,r),Xe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ke=Math.PI/180,Je=180/Math.PI,Qe=.96422,tn=1,en=.82521,nn=4/29,rn=6/29*3*(6/29),on=6/29*(6/29)*(6/29);function an(t){if(t instanceof ln)return new ln(t.l,t.a,t.b,t.opacity);if(t instanceof vn){if(isNaN(t.h))return new ln(t.l,0,0,t.opacity);var e=t.h*Ke;return new ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof We||(t=qe(t));var n,r,i=pn(t.r),o=pn(t.g),a=pn(t.b),s=cn((.2225045*i+.7168786*o+.0606169*a)/tn);return i===o&&o===a?n=r=s:(n=cn((.4360747*i+.3850649*o+.1430804*a)/Qe),r=cn((.0139322*i+.0971045*o+.7141733*a)/en)),new ln(116*s-16,500*(n-s),200*(s-r),t.opacity)}function sn(t,e){return new ln(t,0,0,null==e?1:e)}function un(t,e,n,r){return 1===arguments.length?an(t):new ln(t,e,n,null==r?1:r)}function ln(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function cn(t){return on<t?Math.pow(t,1/3):t/rn+nn}function fn(t){return 6/29<t?t*t*t:rn*(t-nn)}function hn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function pn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function dn(t){if(t instanceof vn)return new vn(t.h,t.c,t.l,t.opacity);if(t instanceof ln||(t=an(t)),0===t.a&&0===t.b)return new vn(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Je;return new vn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function mn(t,e,n,r){return 1===arguments.length?dn(t):new vn(n,e,t,null==r?1:r)}function yn(t,e,n,r){return 1===arguments.length?dn(t):new vn(t,e,n,null==r?1:r)}function vn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}ke(ln,un,Me(Te,{brighter:function(t){return new ln(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ln(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new We(hn(3.1338561*(e=Qe*fn(e))-1.6168667*(t=tn*fn(t))-.4906146*(n=en*fn(n))),hn(-.9787684*e+1.9161415*t+.033454*n),hn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ke(vn,yn,Me(Te,{brighter:function(t){return new vn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new vn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return an(this).rgb()}}));var gn=-.29227,_n=-.90649,bn=1.97294,xn=bn*_n,wn=1.78277*bn,En=1.78277*gn- -.14861*_n;function Sn(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);t instanceof We||(t=qe(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(En*r+xn*e-wn*n)/(En+xn-wn),o=r-i,a=(bn*(n-i)-gn*o)/_n,s=Math.sqrt(a*a+o*o)/(bn*i*(1-i)),u=s?Math.atan2(a,o)*Je-120:NaN;return new kn(u<0?u+360:u,s,i,t.opacity)}(t):new kn(t,e,n,null==r?1:r)}function kn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Mn(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ke(kn,Sn,Me(Te,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ke,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new We(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(gn*r+_n*i)),255*(e+n*(bn*r)),this.opacity)}}));var Tn=function(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return Mn((t-e/s)*s,i,n,r,o)}},Cn=function(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],r=a[e%s],i=a[(e+1)%s],o=a[(e+2)%s];return Mn((t-e/s)*s,n,r,i,o)}},Pn=function(t){return function(){return t}};function An(e,n){return function(t){return e+t*n}}function On(t,e){var n=e-t;return n?An(t,180<n||n<-180?n-360*Math.round(n/360):n):Pn(isNaN(t)?e:t)}function zn(o){return 1==(o=+o)?In:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):Pn(isNaN(t)?e:t);var n,r,i}}function In(t,e){var n=e-t;return n?An(t,n):Pn(isNaN(t)?e:t)}var Rn=function t(e){var a=zn(e);function n(e,t){var n=a((e=Ye(e)).r,(t=Ye(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=In(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function Nn(s){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Ye(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=s(i),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}var Dn=Nn(Tn),Ln=Nn(Cn),jn=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Gn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},Fn=function(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}},Bn=function(e,n){return n-=e=+e,function(t){return e+n*t}},Un=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Gn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qn=new RegExp(Vn.source,"g");var Yn,Wn,$n,Hn,Zn=function(t,r){var e,n,i,o,a,s=Vn.lastIndex=qn.lastIndex=0,u=-1,l=[],c=[];for(t+="",r+="";(e=Vn.exec(t))&&(n=qn.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[u]?l[u]+=i:l[++u]=i),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,c.push({i:u,x:Bn(e,n)})),s=qn.lastIndex;return s<r.length&&(i=r.slice(s),l[u]?l[u]+=i:l[++u]=i),l.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=c.length,function(t){for(var e,n=0;n<r;++n)l[(e=c[n]).i]=e.x(t);return l.join("")})},Gn=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Pn(e):("number"===r?Bn:"string"===r?(n=Be(e))?(e=n,Rn):Zn:e instanceof Be?Rn:e instanceof Date?Fn:Array.isArray(e)?jn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Un:Bn)(t,e)},Xn=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},Kn=function(t,e){var n=On(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Jn=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},Qn=180/Math.PI,tr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},er=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Qn,skewX:Math.atan(u)*Qn,scaleX:a,scaleY:s}};function nr(h,p,d,m){function y(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,u,l,c=[],f=[];return t=h(t),e=h(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,p,null,d);o.push({i:a-4,x:Bn(t,n)},{i:a-2,x:Bn(e,r)})}else(n||r)&&i.push("translate("+n+p+r+d)}(t.translateX,t.translateY,e.translateX,e.translateY,c,f),n=t.rotate,r=e.rotate,i=c,o=f,n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),o.push({i:i.push(y(i)+"rotate(",null,m)-2,x:Bn(n,r)})):r&&i.push(y(i)+"rotate("+r+m),a=t.skewX,s=e.skewX,u=c,l=f,a!==s?l.push({i:u.push(y(u)+"skewX(",null,m)-2,x:Bn(a,s)}):s&&u.push(y(u)+"skewX("+s+m),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(y(i)+"scale(",null,",",null,")");o.push({i:a-4,x:Bn(t,n)},{i:a-2,x:Bn(e,r)})}else 1===n&&1===r||i.push(y(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,c,f),t=e=null,function(t){for(var e,n=-1,r=f.length;++n<r;)c[(e=f[n]).i]=e.x(t);return c.join("")}}}var rr=nr(function(t){return"none"===t?tr:(Yn||(Yn=document.createElement("DIV"),Wn=document.documentElement,$n=document.defaultView),Yn.style.transform=t,t=$n.getComputedStyle(Wn.appendChild(Yn),null).getPropertyValue("transform"),Wn.removeChild(Yn),t=t.slice(7,-1).split(","),er(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ir=nr(function(t){return null==t?tr:(Hn||(Hn=document.createElementNS("http://www.w3.org/2000/svg","g")),Hn.setAttribute("transform",t),(t=Hn.transform.baseVal.consolidate())?(t=t.matrix,er(t.a,t.b,t.c,t.d,t.e,t.f)):tr)},", ",")",")"),or=Math.SQRT2;function ar(t){return((t=Math.exp(t))+1/t)/2}var sr=function(t,e){var n,a,s=t[0],u=t[1],l=t[2],r=e[0],i=e[1],o=e[2],c=r-s,f=i-u,h=c*c+f*f;if(h<1e-12)a=Math.log(o/l)/or,n=function(t){return[s+t*c,u+t*f,l*Math.exp(or*t*a)]};else{var p=Math.sqrt(h),d=(o*o-l*l+4*h)/(2*l*2*p),m=(o*o-l*l-4*h)/(2*o*2*p),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);a=(v-y)/or,n=function(t){var e,n,r=t*a,i=ar(y),o=l/(2*p)*(i*(n=or*r+y,((n=Math.exp(2*n))-1)/(n+1))-(e=y,((e=Math.exp(e))-1/e)/2));return[s+o*c,u+o*f,l*i/ar(or*r+y)]}}return n.duration=1e3*a,n};function ur(a){return function(e,t){var n=a((e=Ze(e)).h,(t=Ze(t)).h),r=In(e.s,t.s),i=In(e.l,t.l),o=In(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var lr=ur(On),cr=ur(In);function fr(e,t){var n=In((e=un(e)).l,(t=un(t)).l),r=In(e.a,t.a),i=In(e.b,t.b),o=In(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function hr(a){return function(e,t){var n=a((e=yn(e)).h,(t=yn(t)).h),r=In(e.c,t.c),i=In(e.l,t.l),o=In(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var pr=hr(On),dr=hr(In);function mr(s){return function t(a){function e(e,t){var n=s((e=Sn(e)).h,(t=Sn(t)).h),r=In(e.s,t.s),i=In(e.l,t.l),o=In(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var yr=mr(On),vr=mr(In);function gr(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var _r,br,xr=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},wr=0,Er=0,Sr=0,kr=1e3,Mr=0,Tr=0,Cr=0,Pr="object"==typeof performance&&performance.now?performance:Date,Ar="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Or(){return Tr||(Ar(zr),Tr=Pr.now()+Cr)}function zr(){Tr=0}function Ir(){this._call=this._time=this._next=null}function Rr(t,e,n){var r=new Ir;return r.restart(t,e,n),r}function Nr(){Or(),++wr;for(var t,e=_r;e;)0<=(t=Tr-e._time)&&e._call.call(null,t),e=e._next;--wr}function Dr(){Tr=(Mr=Pr.now())+Cr,wr=Er=0;try{Nr()}finally{wr=0,function(){var t,e,n=_r,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:_r=e);br=t,jr(r)}(),Tr=0}}function Lr(){var t=Pr.now(),e=t-Mr;kr<e&&(Cr-=e,Mr=t)}function jr(t){wr||(Er&&(Er=clearTimeout(Er)),24<t-Tr?(t<1/0&&(Er=setTimeout(Dr,t-Pr.now()-Cr)),Sr&&(Sr=clearInterval(Sr))):(Sr||(Mr=Pr.now(),Sr=setInterval(Lr,kr)),wr=1,Ar(Dr)))}Ir.prototype=Rr.prototype={constructor:Ir,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Or():+n)+(null==e?0:+e),this._next||br===this||(br?br._next=this:_r=this,br=this),this._call=t,this._time=n,jr()},stop:function(){this._call&&(this._call=null,this._time=1/0,jr())}};var Fr=function(e,n,t){var r=new Ir;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},Br=function(n,r,i){var o=new Ir,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?Or():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o},Ur=ht("start","end","interrupt"),Vr=[],qr=0,Yr=2,Wr=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,s){var u,l=o.__transition;function c(t){var e,n,r,i;if(1!==s.state)return h();for(e in l)if((i=l[e]).name===s.name){if(3===i.state)return Fr(c);4===i.state?(i.state=6,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[e]):+e<a&&(i.state=6,i.timer.stop(),delete l[e])}if(Fr(function(){3===s.state&&(s.state=4,s.timer.restart(f,s.delay,s.time),f(t))}),s.state=Yr,s.on.call("start",o,o.__data__,s.index,s.group),s.state===Yr){for(s.state=3,u=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(i=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(u[++n]=i);u.length=n+1}}function f(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=5,1),n=-1,r=u.length;++n<r;)u[n].call(null,e);5===s.state&&(s.on.call("end",o,o.__data__,s.index,s.group),h())}function h(){for(var t in s.state=6,s.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=s).timer=Rr(function(t){s.state=1,s.timer.restart(c,s.delay,s.time),s.delay<=t&&c(t-s.delay)},0,s.time)}(t,n,{name:e,index:r,group:i,on:Ur,tween:Vr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qr})};function $r(t,e){var n=Zr(t,e);if(n.state>qr)throw new Error("too late; already scheduled");return n}function Hr(t,e){var n=Zr(t,e);if(n.state>Yr)throw new Error("too late; already started");return n}function Zr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Gr=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Yr&&n.state<5,n.state=6,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function Xr(t,e,n){var r=t._id;return t.each(function(){var t=Hr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Zr(t,r).value[e]}}var Kr=function(t,e){var n;return("number"==typeof e?Bn:e instanceof Be?Rn:(n=Be(e))?(e=n,Rn):Zn)(t,e)};var Jr=ne.prototype.constructor;var Qr=0;function ti(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ei(t){return ne().transition(t)}function ni(){return++Qr}var ri=ne.prototype;function ii(t){return+t}function oi(t){return t*t}function ai(t){return t*(2-t)}function si(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ui(t){return t*t*t}function li(t){return--t*t*t+1}function ci(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ti.prototype=ei.prototype={constructor:ti,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Wr(f[h],e,n,h,f,Zr(s,n)));return new ti(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,p=t.call(u,u.__data__,f,l),d=Zr(u,n),m=0,y=p.length;m<y;++m)(h=p[m])&&Wr(h,e,n,m,p,d);o.push(p),a.push(u)}return new ti(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=St(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ti(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new ti(a,this._parents,this._name,this._id)},selection:function(){return new Jr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ni(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Zr(a,e);Wr(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ti(r,this._parents,t,n)},call:ri.call,nodes:ri.nodes,node:ri.node,size:ri.size,empty:ri.empty,each:ri.each,on:function(t,e){var n,r,i,o,a,s,u=this._id;return arguments.length<2?Zr(this.node(),u).on.on(t):this.each((n=u,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?$r:Hr,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=mt(t),r="transform"===n?ir:Kr;return this.attrTween(t,"function"==typeof e?(n.local?function(n,r,i){var o,a,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?s:s=r(o=t,a=e);this.removeAttributeNS(n.space,n.local)}}:function(n,r,i){var o,a,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===o&&e===a?s:s=r(o=t,a=e);this.removeAttribute(n)}})(n,r,Xr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o;return function(){var t=this.getAttribute(e);return t===r?null:t===i?o:o=n(i=t,r)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=mt(t);return this.tween(n,(r.local?function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}:function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e})(r,e))},style:function(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,m,y,v,g,_,b="transform"==(t+="")?rr:Kr;return null==e?this.styleTween(t,(m=t,y=b,function(){var t=Ot(this,m),e=(this.style.removeProperty(m),Ot(this,m));return t===e?null:t===v&&e===g?_:_=y(v=t,g=e)})).on("end.style."+t,(d=t,function(){this.style.removeProperty(d)})):this.styleTween(t,"function"==typeof e?(l=b,c=Xr(this,"style."+(u=t),e),function(){var t=Ot(this,u),e=c(this);return null==e&&(this.style.removeProperty(u),e=Ot(this,u)),t===e?null:t===f&&e===h?p:p=l(f=t,h=e)}):(r=t,i=b,o=e+"",function(){var t=Ot(this,r);return t===o?null:t===a?s:s=i(a=t,o)}),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=Xr(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Zr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=Hr(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var u,l;if("function"!=typeof s)throw new Error;return function(){var t=Hr(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:a,value:s},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=n;break}r===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){$r(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){$r(this,t).delay=e}})(e,t)):Zr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Hr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Hr(this,t).duration=e}})(e,t)):Zr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Hr(this,t).ease=e}}(e,t)):Zr(this.node(),e).ease}};var fi=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),hi=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),pi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),di=Math.PI,mi=di/2;function yi(t){return 1-Math.cos(t*mi)}function vi(t){return Math.sin(t*mi)}function gi(t){return(1-Math.cos(di*t))/2}function _i(t){return Math.pow(2,10*t-10)}function bi(t){return 1-Math.pow(2,-10*t)}function xi(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function wi(t){return 1-Math.sqrt(1-t*t)}function Ei(t){return Math.sqrt(1- --t*t)}function Si(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var ki=4/11,Mi=6/11,Ti=8/11,Ci=.75,Pi=9/11,Ai=10/11,Oi=.9375,zi=21/22,Ii=63/64,Ri=1/ki/ki;function Ni(t){return 1-Di(1-t)}function Di(t){return(t=+t)<ki?Ri*t*t:t<Ti?Ri*(t-=Mi)*t+Ci:t<Ai?Ri*(t-=Pi)*t+Oi:Ri*(t-=zi)*t+Ii}function Li(t){return((t*=2)<=1?1-Di(1-t):Di(t-1)+1)/2}var ji=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Fi=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Bi=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ui=2*Math.PI,Vi=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Ui);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*Ui)},t.period=function(t){return e(n,t)},t}(1,.3),qi=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Ui);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*Ui)},t.period=function(t){return e(n,t)},t}(1,.3),Yi=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=Ui);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*Ui)},t.period=function(t){return e(n,t)},t}(1,.3),Wi={time:null,delay:0,duration:250,ease:ci};function $i(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Wi.time=Or(),Wi;return n}ne.prototype.interrupt=function(t){return this.each(function(){Gr(this,t)})},ne.prototype.transition=function(t){var e,n;t=t instanceof ti?(e=t._id,t._name):(e=ni(),(n=Wi).time=Or(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Wr(a,t,e,l,s,n||$i(a,e));return new ti(r,this._parents,t,e)};var Hi=[null],Zi=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if(1<(n=i[r]).state&&n.name===e)return new ti([[t]],Hi,e,+r);return null},Gi=function(t){return function(){return t}},Xi=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Ki(){$t.stopImmediatePropagation()}var Ji=function(){$t.preventDefault(),$t.stopImmediatePropagation()},Qi={name:"drag"},to={name:"space"},eo={name:"handle"},no={name:"center"},ro={name:"x",handles:["e","w"].map(fo),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},io={name:"y",handles:["n","s"].map(fo),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},oo={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(fo),input:function(t){return t},output:function(t){return t}},ao={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},so={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},uo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},lo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},co={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fo(t){return{type:t}}function ho(){return!$t.button}function po(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function mo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function yo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function vo(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function go(){return xo(ro)}function _o(){return xo(io)}var bo=function(){return xo(oo)};function xo(N){var D,e=po,L=ho,n=ht(i,"start","brush","end"),r=6;function i(t){var e=t.property("__brush",s).selectAll(".overlay").data([fo("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ao.overlay).merge(e).each(function(){var t=mo(this).extent;re(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([fo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ao.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(N.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ao[t.type]}),t.each(j).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function j(){var t=re(this),e=mo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function F(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){if($t.touches){if($t.changedTouches.length<$t.touches.length)return Ji()}else if(D)return;if(L.apply(this,arguments)){var e,n,r,i,o,a,s,u,l,c,f,h,p,d=this,m=$t.target.__data__.type,y="selection"===($t.metaKey?m="overlay":m)?Qi:$t.altKey?no:eo,v=N===io?null:lo[m],g=N===ro?null:co[m],_=mo(d),t=_.extent,b=_.selection,x=t[0][0],w=t[0][1],E=t[1][0],S=t[1][1],k=v&&g&&$t.shiftKey,M=ce(d),T=M,C=F(d,arguments).beforestart();"overlay"===m?_.selection=b=[[e=N===io?x:M[0],r=N===ro?w:M[1]],[o=N===io?E:e,s=N===ro?S:r]]:(e=b[0][0],r=b[0][1],o=b[1][0],s=b[1][1]),n=e,i=r,a=o,u=s;var P=re(d).attr("pointer-events","none"),A=P.selectAll(".overlay").attr("cursor",ao[m]);if($t.touches)P.on("touchmove.brush",z,!0).on("touchend.brush touchcancel.brush",R,!0);else{var O=re($t.view).on("keydown.brush",function(){switch($t.keyCode){case 16:k=v&&g;break;case 18:y===eo&&(v&&(o=a-l*v,e=n+l*v),g&&(s=u-c*g,r=i+c*g),y=no,I());break;case 32:y!==eo&&y!==no||(v<0?o=a-l:0<v&&(e=n-l),g<0?s=u-c:0<g&&(r=i-c),y=to,A.attr("cursor",ao.selection),I());break;default:return}Ji()},!0).on("keyup.brush",function(){switch($t.keyCode){case 16:k&&(h=p=k=!1,I());break;case 18:y===no&&(v<0?o=a:0<v&&(e=n),g<0?s=u:0<g&&(r=i),y=eo,I());break;case 32:y===to&&(y=$t.altKey?(v&&(o=a-l*v,e=n+l*v),g&&(s=u-c*g,r=i+c*g),no):(v<0?o=a:0<v&&(e=n),g<0?s=u:0<g&&(r=i),eo),A.attr("cursor",ao[m]),I());break;default:return}Ji()},!0).on("mousemove.brush",z,!0).on("mouseup.brush",R,!0);ye($t.view)}Ki(),Gr(d),j.call(d),C.start()}function z(){var t=ce(d);!k||h||p||(Math.abs(t[0]-T[0])>Math.abs(t[1]-T[1])?p=!0:h=!0),T=t,f=!0,Ji(),I()}function I(){var t;switch(l=T[0]-M[0],c=T[1]-M[1],y){case to:case Qi:v&&(l=Math.max(x-e,Math.min(E-o,l)),n=e+l,a=o+l),g&&(c=Math.max(w-r,Math.min(S-s,c)),i=r+c,u=s+c);break;case eo:v<0?(l=Math.max(x-e,Math.min(E-e,l)),n=e+l,a=o):0<v&&(l=Math.max(x-o,Math.min(E-o,l)),n=e,a=o+l),g<0?(c=Math.max(w-r,Math.min(S-r,c)),i=r+c,u=s):0<g&&(c=Math.max(w-s,Math.min(S-s,c)),i=r,u=s+c);break;case no:v&&(n=Math.max(x,Math.min(E,e-l*v)),a=Math.max(x,Math.min(E,o+l*v))),g&&(i=Math.max(w,Math.min(S,r-c*g)),u=Math.max(w,Math.min(S,s+c*g)))}a<n&&(v*=-1,t=e,e=o,o=t,t=n,n=a,a=t,m in so&&A.attr("cursor",ao[m=so[m]])),u<i&&(g*=-1,t=r,r=s,s=t,t=i,i=u,u=t,m in uo&&A.attr("cursor",ao[m=uo[m]])),_.selection&&(b=_.selection),h&&(n=b[0][0],a=b[1][0]),p&&(i=b[0][1],u=b[1][1]),b[0][0]===n&&b[0][1]===i&&b[1][0]===a&&b[1][1]===u||(_.selection=[[n,i],[a,u]],j.call(d),C.brush())}function R(){if(Ki(),$t.touches){if($t.touches.length)return;D&&clearTimeout(D),D=setTimeout(function(){D=null},500),P.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ve($t.view,f),O.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),A.attr("cursor",ao.overlay),_.selection&&(b=_.selection),yo(b)&&(_.selection=null,j.call(d)),C.end()}}function s(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=N,t}return i.move=function(t,s){t.selection?t.on("start.brush",function(){F(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){F(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=F(e,arguments),t=n.selection,i=N.input("function"==typeof s?s.apply(this,arguments):s,n.extent),o=Gn(t,i);function a(t){n.selection=1===t&&yo(i)?null:o(t),j.call(e),r.brush()}return t&&i?a:a(1)}):t.each(function(){var t=arguments,e=this.__brush,n=N.input("function"==typeof s?s.apply(this,t):s,e.extent),r=F(this,t).beforestart();Gr(this),e.selection=null==n||yo(n)?null:n,j.call(this),r.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Kt(new Xi(i,t,N.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(e="function"==typeof t?t:Gi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):e},i.filter=function(t){return arguments.length?(L="function"==typeof t?t:Gi(!!t),i):L},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=n.on.apply(n,arguments);return t===n?i:t},i}var wo=Math.cos,Eo=Math.sin,So=Math.PI,ko=So/2,Mo=2*So,To=Math.max;var Co=function(){var x=0,w=null,E=null,S=null;function e(r){var t,e,n,i,o,a,s=r.length,u=[],l=k(s),c=[],f=[],h=f.groups=new Array(s),p=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=r[o][a];u.push(e),c.push(k(s)),t+=e}for(w&&l.sort(function(t,e){return w(u[t],u[e])}),E&&c.forEach(function(t,n){t.sort(function(t,e){return E(r[n][t],r[n][e])})}),i=(t=To(0,Mo-x*s)/t)?x:Mo/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var d=l[o],m=c[d][a],y=r[d][m],v=e,g=e+=y*t;p[m*s+d]={index:d,subindex:m,startAngle:v,endAngle:g,value:y}}h[d]={index:d,startAngle:n,endAngle:e,value:u[d]},e+=i}for(o=-1;++o<s;)for(a=o-1;++a<s;){var _=p[a*s+o],b=p[o*s+a];(_.value||b.value)&&f.push(_.value<b.value?{source:b,target:_}:{source:_,target:b})}return S?f.sort(S):f}return e.padAngle=function(t){return arguments.length?(x=To(0,t),e):x},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(E=t,e):E},e.sortChords=function(t){return arguments.length?(null==t?S=null:(n=t,S=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,e):S&&S._;var n},e},Po=Array.prototype.slice,Ao=function(t){return function(){return t}},Oo=Math.PI,zo=2*Oo,Io=zo-1e-6;function Ro(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function No(){return new Ro}Ro.prototype=No.prototype={constructor:Ro,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(1e-6<f)if(1e-6<Math.abs(c*s-u*l)&&i){var h=n-o,p=r-a,d=s*s+u*u,m=h*h+p*p,y=Math.sqrt(d),v=Math.sqrt(f),g=i*Math.tan((Oo-Math.acos((d+f-m)/(2*y*v)))/2),_=g/v,b=g/y;1e-6<Math.abs(_-1)&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(l*p<c*h)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%zo+zo),Io<f?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):1e-6<f&&(this._+="A"+n+","+n+",0,"+ +(Oo<=f)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Do=No;function Lo(t){return t.source}function jo(t){return t.target}function Fo(t){return t.radius}function Bo(t){return t.startAngle}function Uo(t){return t.endAngle}var Vo=function(){var h=Lo,p=jo,d=Fo,m=Bo,y=Uo,v=null;function e(){var t,e=Po.call(arguments),n=h.apply(this,e),r=p.apply(this,e),i=+d.apply(this,(e[0]=n,e)),o=m.apply(this,e)-ko,a=y.apply(this,e)-ko,s=i*wo(o),u=i*Eo(o),l=+d.apply(this,(e[0]=r,e)),c=m.apply(this,e)-ko,f=y.apply(this,e)-ko;if(v||(v=t=Do()),v.moveTo(s,u),v.arc(0,0,i,o,a),o===c&&a===f||(v.quadraticCurveTo(0,0,l*wo(c),l*Eo(c)),v.arc(0,0,l,c,f)),v.quadraticCurveTo(0,0,s,u),v.closePath(),t)return v=null,t+""||null}return e.radius=function(t){return arguments.length?(d="function"==typeof t?t:Ao(+t),e):d},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:Ao(+t),e):m},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:Ao(+t),e):y},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(p=t,e):p},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e};function qo(){}function Yo(t,e){var n=new qo;if(t instanceof qo)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}qo.prototype=Yo.prototype={constructor:qo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Wo=Yo,$o=function(){var h,p,e,d=[],a=[];function m(t,n,r,i){if(n>=d.length)return null!=h&&t.sort(h),null!=p?p(t):t;for(var e,o,a,s=-1,u=t.length,l=d[n++],c=Wo(),f=r();++s<u;)(a=c.get(e=l(o=t[s])+""))?a.push(o):c.set(e,[o]);return c.each(function(t,e){i(f,e,m(t,n,r,i))}),f}return e={object:function(t){return m(t,0,Ho,Zo)},map:function(t){return m(t,0,Go,Xo)},entries:function(t){return function n(t,r){if(++r>d.length)return t;var i,o=a[r-1];return null!=p&&r>=d.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(m(t,0,Go,Xo),0)},key:function(t){return d.push(t),e},sortKeys:function(t){return a[d.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return p=t,e}}};function Ho(){return{}}function Zo(t,e,n){t[e]=n}function Go(){return Wo()}function Xo(t,e,n){t.set(e,n)}function Ko(){}var Jo=Wo.prototype;function Qo(t,e){var n=new Ko;if(t instanceof Ko)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Ko.prototype=Qo.prototype={constructor:Ko,has:Jo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Jo.remove,clear:Jo.clear,values:Jo.keys,size:Jo.size,empty:Jo.empty,each:Jo.each};var ta=Qo,ea=function(t){var e=[];for(var n in t)e.push(n);return e},na=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ra=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ia=Array.prototype.slice,oa=function(t,e){return t-e},aa=function(t){return function(){return t}},sa=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ua(t,e[r]))return n;return 0};function ua(t,e){for(var n,r,i,o,a,s,u,l,c,f,h=e[0],p=e[1],d=-1,m=0,y=t.length,v=y-1;m<y;v=m++){var g=t[m],_=g[0],b=g[1],x=t[v],w=x[0],E=x[1];if(f=void 0,o=u=g,s=c=e,((a=l=x)[0]-o[0])*(s[1]-o[1])==(s[0]-o[0])*(a[1]-o[1])&&(n=u[f=+(u[0]===l[0])],r=c[f],i=l[f],n<=r&&r<=i||i<=r&&r<=n))return 0;p<b!=p<E&&h<(w-_)*(p-b)/(E-b)+_&&(d=-d)}return d}var la=function(){},ca=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],fa=function(){var h=1,p=1,o=P,a=e;function r(e){var t=o(e);if(Array.isArray(t))t=t.slice().sort(oa);else{var n=y(e),r=n[0],i=n[1];t=C(r,i,t),t=k(Math.floor(r/t)*t,Math.floor(i/t)*t,t)}return t.map(function(t){return s(e,t)})}function s(e,n){var i=[],r=[];return function(t,e,s){var u,l,n,r,i,o,c=new Array,f=new Array;u=l=-1,r=t[0]>=e,ca[r<<1].forEach(a);for(;++u<h-1;)n=r,r=t[u+1]>=e,ca[n|r<<1].forEach(a);ca[r<<0].forEach(a);for(;++l<p-1;){for(u=-1,r=t[l*h+h]>=e,i=t[l*h]>=e,ca[r<<1|i<<2].forEach(a);++u<h-1;)n=r,r=t[l*h+h+u+1]>=e,o=i,i=t[l*h+u+1]>=e,ca[n|r<<1|i<<2|o<<3].forEach(a);ca[r|i<<3].forEach(a)}u=-1,i=t[l*h]>=e,ca[i<<2].forEach(a);for(;++u<h-1;)o=i,i=t[l*h+u+1]>=e,ca[i<<2|o<<3].forEach(a);function a(t){var e,n,r=[t[0][0]+u,t[0][1]+l],i=[t[1][0]+u,t[1][1]+l],o=d(r),a=d(i);(e=f[o])?(n=c[a])?(delete f[e.end],delete c[n.start],e===n?(e.ring.push(i),s(e.ring)):c[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(i),f[e.end=a]=e):(e=c[a])?(n=f[o])?(delete c[e.start],delete f[n.end],e===n?(e.ring.push(i),s(e.ring)):c[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete c[e.start],e.ring.unshift(r),c[e.start=o]=e):c[o]=f[a]={start:o,end:a,ring:[r,i]}}ca[i<<3].forEach(a)}(e,n,function(t){a(t,e,n),0<function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)?i.push([t]):r.push(t)}),r.forEach(function(t){for(var e,n=0,r=i.length;n<r;++n)if(-1!==sa((e=i[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:i}}function d(t){return 2*t[0]+t[1]*(h+1)*4}function e(t,s,u){t.forEach(function(t){var e,n=t[0],r=t[1],i=0|n,o=0|r,a=s[o*h+i];0<n&&n<h&&i===n&&(e=s[o*h+i-1],t[0]=n+(u-e)/(a-e)-.5),0<r&&r<p&&o===r&&(e=s[(o-1)*h+i],t[1]=r+(u-e)/(a-e)-.5)})}return r.contour=s,r.size=function(t){if(!arguments.length)return[h,p];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<e&&0<n))throw new Error("invalid size");return h=e,p=n,r},r.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:Array.isArray(t)?aa(ia.call(t)):aa(t),r):o},r.smooth=function(t){return arguments.length?(a=t?e:la,r):a===e},r};function ha(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),n<=s&&(o<=s&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function pa(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),n<=s&&(o<=s&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function da(t){return t[0]}function ma(t){return t[1]}function ya(){return 1}var va=function(){var s=da,u=ma,l=ya,r=960,i=500,o=20,c=2,f=3*o,h=r+2*f>>c,p=i+2*f>>c,d=aa(20);function e(t){var a=new Float32Array(h*p),e=new Float32Array(h*p);t.forEach(function(t,e,n){var r=+s(t,e,n)+f>>c,i=+u(t,e,n)+f>>c,o=+l(t,e,n);0<=r&&r<h&&0<=i&&i<p&&(a[r+i*h]+=o)}),ha({width:h,height:p,data:a},{width:h,height:p,data:e},o>>c),pa({width:h,height:p,data:e},{width:h,height:p,data:a},o>>c),ha({width:h,height:p,data:a},{width:h,height:p,data:e},o>>c),pa({width:h,height:p,data:e},{width:h,height:p,data:a},o>>c),ha({width:h,height:p,data:a},{width:h,height:p,data:e},o>>c),pa({width:h,height:p,data:e},{width:h,height:p,data:a},o>>c);var n=d(a);if(!Array.isArray(n)){var r=R(a);n=C(0,r,n),(n=k(0,Math.floor(r/n)*n,n)).shift()}return fa().thresholds(n).size([h,p])(a).map(m)}function m(t){return t.value*=Math.pow(2,-2*c),t.coordinates.forEach(n),t}function n(t){t.forEach(a)}function a(t){t.forEach(y)}function y(t){t[0]=t[0]*Math.pow(2,c)-f,t[1]=t[1]*Math.pow(2,c)-f}function v(){return h=r+2*(f=3*o)>>c,p=i+2*f>>c,e}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:aa(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:aa(+t),e):u},e.weight=function(t){return arguments.length?(l="function"==typeof t?t:aa(+t),e):l},e.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<=e||0<=e))throw new Error("invalid size");return r=e,i=n,v()},e.cellSize=function(t){if(!arguments.length)return 1<<c;if(!(1<=(t=+t)))throw new Error("invalid cell size");return c=Math.floor(Math.log(t)/Math.LN2),v()},e.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?aa(ia.call(t)):aa(t),e):d},e.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},e},ga={},_a={};function ba(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var xa=function(o){var e=new RegExp('["'+o+"\n\r]"),f=o.charCodeAt(0);function n(r,t){var e,n=[],i=r.length,o=0,a=0,s=i<=0,u=!1;function l(){if(s)return _a;if(u)return u=!1,ga;var t,e,n=o;if(34===r.charCodeAt(n)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?s=!0:10===(e=r.charCodeAt(o++))?u=!0:13===e&&(u=!0,10===r.charCodeAt(o)&&++o),r.slice(n+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(e=r.charCodeAt(t=o++)))u=!0;else if(13===e)u=!0,10===r.charCodeAt(o)&&++o;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(e=l())!==_a;){for(var c=[];e!==ga&&e!==_a;)c.push(e),e=l();t&&null==(c=t(c,a++))||n.push(c)}return n}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,s,e=n(t,function(t,e){if(a)return a(t,e-1);var n,r,i;s=t,a=o?(r=o,i=ba(n=t),function(t,e){return r(i(t),e,n)}):ba(t)});return e.columns=s||[],e},parseRows:n,format:function(t,n){var e,r,i;return null==n&&(e=t,r=Object.create(null),i=[],e.forEach(function(t){for(var e in t)e in r||i.push(r[e]=e)}),n=i),[n.map(a).join(o)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}},wa=xa(","),Ea=wa.parse,Sa=wa.parseRows,ka=wa.format,Ma=wa.formatRows,Ta=xa("\t"),Ca=Ta.parse,Pa=Ta.parseRows,Aa=Ta.format,Oa=Ta.formatRows;function za(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Ia=function(t,e){return fetch(t,e).then(za)};function Ra(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Na=function(t,e){return fetch(t,e).then(Ra)};function Da(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var La=function(t,e){return fetch(t,e).then(Da)};function ja(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),La(t,e).then(function(t){return r(t,n)})}}function Fa(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=xa(t);return La(e,n).then(function(t){return i.parse(t,r)})}var Ba=ja(Ea),Ua=ja(Ca),Va=function(i,o){return new Promise(function(t,e){var n=new Image;for(var r in o)n[r]=o[r];n.onerror=e,n.onload=function(){t(n)},n.src=i})};function qa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var Ya=function(t,e){return fetch(t,e).then(qa)};function Wa(n){return function(t,e){return La(t,e).then(function(t){return(new DOMParser).parseFromString(t,n)})}}var $a=Wa("application/xml"),Ha=Wa("text/html"),Za=Wa("image/svg+xml"),Ga=function(o,a){var s;function e(){var t,e,n=s.length,r=0,i=0;for(t=0;t<n;++t)r+=(e=s[t]).x,i+=e.y;for(r=r/n-o,i=i/n-a,t=0;t<n;++t)(e=s[t]).x-=r,e.y-=i}return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},Xa=function(t){return function(){return t}},Ka=function(){return 1e-6*(Math.random()-.5)};function Ja(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,f,h,p=t._root,d={data:r},m=t._x0,y=t._y0,v=t._x1,g=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(y+g)/2))?y=a:g=a,!(p=(i=p)[f=c<<1|l]))return i[f]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[f]=d:t._root=d,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(y+g)/2))?y=a:g=a,(f=c<<1|l)==(h=(a<=u)<<1|o<=s););return i[h]=p,i[f]=d,t}var Qa=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function ts(t){return t[0]}function es(t){return t[1]}function ns(t,e,n){var r=new rs(null==e?ts:e,null==n?es:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function rs(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function is(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var os=ns.prototype=rs.prototype;function as(t){return t.x+t.vx}function ss(t){return t.y+t.vy}os.copy=function(){var t,e,n=new rs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=is(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=is(e));return n},os.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Ja(this.cover(e,n),e,n,t)},os.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||((a[n]=r)<u&&(u=r),c<r&&(c=r),(s[n]=i)<l&&(l=i),f<i&&(f=i));for(c<u&&(u=this._x0,c=this._x1),f<l&&(l=this._y0,f=this._y1),this.cover(u,l).cover(c,f),n=0;n<o;++n)Ja(this,a[n],s[n],t[n]);return this},os.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(t<n||i<t||e<r||o<e))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:for(;(a=new Array(4))[s]=l,l=a,o=r+(u*=2),(i=n+u)<t||o<e;);break;case 1:for(;(a=new Array(4))[s]=l,l=a,o=r+(u*=2),t<(n=i-u)||o<e;);break;case 2:for(;(a=new Array(4))[s]=l,l=a,r=o-(u*=2),(i=n+u)<t||e<r;);break;case 3:for(;(a=new Array(4))[s]=l,l=a,r=o-(u*=2),t<(n=i-u)||e<r;);}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},os.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},os.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},os.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Qa(m,c,f,h,p)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>h||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<f))if(m.length){var y=(i+a)/2,v=(o+s)/2;d.push(new Qa(m[3],y,v,a,s),new Qa(m[2],i,v,y,s),new Qa(m[1],y,o,a,v),new Qa(m[0],i,o,y,v)),(l=(v<=e)<<1|y<=t)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var g=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=g*g+_*_;if(b<n){var x=Math.sqrt(n=b);c=t-x,f=e-x,h=t+x,p=e+x,r=m.data}}return r},os.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,f,h,p=this._root,d=this._x0,m=this._y0,y=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(s=(d+y)/2))?d=s:y=s,(c=a>=(u=(m+v)/2))?m=u:v=u,!(p=(e=p)[f=c<<1|l]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(!(p=(r=p).next))return this;return(i=p.next)&&delete p.next,r?i?r.next=i:delete r.next:e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p)):this._root=i,this},os.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},os.root=function(){return this._root},os.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},os.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Qa(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new Qa(n,l,c,o,a)),(n=u[2])&&s.push(new Qa(n,r,c,l,a)),(n=u[1])&&s.push(new Qa(n,l,i,o,c)),(n=u[0])&&s.push(new Qa(n,r,i,l,c))}return this},os.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Qa(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new Qa(o,a,s,c,f)),(o=i[1])&&n.push(new Qa(o,c,s,u,f)),(o=i[2])&&n.push(new Qa(o,a,f,c,l)),(o=i[3])&&n.push(new Qa(o,c,f,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},os.x=function(t){return arguments.length?(this._x=t,this):this._x},os.y=function(t){return arguments.length?(this._y=t,this):this._y};var us=function(r){var o,a,y=1,s=1;function e(){for(var t,e,f,h,p,d,m,n=o.length,r=0;r<s;++r)for(e=ns(o,as,ss).visitAfter(u),t=0;t<n;++t)f=o[t],d=a[f.index],m=d*d,h=f.x+f.vx,p=f.y+f.vy,e.visit(i);function i(t,e,n,r,i){var o=t.data,a=t.r,s=d+a;if(!o)return h+s<e||r<h-s||p+s<n||i<p-s;if(o.index>f.index){var u=h-o.x-o.vx,l=p-o.y-o.vy,c=u*u+l*l;c<s*s&&(0===u&&(c+=(u=Ka())*u),0===l&&(c+=(l=Ka())*l),c=(s-(c=Math.sqrt(c)))/c*y,f.vx+=(u*=c)*(s=(a*=a)/(m+a)),f.vy+=(l*=c)*s,o.vx-=u*(s=1-s),o.vy-=l*s)}}}function u(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(a=new Array(n),t=0;t<n;++t)e=o[t],a[e.index]=+r(e,t,o)}}return"function"!=typeof r&&(r=Xa(null==r?1:+r)),e.initialize=function(t){o=t,n()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(y=+t,e):y},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),n(),e):r},e};function ls(t){return t.index}function cs(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var fs=function(f){var h,p,o,a,d,s=ls,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=Xa(30),m=1;function e(t){for(var e=0,n=f.length;e<m;++e)for(var r,i,o,a,s,u,l,c=0;c<n;++c)i=(r=f[c]).source,a=(o=r.target).x+o.vx-i.x-i.vx||Ka(),s=o.y+o.vy-i.y-i.vy||Ka(),a*=u=((u=Math.sqrt(a*a+s*s))-p[c])/u*t*h[c],s*=u,o.vx-=a*(l=d[c]),o.vy-=s*l,i.vx+=a*(l=1-l),i.vy+=s*l}function i(){if(o){var t,e,n=o.length,r=f.length,i=Wo(o,s);for(t=0,a=new Array(n);t<r;++t)(e=f[t]).index=t,"object"!=typeof e.source&&(e.source=cs(i,e.source)),"object"!=typeof e.target&&(e.target=cs(i,e.target)),a[e.source.index]=(a[e.source.index]||0)+1,a[e.target.index]=(a[e.target.index]||0)+1;for(t=0,d=new Array(r);t<r;++t)e=f[t],d[t]=a[e.source.index]/(a[e.source.index]+a[e.target.index]);h=new Array(r),u(),p=new Array(r),l()}}function u(){if(o)for(var t=0,e=f.length;t<e;++t)h[t]=+n(f[t],t,f)}function l(){if(o)for(var t=0,e=f.length;t<e;++t)p[t]=+r(f[t],t,f)}return null==f&&(f=[]),e.initialize=function(t){o=t,i()},e.links=function(t){return arguments.length?(f=t,i(),e):f},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(m=+t,e):m},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:Xa(+t),u(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),l(),e):r},e};function hs(t){return t.x}function ps(t){return t.y}var ds=Math.PI*(3-Math.sqrt(5)),ms=function(c){var n,r=1,e=.001,i=1-Math.pow(e,1/300),o=0,a=.6,s=Wo(),t=Rr(l),u=ht("tick","end");function l(){f(),u.call("tick",n),r<e&&(t.stop(),u.call("end",n))}function f(){var t,e,n=c.length;for(r+=(o-r)*i,s.each(function(t){t(r)}),t=0;t<n;++t)null==(e=c[t]).fx?e.x+=e.vx*=a:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=a:(e.y=e.fy,e.vy=0)}function h(){for(var t,e=0,n=c.length;e<n;++e){if((t=c[e]).index=e,isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(e),i=e*ds;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(c),t}return null==c&&(c=[]),h(),n={tick:f,restart:function(){return t.restart(l),n},stop:function(){return t.stop(),n},nodes:function(t){return arguments.length?(c=t,h(),s.each(p),n):c},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(e=+t,n):e},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return 1<arguments.length?(null==e?s.remove(t):s.set(t,p(e)),n):s.get(t)},find:function(t,e,n){var r,i,o,a,s,u=0,l=c.length;for(null==n?n=1/0:n*=n,u=0;u<l;++u)(o=(r=t-(a=c[u]).x)*r+(i=e-a.y)*i)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(u.on(t,e),n):u.on(t)}}},ys=function(){var i,u,l,c,r=Xa(-30),f=1,h=1/0,p=.81;function e(t){var e,n=i.length,r=ns(i,hs,ps).visitAfter(o);for(l=t,e=0;e<n;++e)u=i[e],r.visit(a)}function n(){if(i){var t,e,n=i.length;for(c=new Array(n),t=0;t<n;++t)e=i[t],c[e.index]=+r(e,t,i)}}function o(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for((e=t).x=e.data.x,e.y=e.data.y;a+=c[e.data.index],e=e.next;);t.value=a}function a(t,e,n,r){if(!t.value)return!0;var i=t.x-u.x,o=t.y-u.y,a=r-e,s=i*i+o*o;if(a*a/p<s)return s<h&&(0===i&&(s+=(i=Ka())*i),0===o&&(s+=(o=Ka())*o),s<f&&(s=Math.sqrt(f*s)),u.vx+=i*t.value*l/s,u.vy+=o*t.value*l/s),!0;if(!(t.length||h<=s))for((t.data!==u||t.next)&&(0===i&&(s+=(i=Ka())*i),0===o&&(s+=(o=Ka())*o),s<f&&(s=Math.sqrt(f*s)));t.data!==u&&(a=c[t.data.index]*l/s,u.vx+=i*a,u.vy+=o*a),t=t.next;);}return e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e},vs=function(n,u,l){var c,f,h,r=Xa(.1);function e(t){for(var e=0,n=c.length;e<n;++e){var r=c[e],i=r.x-u||1e-6,o=r.y-l||1e-6,a=Math.sqrt(i*i+o*o),s=(h[e]-a)*f[e]*t/a;r.vx+=i*s,r.vy+=o*s}}function i(){if(c){var t,e=c.length;for(f=new Array(e),h=new Array(e),t=0;t<e;++t)h[t]=+n(c[t],t,c),f[t]=isNaN(h[t])?0:+r(c[t],t,c)}}return"function"!=typeof n&&(n=Xa(+n)),null==u&&(u=0),null==l&&(l=0),e.initialize=function(t){c=t,i()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),i(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:Xa(+t),i(),e):n},e.x=function(t){return arguments.length?(u=+t,e):u},e.y=function(t){return arguments.length?(l=+t,e):l},e},gs=function(n){var i,o,a,r=Xa(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=Xa(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:Xa(+t),s(),e):n},e},_s=function(n){var i,o,a,r=Xa(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=Xa(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:Xa(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Xa(+t),s(),e):n},e},bs=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]},xs=function(t){return(t=bs(Math.abs(t)))?t[1]:NaN},ws=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Es(t){return new Ss(t)}function Ss(t){if(!(e=ws.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Es.prototype=Ss.prototype,Ss.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ks,Ms,Ts,Cs,Ps=function(t,e){var n=bs(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},As={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ps(100*t,e)},r:Ps,s:function(t,e){var n=bs(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ks=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bs(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Os=function(t){return t},zs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Is=function(t){var e,s,u,w=t.grouping&&t.thousands?(s=t.grouping,u=t.thousands,function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(u)}):Os,r=t.currency,E=t.decimal,S=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):Os,i=t.percent||"%";function a(t){var l=(t=Es(t)).fill,c=t.align,f=t.sign,e=t.symbol,h=t.zero,p=t.width,d=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(d=!0,v="g"):As[v]||(null==m&&(m=12),y=!0,v="g"),(h||"0"===l&&"="===c)&&(h=!0,l="0",c="=");var g="$"===e?r[0]:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===e?r[1]:/[%p]/.test(v)?i:"",b=As[v],x=/[defgprs%]/.test(v);function n(t){var e,n,r,i=g,o=_;if("c"===v)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===v?zs[8+ks/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?E+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}d&&!h&&(t=w(t,1/0));var s=i.length+t.length+o.length,u=s<p?new Array(p-s+1).join(l):"";switch(d&&h&&(t=w(u+t,u.length?p-o.length:1/0),u=""),c){case"<":t=i+t+o+u;break;case"=":t=i+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+i+t+o+u.slice(s);break;default:t=u+i+t+o}return S(t)}return m=null==m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=Es(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xs(e)/3))),i=Math.pow(10,-r),o=zs[8+r/3];return function(t){return n(i*t)+o}}}};function Rs(t){return Ms=Is(t),Ts=Ms.format,Cs=Ms.formatPrefix,Ms}Rs({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ns=function(t){return Math.max(0,-xs(Math.abs(t)))},Ds=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xs(e)/3)))-xs(Math.abs(t)))},Ls=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xs(e)-xs(t))+1},js=function(){return new Fs};function Fs(){this.reset()}Fs.prototype={constructor:Fs,reset:function(){this.s=this.t=0},add:function(t){Us(Bs,t,this.t),Us(this,Bs.s,this.s),this.s?this.t+=Bs.t:this.s=Bs.t},valueOf:function(){return this.s}};var Bs=new Fs;function Us(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Vs=1e-6,qs=Math.PI,Ys=qs/2,Ws=qs/4,$s=2*qs,Hs=180/qs,Zs=qs/180,Gs=Math.abs,Xs=Math.atan,Ks=Math.atan2,Js=Math.cos,Qs=Math.ceil,tu=Math.exp,eu=(Math.floor,Math.log),nu=Math.pow,ru=Math.sin,iu=Math.sign||function(t){return 0<t?1:t<0?-1:0},ou=Math.sqrt,au=Math.tan;function su(t){return 1<t?0:t<-1?qs:Math.acos(t)}function uu(t){return 1<t?Ys:t<-1?-Ys:Math.asin(t)}function lu(t){return(t=ru(t/2))*t}function cu(){}function fu(t,e){t&&pu.hasOwnProperty(t.type)&&pu[t.type](t,e)}var hu={Feature:function(t,e){fu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fu(n[r].geometry,e)}},pu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){du(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)du(n[r],e,0)},Polygon:function(t,e){mu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mu(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fu(n[r],e)}};function du(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function mu(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)du(t[n],e,1);e.polygonEnd()}var yu,vu,gu,_u,bu,xu=function(t,e){t&&hu.hasOwnProperty(t.type)?hu[t.type](t,e):fu(t,e)},wu=js(),Eu=js(),Su={point:cu,lineStart:cu,lineEnd:cu,polygonStart:function(){wu.reset(),Su.lineStart=ku,Su.lineEnd=Mu},polygonEnd:function(){var t=+wu;Eu.add(t<0?$s+t:t),this.lineStart=this.lineEnd=this.point=cu},sphere:function(){Eu.add($s)}};function ku(){Su.point=Tu}function Mu(){Cu(yu,vu)}function Tu(t,e){Su.point=Cu,yu=t,vu=e,gu=t*=Zs,_u=Js(e=(e*=Zs)/2+Ws),bu=ru(e)}function Cu(t,e){var n=(t*=Zs)-gu,r=0<=n?1:-1,i=r*n,o=Js(e=(e*=Zs)/2+Ws),a=ru(e),s=bu*a,u=_u*o+s*Js(i),l=s*r*ru(i);wu.add(Ks(l,u)),gu=t,_u=o,bu=a}var Pu=function(t){return Eu.reset(),xu(t,Su),2*Eu};function Au(t){return[Ks(t[1],t[0]),uu(t[2])]}function Ou(t){var e=t[0],n=t[1],r=Js(n);return[r*Js(e),r*ru(e),ru(n)]}function zu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Iu(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ru(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Nu(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Du(t){var e=ou(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Lu,ju,Fu,Bu,Uu,Vu,qu,Yu,Wu,$u,Hu=js(),Zu={point:Gu,lineStart:Ku,lineEnd:Ju,polygonStart:function(){Zu.point=Qu,Zu.lineStart=tl,Zu.lineEnd=el,Hu.reset(),Su.polygonStart()},polygonEnd:function(){Su.polygonEnd(),Zu.point=Gu,Zu.lineStart=Ku,Zu.lineEnd=Ju,wu<0?(Lu=-(Fu=180),ju=-(Bu=90)):Vs<Hu?Bu=90:Hu<-Vs&&(ju=-90),$u[0]=Lu,$u[1]=Fu}};function Gu(t,e){Wu.push($u=[Lu=t,Fu=t]),e<ju&&(ju=e),Bu<e&&(Bu=e)}function Xu(t,e){var n=Ou([t*Zs,e*Zs]);if(Yu){var r=Iu(Yu,n),i=Iu([r[1],-r[0],0],r);Du(i),i=Au(i);var o,a=t-Uu,s=0<a?1:-1,u=i[0]*Hs*s,l=180<Gs(a);l^(s*Uu<u&&u<s*t)?(o=i[1]*Hs,Bu<o&&(Bu=o)):l^(s*Uu<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*Hs)<ju&&(ju=o):(e<ju&&(ju=e),Bu<e&&(Bu=e)),l?t<Uu?nl(Lu,t)>nl(Lu,Fu)&&(Fu=t):nl(t,Fu)>nl(Lu,Fu)&&(Lu=t):Lu<=Fu?(t<Lu&&(Lu=t),Fu<t&&(Fu=t)):Uu<t?nl(Lu,t)>nl(Lu,Fu)&&(Fu=t):nl(t,Fu)>nl(Lu,Fu)&&(Lu=t)}else Wu.push($u=[Lu=t,Fu=t]);e<ju&&(ju=e),Bu<e&&(Bu=e),Yu=n,Uu=t}function Ku(){Zu.point=Xu}function Ju(){$u[0]=Lu,$u[1]=Fu,Zu.point=Gu,Yu=null}function Qu(t,e){if(Yu){var n=t-Uu;Hu.add(180<Gs(n)?n+(0<n?360:-360):n)}else Vu=t,qu=e;Su.point(t,e),Xu(t,e)}function tl(){Su.lineStart()}function el(){Qu(Vu,qu),Su.lineEnd(),Gs(Hu)>Vs&&(Lu=-(Fu=180)),$u[0]=Lu,$u[1]=Fu,Yu=null}function nl(t,e){return(e-=t)<0?e+360:e}function rl(t,e){return t[0]-e[0]}function il(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var ol,al,sl,ul,ll,cl,fl,hl,pl,dl,ml,yl,vl,gl,_l,bl,xl=function(t){var e,n,r,i,o,a,s;if(Bu=Fu=-(Lu=ju=1/0),Wu=[],xu(t,Zu),n=Wu.length){for(Wu.sort(rl),e=1,o=[r=Wu[0]];e<n;++e)il(r,(i=Wu[e])[0])||il(r,i[1])?(nl(r[0],i[1])>nl(r[0],r[1])&&(r[1]=i[1]),nl(i[0],r[1])>nl(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=nl(r[1],i[0]))>a&&(a=s,Lu=i[0],Fu=r[1])}return Wu=$u=null,Lu===1/0||ju===1/0?[[NaN,NaN],[NaN,NaN]]:[[Lu,ju],[Fu,Bu]]},wl={sphere:cu,point:El,lineStart:kl,lineEnd:Cl,polygonStart:function(){wl.lineStart=Pl,wl.lineEnd=Al},polygonEnd:function(){wl.lineStart=kl,wl.lineEnd=Cl}};function El(t,e){t*=Zs;var n=Js(e*=Zs);Sl(n*Js(t),n*ru(t),ru(e))}function Sl(t,e,n){sl+=(t-sl)/++ol,ul+=(e-ul)/ol,ll+=(n-ll)/ol}function kl(){wl.point=Ml}function Ml(t,e){t*=Zs;var n=Js(e*=Zs);gl=n*Js(t),_l=n*ru(t),bl=ru(e),wl.point=Tl,Sl(gl,_l,bl)}function Tl(t,e){t*=Zs;var n=Js(e*=Zs),r=n*Js(t),i=n*ru(t),o=ru(e),a=Ks(ou((a=_l*o-bl*i)*a+(a=bl*r-gl*o)*a+(a=gl*i-_l*r)*a),gl*r+_l*i+bl*o);al+=a,cl+=a*(gl+(gl=r)),fl+=a*(_l+(_l=i)),hl+=a*(bl+(bl=o)),Sl(gl,_l,bl)}function Cl(){wl.point=El}function Pl(){wl.point=Ol}function Al(){zl(yl,vl),wl.point=El}function Ol(t,e){yl=t,vl=e,t*=Zs,e*=Zs,wl.point=zl;var n=Js(e);gl=n*Js(t),_l=n*ru(t),bl=ru(e),Sl(gl,_l,bl)}function zl(t,e){t*=Zs;var n=Js(e*=Zs),r=n*Js(t),i=n*ru(t),o=ru(e),a=_l*o-bl*i,s=bl*r-gl*o,u=gl*i-_l*r,l=ou(a*a+s*s+u*u),c=uu(l),f=l&&-c/l;pl+=f*a,dl+=f*s,ml+=f*u,al+=c,cl+=c*(gl+(gl=r)),fl+=c*(_l+(_l=i)),hl+=c*(bl+(bl=o)),Sl(gl,_l,bl)}var Il=function(t){ol=al=sl=ul=ll=cl=fl=hl=pl=dl=ml=0,xu(t,wl);var e=pl,n=dl,r=ml,i=e*e+n*n+r*r;return i<1e-12&&(e=cl,n=fl,r=hl,al<Vs&&(e=sl,n=ul,r=ll),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Ks(n,e)*Hs,uu(r/ou(i))*Hs]},Rl=function(t){return function(){return t}},Nl=function(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t};function Dl(t,e){return[qs<t?t-$s:t<-qs?t+$s:t,e]}function Ll(t,e,n){return(t%=$s)?e||n?Nl(Fl(t),Bl(e,n)):Fl(t):e||n?Bl(e,n):Dl}function jl(n){return function(t,e){return[qs<(t+=n)?t-$s:t<-qs?t+$s:t,e]}}function Fl(t){var e=jl(t);return e.invert=jl(-t),e}function Bl(t,e){var s=Js(t),u=ru(t),l=Js(e),c=ru(e);function n(t,e){var n=Js(e),r=Js(t)*n,i=ru(t)*n,o=ru(e),a=o*s+r*u;return[Ks(i*l-a*c,r*s-o*u),uu(a*l+i*c)]}return n.invert=function(t,e){var n=Js(e),r=Js(t)*n,i=ru(t)*n,o=ru(e),a=o*l-i*c;return[Ks(i*l+o*c,r*s+a*u),uu(a*s-r*u)]},n}Dl.invert=Dl;var Ul=function(e){function t(t){return(t=e(t[0]*Zs,t[1]*Zs))[0]*=Hs,t[1]*=Hs,t}return e=Ll(e[0]*Zs,e[1]*Zs,2<e.length?e[2]*Zs:0),t.invert=function(t){return(t=e.invert(t[0]*Zs,t[1]*Zs))[0]*=Hs,t[1]*=Hs,t},t};function Vl(t,e,n,r,i,o){if(n){var a=Js(e),s=ru(e),u=r*n;null==i?(i=e+r*$s,o=e-u/2):(i=ql(a,i),o=ql(a,o),(0<r?i<o:o<i)&&(i+=r*$s));for(var l,c=i;0<r?o<c:c<o;c-=u)l=Au([a,-s*Js(c),-s*ru(c)]),t.point(l[0],l[1])}}function ql(t,e){(e=Ou(e))[0]-=t,Du(e);var n=su(-e[1]);return((-e[2]<0?-n:n)+$s-Vs)%$s}var Yl=function(){var r,i,o=Rl([0,0]),a=Rl(90),s=Rl(6),u={point:function(t,e){r.push(t=i(t,e)),t[0]*=Hs,t[1]*=Hs}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*Zs,n=s.apply(this,arguments)*Zs;return r=[],i=Ll(-t[0]*Zs,-t[1]*Zs,0).invert,Vl(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Rl([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Rl(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Rl(+t),e):s},e},Wl=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:cu,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},$l=function(t,e){return Gs(t[0]-e[0])<Vs&&Gs(t[1]-e[1])<Vs};function Hl(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Zl=function(t,e,n,r,o){var a,i,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if($l(r,i)){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else s.push(n=new Hl(r,t,null,!0)),u.push(n.o=new Hl(r,null,n,!1)),s.push(n=new Hl(i,t,null,!1)),u.push(n.o=new Hl(i,null,n,!0))}}),s.length){for(u.sort(e),Gl(s),Gl(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var l,c,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=l.length;a<i;++a)o.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=h.p.z,a=l.length-1;0<=a;--a)o.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}};function Gl(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var Xl=js(),Kl=function(t,e){var n=e[0],r=e[1],i=ru(r),o=[ru(n),-Js(n),0],a=0,s=0;Xl.reset(),1===i?r=Ys+Vs:-1===i&&(r=-Ys-Vs);for(var u=0,l=t.length;u<l;++u)if(f=(c=t[u]).length)for(var c,f,h=c[f-1],p=h[0],d=h[1]/2+Ws,m=ru(d),y=Js(d),v=0;v<f;++v,p=_,m=x,y=w,h=g){var g=c[v],_=g[0],b=g[1]/2+Ws,x=ru(b),w=Js(b),E=_-p,S=0<=E?1:-1,k=S*E,M=qs<k,T=m*x;if(Xl.add(Ks(T*S*ru(k),y*w+T*Js(k))),a+=M?E+S*$s:E,M^n<=p^n<=_){var C=Iu(Ou(h),Ou(g));Du(C);var P=Iu(o,C);Du(P);var A=(M^0<=E?-1:1)*uu(P[2]);(A<r||r===A&&(C[0]||C[1]))&&(s+=M^0<=E?1:-1)}}return(a<-Vs||a<Vs&&Xl<-Vs)^1&s},Jl=function(y,v,g,_){return function(s){var u,l,c,n=v(s),f=Wl(),h=v(f),p=!1,e={point:r,lineStart:i,lineEnd:o,polygonStart:function(){e.point=d,e.lineStart=a,e.lineEnd=m,l=[],u=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=o,l=L(l);var t=Kl(u,_);l.length?(p||(s.polygonStart(),p=!0),Zl(l,tc,t,g,s)):t&&(p||(s.polygonStart(),p=!0),s.lineStart(),g(null,null,1,s),s.lineEnd()),p&&(s.polygonEnd(),p=!1),l=u=null},sphere:function(){s.polygonStart(),s.lineStart(),g(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){y(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function o(){e.point=r,n.lineEnd()}function d(t,e){c.push([t,e]),h.point(t,e)}function a(){h.lineStart(),c=[]}function m(){d(c[0][0],c[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(c.pop(),u.push(c),c=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(p||(s.polygonStart(),p=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(Ql))}return e}};function Ql(t){return 1<t.length}function tc(t,e){return((t=t.x)[0]<0?t[1]-Ys-Vs:Ys-t[1])-((e=e.x)[0]<0?e[1]-Ys-Vs:Ys-e[1])}var ec=Jl(function(){return!0},function(f){var h,p=NaN,d=NaN,m=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,e){var n,r,i,o,a,s,u,l=0<t?qs:-qs,c=Gs(t-p);Gs(c-qs)<Vs?(f.point(p,d=0<(d+e)/2?Ys:-Ys),f.point(m,d),f.lineEnd(),f.lineStart(),f.point(l,d),f.point(t,d),h=0):m!==l&&qs<=c&&(Gs(p-m)<Vs&&(p-=m*Vs),Gs(t-l)<Vs&&(t-=l*Vs),r=d,o=e,u=ru((n=p)-(i=t)),d=Gs(u)>Vs?Xs((ru(r)*(s=Js(o))*ru(i)-ru(o)*(a=Js(r))*ru(n))/(a*s*u)):(r+o)/2,f.point(m,d),f.lineEnd(),f.lineStart(),f.point(l,d),h=0),f.point(p=t,d=e),m=l},lineEnd:function(){f.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;if(null==t)i=n*Ys,r.point(-qs,i),r.point(0,i),r.point(qs,i),r.point(qs,0),r.point(qs,-i),r.point(0,-i),r.point(-qs,-i),r.point(-qs,0),r.point(-qs,i);else if(Gs(t[0]-e[0])>Vs){var o=t[0]<e[0]?qs:-qs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-qs,-Ys]);var nc=function(i){var M=Js(i),o=6*Zs,p=0<M,d=Gs(M)>Vs;function m(t,e){return Js(t)*Js(e)>M}function y(t,e,n){var r=[1,0,0],i=Iu(Ou(t),Ou(e)),o=zu(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=M*o/s,l=-M*a/s,c=Iu(r,i),f=Nu(r,u);Ru(f,Nu(i,l));var h=c,p=zu(f,h),d=zu(h,h),m=p*p-d*(zu(f,f)-1);if(!(m<0)){var y=ou(m),v=Nu(h,(-p-y)/d);if(Ru(v,f),v=Au(v),!n)return v;var g,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(g=_,_=b,b=g);var E=b-_,S=Gs(E-qs)<Vs;if(!S&&w<x&&(g=x,x=w,w=g),S||E<Vs?S?0<x+w^v[1]<(Gs(v[0]-_)<Vs?x:w):x<=v[1]&&v[1]<=w:qs<E^(_<=v[0]&&v[0]<=b)){var k=Nu(h,(-p+y)/d);return Ru(k,f),[v,Au(k)]}}}function v(t,e){var n=p?i:qs-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return Jl(m,function(s){var u,l,c,f,h;return{lineStart:function(){f=c=!1,h=1},point:function(t,e){var n,r=[t,e],i=m(t,e),o=p?i?0:v(t,e):i?v(t+(t<0?qs:-qs),e):0;if(!u&&(f=c=i)&&s.lineStart(),i!==c&&(!(n=y(u,r))||$l(u,n)||$l(r,n))&&(r[0]+=Vs,r[1]+=Vs,i=m(r[0],r[1])),i!==c)h=0,i?(s.lineStart(),n=y(r,u),s.point(n[0],n[1])):(n=y(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(d&&u&&p^i){var a;o&l||!(a=y(r,u,!0))||(h=0,p?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&$l(u,r)||s.point(r[0],r[1]),u=r,c=i,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return h|(f&&c)<<1}}},function(t,e,n,r){Vl(r,i,o,n,t,e)},p?[0,-i]:[-qs,i-qs])},rc=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(0<a)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(0<f){if(c<a)return;l<a&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(c<a)return;l<a&&(l=a)}else if(0<f){if(a<l)return;a<c&&(c=a)}if(a=r-u,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(0<h){if(c<a)return;l<a&&(l=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(c<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<c&&(c=a)}return 0<l&&(t[0]=s+l*f,t[1]=u+l*h),c<1&&(e[0]=s+c*f,e[1]=u+c*h),!0}}}}},ic=1e9,oc=-ic;function ac(v,g,_,b){function x(t,e){return v<=t&&t<=_&&g<=e&&e<=b}function w(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?v:_,1<i?b:g),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return Gs(t[0]-v)<Vs?0<e?0:3:Gs(t[0]-_)<Vs?0<e?2:1:Gs(t[1]-g)<Vs?0<e?1:0:0<e?3:2}function E(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,s,u,l,c,h,p,d,m=r,t=Wl(),e={point:n,lineStart:function(){e.point=y,f&&f.push(o=[]);p=!0,h=!1,l=c=NaN},lineEnd:function(){i&&(y(a,s),u&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&m.lineEnd()},polygonStart:function(){m=t,i=[],f=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,u=o[0],l=u[0],c=u[1];a<s;++a)r=l,i=c,u=o[a],l=u[0],c=u[1],i<=b?b<c&&(c-i)*(v-r)<(l-r)*(b-i)&&++t:c<=b&&(l-r)*(b-i)<(c-i)*(v-r)&&--t;return t}(),e=d&&t,n=(i=L(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),w(null,null,1,r),r.lineEnd()),n&&Zl(i,E,t,w,r),r.polygonEnd());m=r,i=f=o=null}};function n(t,e){x(t,e)&&m.point(t,e)}function y(t,e){var n=x(t,e);if(f&&o.push([t,e]),p)a=t,s=e,p=!1,(u=n)&&(m.lineStart(),m.point(t,e));else if(n&&h)m.point(t,e);else{var r=[l=Math.max(oc,Math.min(ic,l)),c=Math.max(oc,Math.min(ic,c))],i=[t=Math.max(oc,Math.min(ic,t)),e=Math.max(oc,Math.min(ic,e))];rc(r,i,v,g,_,b)?(h||(m.lineStart(),m.point(r[0],r[1])),m.point(i[0],i[1]),n||m.lineEnd(),d=!1):n&&(m.lineStart(),m.point(t,e),d=!1)}l=t,c=e,h=n}return e}}var sc,uc,lc,cc=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=ac(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},fc=js(),hc={sphere:cu,point:cu,lineStart:function(){hc.point=dc,hc.lineEnd=pc},lineEnd:cu,polygonStart:cu,polygonEnd:cu};function pc(){hc.point=hc.lineEnd=cu}function dc(t,e){sc=t*=Zs,uc=ru(e*=Zs),lc=Js(e),hc.point=mc}function mc(t,e){t*=Zs;var n=ru(e*=Zs),r=Js(e),i=Gs(t-sc),o=Js(i),a=r*ru(i),s=lc*n-uc*r*o,u=uc*n+lc*r*o;fc.add(Ks(ou(a*a+s*s),u)),sc=t,uc=n,lc=r}var yc=function(t){return fc.reset(),xu(t,hc),+fc},vc=[null,null],gc={type:"LineString",coordinates:vc},_c=function(t,e){return vc[0]=t,vc[1]=e,yc(gc)},bc={Feature:function(t,e){return wc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(wc(n[r].geometry,e))return!0;return!1}},xc={Sphere:function(){return!0},Point:function(t,e){return Ec(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ec(n[r],e))return!0;return!1},LineString:function(t,e){return Sc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Sc(n[r],e))return!0;return!1},Polygon:function(t,e){return kc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(kc(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(wc(n[r],e))return!0;return!1}};function wc(t,e){return!(!t||!xc.hasOwnProperty(t.type))&&xc[t.type](t,e)}function Ec(t,e){return 0===_c(t,e)}function Sc(t,e){var n=_c(t[0],t[1]);return _c(t[0],e)+_c(e,t[1])<=n+Vs}function kc(t,e){return!!Kl(t.map(Mc),Tc(e))}function Mc(t){return(t=t.map(Tc)).pop(),t}function Tc(t){return[t[0]*Zs,t[1]*Zs]}var Cc=function(t,e){return(t&&bc.hasOwnProperty(t.type)?bc[t.type]:wc)(t,e)};function Pc(t,e,n){var r=k(t,e-Vs,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Ac(t,e,n){var r=k(t,e-Vs,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Oc(){var e,n,r,i,o,a,s,u,l,c,f,h,p=10,d=p,m=90,y=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:t()}}function t(){return k(Qs(i/m)*m,r,m).map(f).concat(k(Qs(u/y)*y,s,y).map(h)).concat(k(Qs(n/p)*p,e,p).filter(function(t){return Gs(t%m)>Vs}).map(l)).concat(k(Qs(a/d)*d,o,d).filter(function(t){return Gs(t%y)>Vs}).map(c))}return g.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},g.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.extentMajor(t).extentMinor(t):g.extentMinor()},g.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<u&&(t=u,u=s,s=t),g.precision(v)):[[i,u],[r,s]]},g.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),g.precision(v)):[[n,a],[e,o]]},g.step=function(t){return arguments.length?g.stepMajor(t).stepMinor(t):g.stepMinor()},g.stepMajor=function(t){return arguments.length?(m=+t[0],y=+t[1],g):[m,y]},g.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],g):[p,d]},g.precision=function(t){return arguments.length?(v=+t,l=Pc(a,o,90),c=Ac(n,e,v),f=Pc(u,s,90),h=Ac(i,r,v),g):v},g.extentMajor([[-180,-90+Vs],[180,90-Vs]]).extentMinor([[-180,-80-Vs],[180,80+Vs]])}function zc(){return Oc()()}var Ic,Rc,Nc,Dc,Lc=function(t,e){var n=t[0]*Zs,r=t[1]*Zs,i=e[0]*Zs,o=e[1]*Zs,a=Js(r),s=ru(r),u=Js(o),l=ru(o),c=a*Js(n),f=a*ru(n),h=u*Js(i),p=u*ru(i),d=2*uu(ou(lu(o-r)+a*u*lu(i-n))),m=ru(d),y=d?function(t){var e=ru(t*=d)/m,n=ru(d-t)/m,r=n*c+e*h,i=n*f+e*p,o=n*s+e*l;return[Ks(i,r)*Hs,Ks(o,ou(r*r+i*i))*Hs]}:function(){return[n*Hs,r*Hs]};return y.distance=d,y},jc=function(t){return t},Fc=js(),Bc=js(),Uc={point:cu,lineStart:cu,lineEnd:cu,polygonStart:function(){Uc.lineStart=Vc,Uc.lineEnd=Wc},polygonEnd:function(){Uc.lineStart=Uc.lineEnd=Uc.point=cu,Fc.add(Gs(Bc)),Bc.reset()},result:function(){var t=Fc/2;return Fc.reset(),t}};function Vc(){Uc.point=qc}function qc(t,e){Uc.point=Yc,Ic=Nc=t,Rc=Dc=e}function Yc(t,e){Bc.add(Dc*t-Nc*e),Nc=t,Dc=e}function Wc(){Yc(Ic,Rc)}var $c=Uc,Hc=1/0,Zc=Hc,Gc=-Hc,Xc=Gc;var Kc,Jc,Qc,tf,ef={point:function(t,e){t<Hc&&(Hc=t);Gc<t&&(Gc=t);e<Zc&&(Zc=e);Xc<e&&(Xc=e)},lineStart:cu,lineEnd:cu,polygonStart:cu,polygonEnd:cu,result:function(){var t=[[Hc,Zc],[Gc,Xc]];return Gc=Xc=-(Zc=Hc=1/0),t}},nf=0,rf=0,of=0,af=0,sf=0,uf=0,lf=0,cf=0,ff=0,hf={point:pf,lineStart:df,lineEnd:vf,polygonStart:function(){hf.lineStart=gf,hf.lineEnd=_f},polygonEnd:function(){hf.point=pf,hf.lineStart=df,hf.lineEnd=vf},result:function(){var t=ff?[lf/ff,cf/ff]:uf?[af/uf,sf/uf]:of?[nf/of,rf/of]:[NaN,NaN];return nf=rf=of=af=sf=uf=lf=cf=ff=0,t}};function pf(t,e){nf+=t,rf+=e,++of}function df(){hf.point=mf}function mf(t,e){hf.point=yf,pf(Qc=t,tf=e)}function yf(t,e){var n=t-Qc,r=e-tf,i=ou(n*n+r*r);af+=i*(Qc+t)/2,sf+=i*(tf+e)/2,uf+=i,pf(Qc=t,tf=e)}function vf(){hf.point=pf}function gf(){hf.point=bf}function _f(){xf(Kc,Jc)}function bf(t,e){hf.point=xf,pf(Kc=Qc=t,Jc=tf=e)}function xf(t,e){var n=t-Qc,r=e-tf,i=ou(n*n+r*r);af+=i*(Qc+t)/2,sf+=i*(tf+e)/2,uf+=i,lf+=(i=tf*t-Qc*e)*(Qc+t),cf+=i*(tf+e),ff+=3*i,pf(Qc=t,tf=e)}var wf=hf;function Ef(t){this._context=t}Ef.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,$s)}},result:cu};var Sf,kf,Mf,Tf,Cf,Pf=js(),Af={point:cu,lineStart:function(){Af.point=Of},lineEnd:function(){Sf&&zf(kf,Mf),Af.point=cu},polygonStart:function(){Sf=!0},polygonEnd:function(){Sf=null},result:function(){var t=+Pf;return Pf.reset(),t}};function Of(t,e){Af.point=zf,kf=Tf=t,Mf=Cf=e}function zf(t,e){Tf-=t,Cf-=e,Pf.add(ou(Tf*Tf+Cf*Cf)),Tf=t,Cf=e}var If=Af;function Rf(){this._string=[]}function Nf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Rf.prototype={_radius:4.5,_circle:Nf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Nf(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Df=function(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),xu(t,r(i))),i.result()}return a.area=function(t){return xu(t,r($c)),$c.result()},a.measure=function(t){return xu(t,r(If)),If.result()},a.bounds=function(t){return xu(t,r(ef)),ef.result()},a.centroid=function(t){return xu(t,r(wf)),wf.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,jc):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Rf):new Ef(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)},Lf=function(t){return{stream:jf(t)}};function jf(r){return function(t){var e=new Ff;for(var n in r)e[n]=r[n];return e.stream=t,e}}function Ff(){}function Bf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),xu(n,t.stream(ef)),e(ef.result()),null!=r&&t.clipExtent(r),t}function Uf(a,s,t){return Bf(a,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),i=+s[0][0]+(e-r*(t[1][0]+t[0][0]))/2,o=+s[0][1]+(n-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function Vf(t,e,n){return Uf(t,[[0,0],e],n)}function qf(o,a,t){return Bf(o,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),r=(e-n*(t[1][0]+t[0][0]))/2,i=-n*t[0][1];o.scale(150*n).translate([r,i])},t)}function Yf(o,a,t){return Bf(o,function(t){var e=+a,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],i=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([r,i])},t)}Ff.prototype={constructor:Ff,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Wf=Js(30*Zs),$f=function(t,e){return+e?function(P,A){function O(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d=a-t,m=s-e,y=d*d+m*m;if(4*A<y&&h--){var v=r+l,g=i+c,_=o+f,b=ou(v*v+g*g+_*_),x=uu(_/=b),w=Gs(Gs(_)-1)<Vs||Gs(n-u)<Vs?(n+u)/2:Ks(g,v),E=P(w,x),S=E[0],k=E[1],M=S-t,T=k-e,C=m*M-d*T;(A<C*C/y||.3<Gs((d*M+m*T)/y-.5)||r*l+i*c+o*f<Wf)&&(O(t,e,n,r,i,o,S,k,w,v/=b,g/=b,_,h,p),p.point(S,k),O(S,k,w,v,g,_,a,s,u,l,c,f,h,p))}}return function(i){var n,r,o,a,s,u,l,c,f,h,p,d,m={point:t,lineStart:e,lineEnd:v,polygonStart:function(){i.polygonStart(),m.lineStart=g},polygonEnd:function(){i.polygonEnd(),m.lineStart=e}};function t(t,e){t=P(t,e),i.point(t[0],t[1])}function e(){c=NaN,m.point=y,i.lineStart()}function y(t,e){var n=Ou([t,e]),r=P(t,e);O(c,f,l,h,p,d,c=r[0],f=r[1],l=t,h=n[0],p=n[1],d=n[2],16,i),i.point(c,f)}function v(){m.point=t,i.lineEnd()}function g(){e(),m.point=_,m.lineEnd=b}function _(t,e){y(n=t,e),r=c,o=f,a=h,s=p,u=d,m.point=y}function b(){O(c,f,l,h,p,d,r,o,n,a,s,u,16,i),(m.lineEnd=v)()}return m}}(t,e):(n=t,jf({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n};var Hf=jf({point:function(t,e){this.stream.point(t*Zs,e*Zs)}});function Zf(t,n,r,e){var i=Js(e),o=ru(e),a=i*t,s=o*t,u=i/t,l=o/t,c=(o*r-i*n)/t,f=(o*n+i*r)/t;function h(t,e){return[a*t-s*e+n,r-s*t-a*e]}return h.invert=function(t,e){return[u*t-l*e+c,f-l*t-u*e]},h}function Gf(t){return Xf(function(){return t})()}function Xf(t){var n,i,e,r,o,a,s,u,l,c,f=150,h=480,p=250,d=0,m=0,y=0,v=0,g=0,_=0,b=null,x=ec,w=null,E=jc,S=.5;function k(t){return u(t[0]*Zs,t[1]*Zs)}function M(t){return(t=u.invert(t[0],t[1]))&&[t[0]*Hs,t[1]*Hs]}function T(){var t=Zf(f,0,0,_).apply(null,n(d,m)),e=(_?Zf:function(n,r,i){function t(t,e){return[r+n*t,i-n*e]}return t.invert=function(t,e){return[(t-r)/n,(i-e)/n]},t})(f,h-t[0],p-t[1],_);return i=Ll(y,v,g),s=Nl(n,e),u=Nl(i,s),a=$f(s,S),C()}function C(){return l=c=null,k}return k.stream=function(t){return l&&c===t?l:l=Hf((r=i,jf({point:function(t,e){var n=r(t,e);return this.stream.point(n[0],n[1])}})(x(a(E(c=t))))));var r},k.preclip=function(t){return arguments.length?(x=t,b=void 0,C()):x},k.postclip=function(t){return arguments.length?(E=t,w=e=r=o=null,C()):E},k.clipAngle=function(t){return arguments.length?(x=+t?nc(b=t*Zs):(b=null,ec),C()):b*Hs},k.clipExtent=function(t){return arguments.length?(E=null==t?(w=e=r=o=null,jc):ac(w=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),C()):null==w?null:[[w,e],[r,o]]},k.scale=function(t){return arguments.length?(f=+t,T()):f},k.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],T()):[h,p]},k.center=function(t){return arguments.length?(d=t[0]%360*Zs,m=t[1]%360*Zs,T()):[d*Hs,m*Hs]},k.rotate=function(t){return arguments.length?(y=t[0]%360*Zs,v=t[1]%360*Zs,g=2<t.length?t[2]%360*Zs:0,T()):[y*Hs,v*Hs,g*Hs]},k.angle=function(t){return arguments.length?(_=t%360*Zs,T()):_*Hs},k.precision=function(t){return arguments.length?(a=$f(s,S=t*t),C()):ou(S)},k.fitExtent=function(t,e){return Uf(k,t,e)},k.fitSize=function(t,e){return Vf(k,t,e)},k.fitWidth=function(t,e){return qf(k,t,e)},k.fitHeight=function(t,e){return Yf(k,t,e)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&M,T()}}function Kf(t){var e=0,n=qs/3,r=Xf(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Zs,n=t[1]*Zs):[e*Hs,n*Hs]},i}function Jf(t,e){var n=ru(t),r=(n+ru(e))/2;if(Gs(r)<Vs)return function(t){var n=Js(t);function e(t,e){return[t*n,ru(e)/n]}return e.invert=function(t,e){return[t/n,uu(e*n)]},e}(t);var i=1+n*(2*r-n),o=ou(i)/r;function a(t,e){var n=ou(i-2*r*ru(e))/r;return[n*ru(t*=r),o-n*Js(t)]}return a.invert=function(t,e){var n=o-e;return[Ks(t,Gs(n))/r*iu(n),uu((i-(t*t+n*n)*r*r)/(2*r))]},a}var Qf=function(){return Kf(Jf).scale(155.424).center([0,33.6442])},th=function(){return Qf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var eh=function(){var e,n,i,o,a,r,s=th(),u=Qf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Qf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,i.point(e,n),r||(o.point(e,n),r)||(a.point(e,n),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:s).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),u.stream(t),l.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),l.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),l.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c),o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+Vs,r+.12*e+Vs],[n-.214*e-Vs,r+.234*e-Vs]]).stream(c),a=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+Vs,r+.166*e+Vs],[n-.115*e-Vs,r+.234*e-Vs]]).stream(c),h()},f.fitExtent=function(t,e){return Uf(f,t,e)},f.fitSize=function(t,e){return Vf(f,t,e)},f.fitWidth=function(t,e){return qf(f,t,e)},f.fitHeight=function(t,e){return Yf(f,t,e)},f.scale(1070)};function nh(o){return function(t,e){var n=Js(t),r=Js(e),i=o(n*r);return[i*r*ru(t),i*ru(e)]}}function rh(a){return function(t,e){var n=ou(t*t+e*e),r=a(n),i=ru(r),o=Js(r);return[Ks(t*i,n*o),uu(n&&e*i/n)]}}var ih=nh(function(t){return ou(2/(1+t))});ih.invert=rh(function(t){return 2*uu(t/2)});var oh=function(){return Gf(ih).scale(124.75).clipAngle(179.999)},ah=nh(function(t){return(t=su(t))&&t/ru(t)});ah.invert=rh(function(t){return t});var sh=function(){return Gf(ah).scale(79.4188).clipAngle(179.999)};function uh(t,e){return[t,eu(au((Ys+e)/2))]}uh.invert=function(t,e){return[t,2*Xs(tu(e))-Ys]};var lh=function(){return ch(uh).scale(961/$s)};function ch(n){var r,i,o,a=Gf(n),e=a.center,s=a.scale,u=a.translate,l=a.clipExtent,c=null;function f(){var t=qs*s(),e=a(Ul(a.rotate()).invert([0,0]));return l(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===uh?[[Math.max(e[0]-t,c),r],[Math.min(e[0]+t,i),o]]:[[c,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?c=r=i=o=null:(c=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==c?null:[[c,r],[i,o]]},f()}function fh(t){return au((Ys+t)/2)}function hh(t,e){var n=Js(t),i=t===e?ru(t):eu(n/Js(e))/eu(fh(e)/fh(t)),o=n*nu(fh(t),i)/i;if(!i)return uh;function r(t,e){0<o?e<-Ys+Vs&&(e=-Ys+Vs):Ys-Vs<e&&(e=Ys-Vs);var n=o/nu(fh(e),i);return[n*ru(i*t),o-n*Js(i*t)]}return r.invert=function(t,e){var n=o-e,r=iu(i)*ou(t*t+n*n);return[Ks(t,Gs(n))/i*iu(n),2*Xs(nu(o/r,1/i))-Ys]},r}var ph=function(){return Kf(hh).scale(109.5).parallels([30,30])};function dh(t,e){return[t,e]}dh.invert=dh;var mh=function(){return Gf(dh).scale(152.63)};function yh(t,e){var n=Js(t),i=t===e?ru(t):(n-Js(e))/(e-t),o=n/i+t;if(Gs(i)<Vs)return dh;function r(t,e){var n=o-e,r=i*t;return[n*ru(r),o-n*Js(r)]}return r.invert=function(t,e){var n=o-e;return[Ks(t,Gs(n))/i*iu(n),o-iu(i)*ou(t*t+n*n)]},r}var vh=function(){return Kf(yh).scale(131.154).center([0,13.9389])},gh=1.340264,_h=-.081106,bh=893e-6,xh=.003796,wh=ou(3)/2;function Eh(t,e){var n=uu(wh*ru(e)),r=n*n,i=r*r*r;return[t*Js(n)/(wh*(gh+3*_h*r+i*(7*bh+9*xh*r))),n*(gh+_h*r+i*(bh+xh*r))]}Eh.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(gh+_h*i+o*(bh+xh*i))-e)/(gh+3*_h*i+o*(7*bh+9*xh*i)))*r)*i*i,!(Gs(n)<1e-12));++a);return[wh*t*(gh+3*_h*i+o*(7*bh+9*xh*i))/Js(r),uu(ru(r)/wh)]};var Sh=function(){return Gf(Eh).scale(177.158)};function kh(t,e){var n=Js(e),r=Js(t)*n;return[n*ru(t)/r,ru(e)/r]}kh.invert=rh(Xs);var Mh=function(){return Gf(kh).scale(144.049).clipAngle(60)};function Th(n,r,i,o){return 1===n&&1===r&&0===i&&0===o?jc:jf({point:function(t,e){this.stream.point(t*n+i,e*r+o)}})}var Ch=function(){var e,n,r,i,o,a,s=1,u=0,l=0,c=1,f=1,h=jc,p=null,d=jc;function m(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(t){return arguments.length?(d=t,p=e=n=r=null,m()):d},clipExtent:function(t){return arguments.length?(d=null==t?(p=e=n=r=null,jc):ac(p=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),m()):null==p?null:[[p,e],[n,r]]},scale:function(t){return arguments.length?(h=Th((s=+t)*c,s*f,u,l),m()):s},translate:function(t){return arguments.length?(h=Th(s*c,s*f,u=+t[0],l=+t[1]),m()):[u,l]},reflectX:function(t){return arguments.length?(h=Th(s*(c=t?-1:1),s*f,u,l),m()):c<0},reflectY:function(t){return arguments.length?(h=Th(s*c,s*(f=t?-1:1),u,l),m()):f<0},fitExtent:function(t,e){return Uf(a,t,e)},fitSize:function(t,e){return Vf(a,t,e)},fitWidth:function(t,e){return qf(a,t,e)},fitHeight:function(t,e){return Yf(a,t,e)}}};function Ph(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ph.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Gs(n)>Vs&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Ah=function(){return Gf(Ph).scale(175.295)};function Oh(t,e){return[Js(e)*ru(t),ru(e)]}Oh.invert=rh(uu);var zh=function(){return Gf(Oh).scale(249.5).clipAngle(90+Vs)};function Ih(t,e){var n=Js(e),r=1+Js(t)*n;return[n*ru(t)/r,ru(e)/r]}Ih.invert=rh(function(t){return 2*Xs(t)});var Rh=function(){return Gf(Ih).scale(250).clipAngle(142)};function Nh(t,e){return[eu(au((Ys+e)/2)),-t]}Nh.invert=function(t,e){return[-e,2*Xs(tu(t))-Ys]};var Dh=function(){var t=ch(Nh),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function Lh(t,e){return t.parent===e.parent?1:2}function jh(t,e){return t+e.x}function Fh(t,e){return Math.max(t,e.y)}var Bh=function(){var s=Lh,u=1,l=1,c=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(jh,0)/e.length,t.y=1+n.reduce(Fh,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*l})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,u=+t[0],l=+t[1],e):c?null:[u,l]},e.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],l=+t[1],e):c?[u,l]:null},e};function Uh(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function Vh(t,e){var n,r,i,o,a,s=new $h(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=qh);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)l.push(r=n.children[o]=new $h(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Wh)}function qh(t){return t.children}function Yh(t){t.data=t.data.data}function Wh(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function $h(t){this.data=t,this.depth=this.height=0,this.parent=null}$h.prototype=Vh.prototype={constructor:$h,count:function(){return this.eachAfter(Uh)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return Vh(this).eachBefore(Yh)}};var Hh=Array.prototype.slice;var Zh=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Hh.call(t))).length,o=[];r<i;)e=t[r],n&&Kh(n,e)?++r:(n=Qh(o=Gh(o,e)),r=0);return n};function Gh(t,e){var n,r;if(Jh(e,t))return[e];for(n=0;n<t.length;++n)if(Xh(e,t[n])&&Jh(tp(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Xh(tp(t[n],t[r]),e)&&Xh(tp(t[n],e),t[r])&&Xh(tp(t[r],e),t[n])&&Jh(ep(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Xh(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Kh(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function Jh(t,e){for(var n=0;n<e.length;++n)if(!Kh(t,e[n]))return!1;return!0}function Qh(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return tp(t[0],t[1]);case 3:return ep(t[0],t[1],t[2])}var e}function tp(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function ep(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,h=r-a,p=r-l,d=i-s,m=i-c,y=u-o,v=f-o,g=r*r+i*i-o*o,_=g-a*a-s*s+u*u,b=g-l*l-c*c+f*f,x=p*d-h*m,w=(d*b-m*_)/(2*x)-r,E=(m*y-d*v)/x,S=(p*_-h*b)/(2*x)-i,k=(h*v-p*y)/x,M=E*E+k*k-1,T=2*(o+w*E+S*k),C=w*w+S*S-o*o,P=-(M?(T+Math.sqrt(T*T-4*M*C))/(2*M):C/T);return{x:r+w+E*P,y:i+S+k*P,r:P}}function np(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,l=s*s+u*u;n.y=l?(i=e.r+n.r,i*=i,a=t.r+n.r,(a*=a)<i?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*u,t.y-r*u+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*u,e.y+r*u+o*s)):(n.x=e.x+n.r,e.y)}function rp(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function ip(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function op(t){this._=t,this.next=null,this.previous=null}function ap(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,l,c,f;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;np(n,e,r=t[2]),e=new op(e),n=new op(n),r=new op(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){np(e._,n._,r=t[s]),r=new op(r),u=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(rp(u._,r._)){n=u,(e.next=n).previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(rp(l._,r._)){((e=l).next=n).previous=e,--s;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=ip(e);(r=r.next)!==n;)(a=ip(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Zh(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var sp=function(t){return ap(t),t};function up(t){if("function"!=typeof t)throw new Error;return t}function lp(){return 0}var cp=function(t){return function(){return t}};function fp(t){return Math.sqrt(t.value)}var hp=function(){var n=null,e=1,r=1,i=lp;function o(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(pp(n)).eachAfter(dp(i,.5)).eachBefore(mp(1)):t.eachBefore(pp(fp)).eachAfter(dp(lp,1)).eachAfter(dp(i,t.r/Math.min(e,r))).eachBefore(mp(Math.min(e,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=null==(e=t)?null:up(e),o):n;var e},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:cp(+t),o):i},o};function pp(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function dp(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=ap(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function mp(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}var yp=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},vp=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},gp=function(){var n=1,r=1,s=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&vp(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(yp),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},_p={depth:-1},bp={};function xp(t){return t.id}function wp(t){return t.parentId}var Ep=function(){var f=xp,h=wp;function e(t){var e,n,r,i,o,a,s,u=t.length,l=new Array(u),c={};for(n=0;n<u;++n)e=t[n],o=l[n]=new $h(e),null!=(a=f(e,n,t))&&(a+="")&&(c[s="$"+(o.id=a)]=s in c?bp:o);for(n=0;n<u;++n)if(o=l[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(i=c["$"+a]))throw new Error("missing: "+a);if(i===bp)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=_p,r.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Wh),r.parent=null,0<u)throw new Error("cycle");return r}return e.id=function(t){return arguments.length?(f=up(t),e):f},e.parentId=function(t){return arguments.length?(h=up(t),e):h},e};function Sp(t,e){return t.parent===e.parent?1:2}function kp(t){var e=t.children;return e?e[0]:t.t}function Mp(t){var e=t.children;return e?e[e.length-1]:t.t}function Tp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Tp.prototype=Object.create($h.prototype);var Cp=function(){var _=Sp,l=1,c=1,f=null;function e(t){var e=function(t){for(var e,n,r,i,o,a=new Tp(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)s.push(n=e.children[i]=new Tp(r[i],i)),n.parent=e;return(a.parent=new Tp(null,0)).children=[a],a}(t);if(e.eachAfter(h),e.parent.m=-e.z,e.eachBefore(p),f)t.eachBefore(d);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=n===r?1:_(n,r)/2,a=o-n.x,s=l/(r.x+o+a),u=c/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+_(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,l=o.m,c=a.m,f=s.m;a=Mp(a),i=kp(i),a&&i;)s=kp(s),(o=Mp(o)).a=t,0<(r=a.z+c-i.z-u+_(a._,i._))&&(v=t,g=n,h=(y=a).a.parent===v.parent?y.a:g,void 0,m=(d=r)/((p=t).i-h.i),p.c-=m,p.s+=d,h.c+=m,p.z+=d,p.m+=d,u+=r,l+=r),c+=a.m,u+=i.m,f+=s.m,l+=o.m;a&&!Mp(o)&&(o.t=a,o.m+=c-l),i&&!kp(s)&&(s.t=i,s.m+=u-f,n=t)}var h,p,d,m;var y,v,g;return n}(t,r,t.parent.A||n[0])}function p(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function d(t){t.x*=l,t.y=t.depth*c}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(f=!1,l=+t[0],c=+t[1],e):f?null:[l,c]},e.nodeSize=function(t){return arguments.length?(f=!0,l=+t[0],c=+t[1],e):f?[l,c]:null},e},Pp=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},Ap=(1+Math.sqrt(5))/2;function Op(t,e,n,r,i,o){for(var a,s,u,l,c,f,h,p,d,m,y,v=[],g=e.children,_=0,b=0,x=g.length,w=e.value;_<x;){for(u=i-n,l=o-r;!(c=g[b++].value)&&b<x;);for(f=h=c,y=c*c*(m=Math.max(l/u,u/l)/(w*t)),d=Math.max(h/y,y/f);b<x;++b){if(c+=s=g[b].value,s<f&&(f=s),h<s&&(h=s),y=c*c*m,d<(p=Math.max(h/y,y/f))){c-=s;break}d=p}v.push(a={value:c,dice:u<l,children:g.slice(_,b)}),a.dice?vp(a,n,r,i,w?r+=l*c/w:o):Pp(a,n,r,w?n+=u*c/w:i,o),w-=c,_=b}return v}var zp=function e(o){function t(t,e,n,r,i){Op(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ap),Ip=function(){var a=zp,e=!1,n=1,r=1,s=[0],u=lp,l=lp,c=lp,f=lp,h=lp;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),s=[0],e&&t.eachBefore(yp),t}function o(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=h(t)-e,r+=l(t)-e,(i-=c(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=up(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:cp(+t),i):u},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:cp(+t),i):l},i.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:cp(+t),i):c},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:cp(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:cp(+t),i):h},i},Rp=function(t,e,n,r,i){var o,a,g=t.children,s=g.length,_=new Array(s+1);for(_[0]=a=o=0;o<s;++o)_[o+1]=a+=g[o].value;!function t(e,n,r,i,o,a,s){if(n-1<=e){var u=g[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=s)}var l=_[e],c=r/2+l,f=e+1,h=n-1;for(;f<h;){var p=f+h>>>1;_[p]<c?f=p+1:h=p}c-_[f-1]<_[f]-c&&e+1<f&&--f;var d=_[f]-l,m=r-d;if(s-o<a-i){var y=(i*m+a*d)/r;t(e,f,d,i,o,y,s),t(f,n,m,y,o,a,s)}else{var v=(o*m+s*d)/r;t(e,f,d,i,o,a,v),t(f,n,m,i,v,a,s)}}(0,s,t.value,e,n,r,i)},Np=function(t,e,n,r,i){(1&t.depth?Pp:vp)(t,e,n,r,i)},Dp=function e(p){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===p)for(var o,a,s,u,l,c=-1,f=o.length,h=t.value;++c<f;){for(s=(a=o[c]).children,u=a.value=0,l=s.length;u<l;++u)a.value+=s[u].value;a.dice?vp(a,e,n,r,n+=(i-n)*a.value/h):Pp(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=Op(p,t,e,n,r,i),o.ratio=p}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Ap),Lp=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},jp=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]};function Fp(t,e){return t[0]-e[0]||t[1]-e[1]}function Bp(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;++s){for(;1<a&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}var Up=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Fp),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Bp(r),a=Bp(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;0<=e;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[r[a[e]][2]]);return l},Vp=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,f=0;f<i;++f)n=(o=t[f])[0],s<(r=o[1])!=s<l&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},qp=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},Yp=function(){return Math.random()},Wp=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Yp),$p=function t(o){function e(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,!(i=r*r+t*t)||1<i;);return e+n*t*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Yp),Hp=function t(e){function n(){var t=$p.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Yp),Zp=function t(r){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=r();return t}}return e.source=t,e}(Yp),Gp=function t(n){function e(t){var e=Zp.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Yp),Xp=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Yp),Kp=Array.prototype,Jp=Kp.map,Qp=Kp.slice,td={name:"implicit"};function ed(r){var o=Wo(),a=[],i=td;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==td)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:Qp.call(r),s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=Wo();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(r=Qp.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return ed().domain(a).range(r).unknown(i)},s}function nd(){var o,a,t=ed().unknown(void 0),s=t.domain,u=t.range,l=[0,1],c=!1,f=0,h=0,p=.5;function e(){var t=s().length,e=l[1]<l[0],n=l[e-0],r=l[1-e];o=(r-n)/Math.max(1,t-f+2*h),c&&(o=Math.floor(o)),n+=(r-n-o*(t-f))*p,a=o*(1-f),c&&(n=Math.round(n),a=Math.round(a));var i=k(t).map(function(t){return n+o*t});return u(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(f=h=Math.max(0,Math.min(1,t)),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},t.copy=function(){return nd().domain(s()).range(l).round(c).paddingInner(f).paddingOuter(h).align(p)},e()}function rd(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(nd().paddingInner(1))}var id=function(t){return function(){return t}},od=function(t){return+t},ad=[0,1];function sd(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:id(n)}function ud(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return a=o<i?(i=n(o,i),r(s,a)):(i=n(i,o),r(a,s)),function(t){return a(i(t))}}function ld(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=m(n,t,1,i)-1;return a[e](o[e](t))}}function cd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function fd(e,n){var r,o,a,s=ad,u=ad,l=Gn,c=!1;function i(){return r=2<Math.min(s.length,u.length)?ld:ud,o=a=null,t}function t(t){return(o||(o=r(s,u,c?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,l)))(+t);var i}return t.invert=function(t){return(a||(a=r(u,s,sd,c?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n)))(+t);var i},t.domain=function(t){return arguments.length?(s=Jp.call(t,od),i()):s.slice()},t.range=function(t){return arguments.length?(u=Qp.call(t),i()):u.slice()},t.rangeRound=function(t){return u=Qp.call(t),l=Jn,i()},t.clamp=function(t){return arguments.length?(c=!!t,i()):c},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}var hd=function(t,e,n){var r,i=t[0],o=t[t.length-1],a=C(i,o,null==e?10:e);switch((n=Es(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Ds(a,s))||(n.precision=r),Cs(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Ls(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Ns(a))||(n.precision=r-2*("%"===n.type))}return Ts(n)};function pd(s){var u=s.domain;return s.ticks=function(t){var e=u();return M(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return hd(u(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=u(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=T(o,a,t))?e=T(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=T(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,u(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,u(n)),s},s}function dd(){var t=fd(sd,Bn);return t.copy=function(){return cd(t,dd())},pd(t)}function md(){var e=[0,1];function n(t){return+t}return(n.invert=n).domain=n.range=function(t){return arguments.length?(e=Jp.call(t,od),n):e.slice()},n.copy=function(){return md().domain(e)},pd(n)}var yd=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function vd(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:id(n)}function gd(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function _d(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bd(e){return 10===e?_d:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function xd(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function wd(e){return function(t){return-e(-t)}}function Ed(){var e=fd(vd,gd).domain([1,10]),h=e.domain,p=10,d=xd(10),m=bd(10);function n(){return d=xd(p),m=bd(p),h()[0]<0&&(d=wd(d),m=wd(m)),e}return e.base=function(t){return arguments.length?(p=+t,n()):p},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1];(e=i<r)&&(u=r,r=i,i=u);var o,a,s,u=d(r),l=d(i),c=null==t?10:+t,f=[];if(!(p%1)&&l-u<c){if(u=Math.round(u)-1,l=Math.round(l)+1,0<r){for(;u<l;++u)for(a=1,o=m(u);a<p;++a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else for(;u<l;++u)for(a=p-1,o=m(u);1<=a;--a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else f=M(u,l,Math.min(l-u,c)).map(m);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===p?".0e":","),"function"!=typeof n&&(n=Ts(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,p*t/e.ticks().length);return function(t){var e=t/m(Math.round(d(t)));return e*p<p-.5&&(e*=p),e<=r?n(t):""}},e.nice=function(){return h(yd(h(),{floor:function(t){return m(Math.floor(d(t)))},ceil:function(t){return m(Math.ceil(d(t)))}}))},e.copy=function(){return cd(e,Ed().base(p))},e}function Sd(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function kd(){var r=1,t=fd(function(e,n){return(n=Sd(n,r)-(e=Sd(e,r)))?function(t){return(Sd(t,r)-e)/n}:id(n)},function(e,n){return n=Sd(n,r)-(e=Sd(e,r)),function(t){return Sd(e+n*t,1/r)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,e(e())):r},t.copy=function(){return cd(t,kd().exponent(r))},pd(t)}function Md(){return kd().exponent(.5)}function Td(){var i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=O(i,t/e);return a}function a(t){if(!isNaN(t=+t))return n[m(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(s),o()},a.range=function(t){return arguments.length?(n=Qp.call(t),o()):n.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return Td().domain(i).range(n)},a}function Cd(){var n=0,r=1,i=1,o=[.5],a=[0,1];function e(t){if(t<=t)return a[m(o,t,0,i)]}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return e}return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},e.range=function(t){return arguments.length?(i=(a=Qp.call(t)).length-1,s()):a.slice()},e.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},e.copy=function(){return Cd().domain([n,r]).range(a)},pd(e)}function Pd(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[m(n,t,0,e)]}return i.domain=function(t){return arguments.length?(n=Qp.call(t),e=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=Qp.call(t),e=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return Pd().domain(n).range(r)},i}var Ad=new Date,Od=new Date;function zd(o,a,n,r){function s(t){return o(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return zd(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return Ad.setTime(+t),Od.setTime(+e),o(Ad),o(Od),Math.floor(n(Ad,Od))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var Id=zd(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Id.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?zd(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Id:null};var Rd=Id,Nd=Id.range,Dd=zd(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ld=Dd,jd=Dd.range,Fd=zd(function(t){t.setTime(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),Bd=Fd,Ud=Fd.range,Vd=zd(function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),qd=Vd,Yd=Vd.range,Wd=zd(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),$d=Wd,Hd=Wd.range;function Zd(e){return zd(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Gd=Zd(0),Xd=Zd(1),Kd=Zd(2),Jd=Zd(3),Qd=Zd(4),tm=Zd(5),em=Zd(6),nm=Gd.range,rm=Xd.range,im=Kd.range,om=Jd.range,am=Qd.range,sm=tm.range,um=em.range,lm=zd(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),cm=lm,fm=lm.range,hm=zd(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});hm.every=function(n){return isFinite(n=Math.floor(n))&&0<n?zd(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var pm=hm,dm=hm.range,mm=zd(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),ym=mm,vm=mm.range,gm=zd(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),_m=gm,bm=gm.range,xm=zd(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),wm=xm,Em=xm.range;function Sm(e){return zd(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var km=Sm(0),Mm=Sm(1),Tm=Sm(2),Cm=Sm(3),Pm=Sm(4),Am=Sm(5),Om=Sm(6),zm=km.range,Im=Mm.range,Rm=Tm.range,Nm=Cm.range,Dm=Pm.range,Lm=Am.range,jm=Om.range,Fm=zd(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Bm=Fm,Um=Fm.range,Vm=zd(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Vm.every=function(n){return isFinite(n=Math.floor(n))&&0<n?zd(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var qm=Vm,Ym=Vm.range;function Wm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $m(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hm(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Zm(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=ay(e),c=sy(e),f=ay(n),h=sy(n),p=ay(a),d=sy(a),m=ay(s),y=sy(s),v=ay(u),g=sy(u),_={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ty,e:Ty,f:zy,H:Cy,I:Py,j:Ay,L:Oy,m:Iy,M:Ry,p:function(t){return e[+(12<=t.getHours())]},Q:uv,s:lv,S:Ny,u:Dy,U:Ly,V:jy,w:Fy,W:By,x:null,X:null,y:Uy,Y:Vy,Z:qy,"%":sv},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Yy,e:Yy,f:Gy,H:Wy,I:$y,j:Hy,L:Zy,m:Xy,M:Ky,p:function(t){return e[+(12<=t.getUTCHours())]},Q:uv,s:lv,S:Jy,u:Qy,U:tv,V:ev,w:nv,W:rv,x:null,X:null,y:iv,Y:ov,Z:av,"%":sv},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return S(t,r,e,n)},d:vy,e:vy,f:Ey,H:_y,I:_y,j:gy,L:wy,m:yy,M:by,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:ky,s:My,S:xy,u:ly,U:cy,V:fy,w:uy,W:hy,x:function(t,e,n){return S(t,i,e,n)},X:function(t,e,n){return S(t,o,e,n)},y:dy,Y:py,Z:my,"%":Sy};function w(u,l){return function(t){var e,n,r,i=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(i.push(u.slice(a,o)),null!=(n=ty[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(r=l[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(u.slice(a,o)),i.join("")}}function E(i,o){return function(t){var e,n,r=Hm(1900);if(S(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),r.d="Z"in r?(e=4<(n=(e=$m(Hm(r.y))).getUTCDay())||0===n?Mm.ceil(e):Mm(e),e=wm.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=o(Hm(r.y))).getDay())||0===n?Xd.ceil(e):Xd(e),e=$d.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?$m(Hm(r.y)).getUTCDay():o(Hm(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,$m(r)):o(r)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(u<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in ty?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(i,_),_.X=w(o,_),_.c=w(r,_),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",Wm);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,$m);return e.toString=function(){return t},e}}}var Gm,Xm,Km,Jm,Qm,ty={"-":"",_:" ",0:"0"},ey=/^\s*\d+/,ny=/^%/,ry=/[\\^$*+?|[\]().{}]/g;function iy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oy(t){return t.replace(ry,"\\$&")}function ay(t){return new RegExp("^(?:"+t.map(oy).join("|")+")","i")}function sy(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function uy(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ly(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function py(t,e,n){var r=ey.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function my(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gy(t,e,n){var r=ey.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _y(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function by(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wy(t,e,n){var r=ey.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ey(t,e,n){var r=ey.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sy(t,e,n){var r=ny.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ky(t,e,n){var r=ey.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function My(t,e,n){var r=ey.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Ty(t,e){return iy(t.getDate(),e,2)}function Cy(t,e){return iy(t.getHours(),e,2)}function Py(t,e){return iy(t.getHours()%12||12,e,2)}function Ay(t,e){return iy(1+$d.count(pm(t),t),e,3)}function Oy(t,e){return iy(t.getMilliseconds(),e,3)}function zy(t,e){return Oy(t,e)+"000"}function Iy(t,e){return iy(t.getMonth()+1,e,2)}function Ry(t,e){return iy(t.getMinutes(),e,2)}function Ny(t,e){return iy(t.getSeconds(),e,2)}function Dy(t){var e=t.getDay();return 0===e?7:e}function Ly(t,e){return iy(Gd.count(pm(t),t),e,2)}function jy(t,e){var n=t.getDay();return t=4<=n||0===n?Qd(t):Qd.ceil(t),iy(Qd.count(pm(t),t)+(4===pm(t).getDay()),e,2)}function Fy(t){return t.getDay()}function By(t,e){return iy(Xd.count(pm(t),t),e,2)}function Uy(t,e){return iy(t.getFullYear()%100,e,2)}function Vy(t,e){return iy(t.getFullYear()%1e4,e,4)}function qy(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+iy(e/60|0,"0",2)+iy(e%60,"0",2)}function Yy(t,e){return iy(t.getUTCDate(),e,2)}function Wy(t,e){return iy(t.getUTCHours(),e,2)}function $y(t,e){return iy(t.getUTCHours()%12||12,e,2)}function Hy(t,e){return iy(1+wm.count(qm(t),t),e,3)}function Zy(t,e){return iy(t.getUTCMilliseconds(),e,3)}function Gy(t,e){return Zy(t,e)+"000"}function Xy(t,e){return iy(t.getUTCMonth()+1,e,2)}function Ky(t,e){return iy(t.getUTCMinutes(),e,2)}function Jy(t,e){return iy(t.getUTCSeconds(),e,2)}function Qy(t){var e=t.getUTCDay();return 0===e?7:e}function tv(t,e){return iy(km.count(qm(t),t),e,2)}function ev(t,e){var n=t.getUTCDay();return t=4<=n||0===n?Pm(t):Pm.ceil(t),iy(Pm.count(qm(t),t)+(4===qm(t).getUTCDay()),e,2)}function nv(t){return t.getUTCDay()}function rv(t,e){return iy(Mm.count(qm(t),t),e,2)}function iv(t,e){return iy(t.getUTCFullYear()%100,e,2)}function ov(t,e){return iy(t.getUTCFullYear()%1e4,e,4)}function av(){return"+0000"}function sv(){return"%"}function uv(t){return+t}function lv(t){return Math.floor(+t/1e3)}function cv(t){return Gm=Zm(t),Xm=Gm.format,Km=Gm.parse,Jm=Gm.utcFormat,Qm=Gm.utcParse,Gm}cv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fv="%Y-%m-%dT%H:%M:%S.%LZ";var hv=Date.prototype.toISOString?function(t){return t.toISOString()}:Jm(fv);var pv=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Qm(fv),dv=1e3,mv=60*dv,yv=60*mv,vv=24*yv,gv=7*vv,_v=30*vv,bv=365*vv;function xv(t){return new Date(t)}function wv(t){return t instanceof Date?+t:+new Date(+t)}function Ev(a,e,n,r,i,o,s,u,l){var c=fd(sd,Bn),f=c.invert,h=c.domain,p=l(".%L"),d=l(":%S"),m=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),g=l("%b %d"),_=l("%B"),b=l("%Y"),x=[[s,1,dv],[s,5,5*dv],[s,15,15*dv],[s,30,30*dv],[o,1,mv],[o,5,5*mv],[o,15,15*mv],[o,30,30*mv],[i,1,yv],[i,3,3*yv],[i,6,6*yv],[i,12,12*yv],[r,1,vv],[r,2,2*vv],[n,1,gv],[e,1,_v],[e,3,3*_v],[a,1,bv]];function w(t){return(s(t)<t?p:o(t)<t?d:i(t)<t?m:r(t)<t?y:e(t)<t?n(t)<t?v:g:a(t)<t?_:b)(t)}function E(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,o=S(function(t){return t[2]}).right(x,i);t=o===x.length?(r=C(e/bv,n/bv,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(C(e,n,t),1),u)}return null==r?t:t.every(r)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Jp.call(t,wv)):h().map(xv)},c.ticks=function(t,e){var n,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=E(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t,e){var n=h();return(t=E(t,n[0],n[n.length-1],e))?h(yd(n,t)):c},c.copy=function(){return cd(c,Ev(a,e,n,r,i,o,s,u,l))},c}var Sv=function(){return Ev(pm,cm,Gd,$d,qd,Bd,Ld,Rd,Xm).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},kv=function(){return Ev(qm,Bm,km,wm,_m,ym,Ld,Rd,Jm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])};function Mv(n){var r=0,e=1,i=1,o=!1;function a(t){var e=(t-r)*i;return n(o?Math.max(0,Math.min(1,e)):e)}return a.domain=function(t){return arguments.length?(r=+t[0],e=+t[1],i=r===e?0:1/(e-r),a):[r,e]},a.clamp=function(t){return arguments.length?(o=!!t,a):o},a.interpolator=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return Mv(n).domain([r,e]).clamp(o)},pd(a)}function Tv(n){var e=0,r=.5,i=1,o=1,a=1,s=!1;function u(t){var e=.5+((t=+t)-r)*(t<r?o:a);return n(s?Math.max(0,Math.min(1,e)):e)}return u.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=+t[2],o=e===r?0:.5/(r-e),a=r===i?0:.5/(i-r),u):[e,r,i]},u.clamp=function(t){return arguments.length?(s=!!t,u):s},u.interpolator=function(t){return arguments.length?(n=t,u):n},u.copy=function(){return Tv(n).domain([e,r,i]).clamp(s)},pd(u)}var Cv=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},Pv=Cv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Av=Cv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ov=Cv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),zv=Cv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Iv=Cv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Rv=Cv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Nv=Cv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Dv=Cv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Lv=Cv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),jv=function(t){return Dn(t[t.length-1])},Fv=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Cv),Bv=jv(Fv),Uv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Cv),Vv=jv(Uv),qv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Cv),Yv=jv(qv),Wv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Cv),$v=jv(Wv),Hv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Cv),Zv=jv(Hv),Gv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Cv),Xv=jv(Gv),Kv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Cv),Jv=jv(Kv),Qv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Cv),tg=jv(Qv),eg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Cv),ng=jv(eg),rg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Cv),ig=jv(rg),og=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Cv),ag=jv(og),sg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Cv),ug=jv(sg),lg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Cv),cg=jv(lg),fg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Cv),hg=jv(fg),pg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Cv),dg=jv(pg),mg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Cv),yg=jv(mg),vg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Cv),gg=jv(vg),_g=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Cv),bg=jv(_g),xg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Cv),wg=jv(xg),Eg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Cv),Sg=jv(Eg),kg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Cv),Mg=jv(kg),Tg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Cv),Cg=jv(Tg),Pg=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Cv),Ag=jv(Pg),Og=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Cv),zg=jv(Og),Ig=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Cv),Rg=jv(Ig),Ng=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Cv),Dg=jv(Ng),Lg=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Cv),jg=jv(Lg),Fg=vr(Sn(300,.5,0),Sn(-240,.5,1)),Bg=vr(Sn(-100,.75,.35),Sn(80,1.5,.8)),Ug=vr(Sn(260,.75,.35),Sn(80,1.5,.8)),Vg=Sn(),qg=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Vg.h=360*t-100,Vg.s=1.5-1.5*e,Vg.l=.8-.9*e,Vg+""},Yg=Ye(),Wg=Math.PI/3,$g=2*Math.PI/3,Hg=function(t){var e;return t=(.5-t)*Math.PI,Yg.r=255*(e=Math.sin(t))*e,Yg.g=255*(e=Math.sin(t+Wg))*e,Yg.b=255*(e=Math.sin(t+$g))*e,Yg+""};function Zg(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var Gg=Zg(Cv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Xg=Zg(Cv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Kg=Zg(Cv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Jg=Zg(Cv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Qg=function(t){return function(){return t}},t_=Math.abs,e_=Math.atan2,n_=Math.cos,r_=Math.max,i_=Math.min,o_=Math.sin,a_=Math.sqrt,s_=1e-12,u_=Math.PI,l_=u_/2,c_=2*u_;function f_(t){return 1<=t?l_:t<=-1?-l_:Math.asin(t)}function h_(t){return t.innerRadius}function p_(t){return t.outerRadius}function d_(t){return t.startAngle}function m_(t){return t.endAngle}function y_(t){return t&&t.padAngle}function v_(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/a_(s*s+u*u),c=l*u,f=-l*s,h=t+c,p=e+f,d=n+c,m=r+f,y=(h+d)/2,v=(p+m)/2,g=d-h,_=m-p,b=g*g+_*_,x=i-o,w=h*m-d*p,E=(_<0?-1:1)*a_(r_(0,x*x*b-w*w)),S=(w*_-g*E)/b,k=(-w*g-_*E)/b,M=(w*_+g*E)/b,T=(-w*g+_*E)/b,C=S-y,P=k-v,A=M-y,O=T-v;return A*A+O*O<C*C+P*P&&(S=M,k=T),{cx:S,cy:k,x01:-c,y01:-f,x11:S*(i/x-1),y11:k*(i/x-1)}}var g_=function(){var Z=h_,G=p_,X=Qg(0),K=null,J=d_,Q=m_,tt=y_,et=null;function e(){var t,e,n,r,i,o,a,s,u,l,c,f,h=+Z.apply(this,arguments),p=+G.apply(this,arguments),d=J.apply(this,arguments)-l_,m=Q.apply(this,arguments)-l_,y=t_(m-d),v=d<m;if(et||(et=t=Do()),p<h&&(e=p,p=h,h=e),s_<p)if(c_-s_<y)et.moveTo(p*n_(d),p*o_(d)),et.arc(0,0,p,d,m,!v),s_<h&&(et.moveTo(h*n_(m),h*o_(m)),et.arc(0,0,h,m,d,v));else{var g,_,b=d,x=m,w=d,E=m,S=y,k=y,M=tt.apply(this,arguments)/2,T=s_<M&&(K?+K.apply(this,arguments):a_(h*h+p*p)),C=i_(t_(p-h)/2,+X.apply(this,arguments)),P=C,A=C;if(s_<T){var O=f_(T/h*o_(M)),z=f_(T/p*o_(M));(S-=2*O)>s_?(w+=O*=v?1:-1,E-=O):(S=0,w=E=(d+m)/2),(k-=2*z)>s_?(b+=z*=v?1:-1,x-=z):(k=0,b=x=(d+m)/2)}var I=p*n_(b),R=p*o_(b),N=h*n_(E),D=h*o_(E);if(s_<C){var L=p*n_(x),j=p*o_(x),F=h*n_(w),B=h*o_(w);if(y<u_){var U=s_<S?[(r=I)+(f=((l=N-(o=L))*((i=R)-(a=j))-(c=D-a)*(r-o))/(c*(s=F-r)-l*(u=B-i)))*s,i+f*u]:[N,D],V=I-U[0],q=R-U[1],Y=L-U[0],W=j-U[1],$=1/o_((1<(n=(V*Y+q*W)/(a_(V*V+q*q)*a_(Y*Y+W*W)))?0:n<-1?u_:Math.acos(n))/2),H=a_(U[0]*U[0]+U[1]*U[1]);P=i_(C,(h-H)/($-1)),A=i_(C,(p-H)/($+1))}}s_<k?s_<A?(g=v_(F,B,I,R,p,A,v),_=v_(L,j,N,D,p,A,v),et.moveTo(g.cx+g.x01,g.cy+g.y01),A<C?et.arc(g.cx,g.cy,A,e_(g.y01,g.x01),e_(_.y01,_.x01),!v):(et.arc(g.cx,g.cy,A,e_(g.y01,g.x01),e_(g.y11,g.x11),!v),et.arc(0,0,p,e_(g.cy+g.y11,g.cx+g.x11),e_(_.cy+_.y11,_.cx+_.x11),!v),et.arc(_.cx,_.cy,A,e_(_.y11,_.x11),e_(_.y01,_.x01),!v))):(et.moveTo(I,R),et.arc(0,0,p,b,x,!v)):et.moveTo(I,R),s_<h&&s_<S?s_<P?(g=v_(N,D,L,j,h,-P,v),_=v_(I,R,F,B,h,-P,v),et.lineTo(g.cx+g.x01,g.cy+g.y01),P<C?et.arc(g.cx,g.cy,P,e_(g.y01,g.x01),e_(_.y01,_.x01),!v):(et.arc(g.cx,g.cy,P,e_(g.y01,g.x01),e_(g.y11,g.x11),!v),et.arc(0,0,h,e_(g.cy+g.y11,g.cx+g.x11),e_(_.cy+_.y11,_.cx+_.x11),v),et.arc(_.cx,_.cy,P,e_(_.y11,_.x11),e_(_.y01,_.x01),!v))):et.arc(0,0,h,E,w,v):et.lineTo(N,D)}else et.moveTo(0,0);if(et.closePath(),t)return et=null,t+""||null}return e.centroid=function(){var t=(+Z.apply(this,arguments)+ +G.apply(this,arguments))/2,e=(+J.apply(this,arguments)+ +Q.apply(this,arguments))/2-u_/2;return[n_(e)*t,o_(e)*t]},e.innerRadius=function(t){return arguments.length?(Z="function"==typeof t?t:Qg(+t),e):Z},e.outerRadius=function(t){return arguments.length?(G="function"==typeof t?t:Qg(+t),e):G},e.cornerRadius=function(t){return arguments.length?(X="function"==typeof t?t:Qg(+t),e):X},e.padRadius=function(t){return arguments.length?(K=null==t?null:"function"==typeof t?t:Qg(+t),e):K},e.startAngle=function(t){return arguments.length?(J="function"==typeof t?t:Qg(+t),e):J},e.endAngle=function(t){return arguments.length?(Q="function"==typeof t?t:Qg(+t),e):Q},e.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:Qg(+t),e):tt},e.context=function(t){return arguments.length?(et=null==t?null:t,e):et},e};function __(t){this._context=t}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var b_=function(t){return new __(t)};function x_(t){return t[0]}function w_(t){return t[1]}var E_=function(){var a=x_,s=w_,u=Qg(!0),l=null,c=b_,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==l&&(f=c(r=Do())),e=0;e<=i;++e)!(e<i&&u(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:Qg(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:Qg(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:Qg(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(f=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=f=null:f=c(l=t),e):l},e},S_=function(){var c=x_,f=null,h=Qg(0),p=w_,d=Qg(!0),m=null,y=b_,v=null;function e(t){var e,n,r,i,o,a=t.length,s=!1,u=new Array(a),l=new Array(a);for(null==m&&(v=y(o=Do())),e=0;e<=a;++e){if(!(e<a&&d(i=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),r=e-1;n<=r;--r)v.point(u[r],l[r]);v.lineEnd(),v.areaEnd()}s&&(u[e]=+c(i,e,t),l[e]=+h(i,e,t),v.point(f?+f(i,e,t):u[e],p?+p(i,e,t):l[e]))}if(o)return v=null,o+""||null}function t(){return E_().defined(d).curve(y).context(m)}return e.x=function(t){return arguments.length?(c="function"==typeof t?t:Qg(+t),f=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:Qg(+t),e):c},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:Qg(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:Qg(+t),p=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:Qg(+t),e):h},e.y1=function(t){return arguments.length?(p=null==t?null:"function"==typeof t?t:Qg(+t),e):p},e.lineX0=e.lineY0=function(){return t().x(c).y(h)},e.lineY1=function(){return t().x(c).y(p)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(d="function"==typeof t?t:Qg(!!t),e):d},e.curve=function(t){return arguments.length?(y=t,null!=m&&(v=y(m)),e):y},e.context=function(t){return arguments.length?(null==t?m=v=null:v=y(m=t),e):m},e},k_=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},M_=function(t){return t},T_=function(){var d=M_,m=k_,y=null,v=Qg(0),g=Qg(c_),_=Qg(0);function e(n){var t,e,r,i,o,a=n.length,s=0,u=new Array(a),l=new Array(a),c=+v.apply(this,arguments),f=Math.min(c_,Math.max(-c_,g.apply(this,arguments)-c)),h=Math.min(Math.abs(f)/a,_.apply(this,arguments)),p=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=l[u[t]=t]=+d(n[t],t,n))&&(s+=o);for(null!=m?u.sort(function(t,e){return m(l[t],l[e])}):null!=y&&u.sort(function(t,e){return y(n[t],n[e])}),t=0,r=s?(f-a*p)/s:0;t<a;++t,c=i)e=u[t],i=c+(0<(o=l[e])?o*r:0)+p,l[e]={data:n[e],index:t,value:o,startAngle:c,endAngle:i,padAngle:h};return l}return e.value=function(t){return arguments.length?(d="function"==typeof t?t:Qg(+t),e):d},e.sortValues=function(t){return arguments.length?(m=t,y=null,e):m},e.sort=function(t){return arguments.length?(y=t,m=null,e):y},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:Qg(+t),e):v},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:Qg(+t),e):g},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:Qg(+t),e):_},e},C_=A_(b_);function P_(t){this._curve=t}function A_(e){function t(t){return new P_(e(t))}return t._curve=e,t}function O_(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(A_(t)):e()._curve},t}P_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var z_=function(){return O_(E_().curve(C_))},I_=function(){var t=S_().curve(C_),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return O_(n())},delete t.lineX0,t.lineEndAngle=function(){return O_(r())},delete t.lineX1,t.lineInnerRadius=function(){return O_(i())},delete t.lineY0,t.lineOuterRadius=function(){return O_(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(A_(t)):e()._curve},t},R_=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},N_=Array.prototype.slice;function D_(t){return t.source}function L_(t){return t.target}function j_(i){var o=D_,a=L_,s=x_,u=w_,l=null;function e(){var t,e=N_.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(l||(l=t=Do()),i(l,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=r,e)),+u.apply(this,e)),t)return l=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:Qg(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:Qg(+t),e):u},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e}function F_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function B_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function U_(t,e,n,r,i){var o=R_(e,n),a=R_(e,n=(n+i)/2),s=R_(r,n),u=R_(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function V_(){return j_(F_)}function q_(){return j_(B_)}function Y_(){var t=j_(U_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var W_={draw:function(t,e){var n=Math.sqrt(e/u_);t.moveTo(n,0),t.arc(0,0,n,0,c_)}},$_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},H_=Math.sqrt(1/3),Z_=2*H_,G_={draw:function(t,e){var n=Math.sqrt(e/Z_),r=n*H_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},X_=Math.sin(u_/10)/Math.sin(7*u_/10),K_=Math.sin(c_/10)*X_,J_=-Math.cos(c_/10)*X_,Q_={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=K_*n,i=J_*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=c_*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},tb={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},eb=Math.sqrt(3),nb={draw:function(t,e){var n=-Math.sqrt(e/(3*eb));t.moveTo(0,2*n),t.lineTo(-eb*n,-n),t.lineTo(eb*n,-n),t.closePath()}},rb=Math.sqrt(3)/2,ib=1/Math.sqrt(12),ob=3*(ib/2+1),ab={draw:function(t,e){var n=Math.sqrt(e/ob),r=n/2,i=n*ib,o=r,a=n*ib+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-rb*i,rb*r+-.5*i),t.lineTo(-.5*o-rb*a,rb*o+-.5*a),t.lineTo(-.5*s-rb*u,rb*s+-.5*u),t.lineTo(-.5*r+rb*i,-.5*i-rb*r),t.lineTo(-.5*o+rb*a,-.5*a-rb*o),t.lineTo(-.5*s+rb*u,-.5*u-rb*s),t.closePath()}},sb=[W_,$_,G_,tb,Q_,nb,ab],ub=function(){var e=Qg(W_),n=Qg(64),r=null;function i(){var t;if(r||(r=t=Do()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:Qg(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:Qg(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},lb=function(){};function cb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fb(t){this._context=t}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var hb=function(t){return new fb(t)};function pb(t){this._context=t}pb.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var db=function(t){return new pb(t)};function mb(t){this._context=t}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:cb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var yb=function(t){return new mb(t)};function vb(t,e){this._basis=new fb(t),this._beta=e}vb.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var gb=function e(n){function t(t){return 1===n?new fb(t):new vb(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function _b(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function bb(t,e){this._context=t,this._k=(1-e)/6}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_b(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:_b(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xb=function e(n){function t(t){return new bb(t,n)}return t.tension=function(t){return e(+t)},t}(0);function wb(t,e){this._context=t,this._k=(1-e)/6}wb.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_b(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Eb=function e(n){function t(t){return new wb(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Sb(t,e){this._context=t,this._k=(1-e)/6}Sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_b(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kb=function e(n){function t(t){return new Sb(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Mb(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>s_){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>s_){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Tb(t,e){this._context=t,this._alpha=e}Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Mb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Cb=function e(n){function t(t){return n?new Tb(t,n):new bb(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Pb(t,e){this._context=t,this._alpha=e}Pb.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ab=function e(n){function t(t){return n?new Pb(t,n):new wb(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ob(t,e){this._context=t,this._alpha=e}Ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zb=function e(n){function t(t){return n?new Ob(t,n):new Sb(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ib(t){this._context=t}Ib.prototype={areaStart:lb,areaEnd:lb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Rb=function(t){return new Ib(t)};function Nb(t){return t<0?-1:1}function Db(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Nb(o)+Nb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Lb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jb(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Fb(t){this._context=t}function Bb(t){this._context=new Ub(t)}function Ub(t){this._context=t}function Vb(t){return new Fb(t)}function qb(t){return new Bb(t)}function Yb(t){this._context=t}function Wb(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jb(this,this._t0,Lb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jb(this,Lb(this,n=Db(this,t,e)),n);break;default:jb(this,this._t0,n=Db(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Bb.prototype=Object.create(Fb.prototype)).point=function(t,e){Fb.prototype.point.call(this,e,t)},Ub.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Wb(t),i=Wb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var $b=function(t){return new Yb(t)};function Hb(t,e){this._context=t,this._t=e}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Zb=function(t){return new Hb(t,.5)};function Gb(t){return new Hb(t,0)}function Xb(t){return new Hb(t,1)}var Kb=function(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Jb=function(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n};function Qb(t,e){return t[e]}var tx=function(){var f=Qg([]),h=Jb,p=Kb,d=Qb;function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=r[e],l=a[e]=new Array(i),c=0;c<i;++c)l[c]=s=[0,+d(t[c],u,c,t)],s.data=t[c];l.key=u}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return p(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:Qg(N_.call(t)),e):f},e.value=function(t){return arguments.length?(d="function"==typeof t?t:Qg(+t),e):d},e.order=function(t){return arguments.length?(h=null==t?Jb:"function"==typeof t?t:Qg(N_.call(t)),e):h},e.offset=function(t){return arguments.length?(p=null==t?Kb:t,e):p},e},ex=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Kb(t,e)}},nx=function(t,e){if(1<(s=t.length))for(var n,r,i,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)0<=(i=(r=t[e[n]][u])[1]-r[0])?(r[0]=o,r[1]=o+=i):r[0]=i<0?(r[1]=a,a+=i):o},rx=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Kb(t,e)}},ix=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=t[e[s]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];h+=(d[a][1]||0)-(d[a-1][1]||0)}u+=f,l+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,Kb(t,e)}},ox=function(t){var n=t.map(ax);return Jb(t).sort(function(t,e){return n[t]-n[e]})};function ax(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var sx=function(t){return ox(t).reverse()},ux=function(t){var e,n,r=t.length,i=t.map(ax),o=Jb(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},lx=function(t){return Jb(t).reverse()},cx=function(t){return function(){return t}};function fx(t){return t[0]}function hx(t){return t[1]}function px(){this._=null}function dx(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function mx(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function yx(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function vx(t){for(;t.L;)t=t.L;return t}px.prototype={constructor:px,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=vx(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(mx(this,n),n=(t=n).U),n.C=!1,r.C=!0,yx(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(yx(this,n),n=(t=n).U),n.C=!1,r.C=!0,mx(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?vx(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,mx(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,yx(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,mx(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,yx(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,mx(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,yx(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var gx=px;function _x(t,e,n,r){var i=[null,null],o=Ux.push(i)-1;return i.left=t,i.right=e,n&&xx(i,t,e,n),r&&xx(i,e,t,r),Fx[t.index].halfedges.push(o),Fx[e.index].halfedges.push(o),i}function bx(t,e,n){var r=[e,n];return r.left=t,r}function xx(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function wx(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,f=1,h=s[0]-u,p=s[1]-l;if(o=e-u,h||!(0<o)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(0<h){if(f<o)return;c<o&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(f<o)return;c<o&&(c=o)}else if(0<h){if(o<c)return;o<f&&(f=o)}if(o=n-l,p||!(0<o)){if(o/=p,p<0){if(o<c)return;o<f&&(f=o)}else if(0<p){if(f<o)return;c<o&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(f<o)return;c<o&&(c=o)}else if(0<p){if(o<c)return;o<f&&(f=o)}return(0<c||f<1)&&(0<c&&(t[0]=[u+c*h,l+c*p]),f<1&&(t[1]=[u+f*h,l+f*p])),!0}}}}}function Ex(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,f=l[0],h=l[1],p=c[0],d=c[1],m=(f+p)/2,y=(h+d)/2;if(d===h){if(m<e||r<=m)return;if(p<f){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(s=y-(a=(f-p)/(d-h))*m,a<-1||1<a)if(p<f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Sx(t,e){return e[+(e.left!==t.site)]}var kx,Mx=[];function Tx(){dx(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cx(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(u*f-l*c);if(!(-qx<=h)){var p=u*u+l*l,d=c*c+f*f,m=(f*p-l*d)/h,y=(u*d-c*p)/h,v=Mx.pop()||new Tx;v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=y+s)+Math.sqrt(m*m+y*y),t.circle=v;for(var g=null,_=Bx._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){g=_.P;break}_=_.L}else{if(!_.R){g=_;break}_=_.R}Bx.insert(g,v),g||(kx=v)}}}}function Px(t){var e=t.circle;e&&(e.P||(kx=e.N),Bx.remove(e),Mx.push(e),dx(e),t.circle=null)}var Ax=[];function Ox(){dx(this),this.edge=this.site=this.circle=null}function zx(t){var e=Ax.pop()||new Ox;return e.site=t,e}function Ix(t){Px(t),jx.remove(t),Ax.push(t),dx(t)}function Rx(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Ix(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Vx&&Math.abs(r-u.circle.cy)<Vx;)o=u.P,s.unshift(u),Ix(u),u=o;s.unshift(u),Px(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Vx&&Math.abs(r-l.circle.cy)<Vx;)a=l.N,s.push(l),Ix(l),l=a;s.push(l),Px(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],xx(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=_x(u.site,l.site,null,i),Cx(u),Cx(l)}function Nx(t){for(var e,n,r,i,o,a=t[0],s=t[1],u=jx._;u;)if(r=Dx(u,s)-a,Vx<r)u=u.L;else{if(i=a-Lx(u,s),!(Vx<i)){-Vx<r?(e=u.P,n=u):-Vx<i?n=(e=u).N:e=n=u;break}if(!u.R){e=u;break}u=u.R}Fx[(o=t).index]={site:o,halfedges:[]};var l=zx(t);if(jx.insert(e,l),e||n){if(e===n)return Px(e),n=zx(e.site),jx.insert(l,n),l.edge=n.edge=_x(e.site,l.site),Cx(e),void Cx(n);if(n){Px(e),Px(n);var c=e.site,f=c[0],h=c[1],p=t[0]-f,d=t[1]-h,m=n.site,y=m[0]-f,v=m[1]-h,g=2*(p*v-d*y),_=p*p+d*d,b=y*y+v*v,x=[(v*_-d*b)/g+f,(p*b-y*_)/g+h];xx(n.edge,c,m,x),l.edge=_x(c,t,null,x),n.edge=_x(t,m,null,x),Cx(e),Cx(n)}else l.edge=_x(e.site,l.site)}}function Dx(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function Lx(t,e){var n=t.N;if(n)return Dx(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var jx,Fx,Bx,Ux,Vx=1e-6,qx=1e-12;function Yx(t,e){return e[1]-t[1]||e[0]-t[0]}function Wx(t,e){var n,r,i,o=t.sort(Yx).pop();for(Ux=[],Fx=new Array(t.length),jx=new gx,Bx=new gx;;)if(i=kx,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Nx(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Rx(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Fx.length;i<o;++i)if((t=Fx[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=(u=t,l=Ux[e[n]],h=f=void 0,c=u.site,f=l.left,h=l.right,c===h&&(h=f,f=c),h?Math.atan2(h[1]-f[1],h[0]-f[0]):(h=c===f?(f=l[1],l[0]):(f=l[0],l[1]),Math.atan2(f[0]-h[0],h[1]-f[1])));for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}var u,l,c,f,h}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=Ux.length;o--;)Ex(i=Ux[o],t,e,n,r)&&wx(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Vx||Math.abs(i[0][1]-i[1][1])>Vx)||delete Ux[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,f,h,p,d,m,y,v,g=Fx.length,_=!0;for(i=0;i<g;++i)if(o=Fx[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Ux[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)y=o,d=(p=(v=Ux[u[s]])[+(v.left===y.site)])[0],m=p[1],f=(c=Sx(o,Ux[u[++s%l]]))[0],h=c[1],(Math.abs(d-f)>Vx||Math.abs(m-h)>Vx)&&(u.splice(s,0,Ux.push(bx(a,p,Math.abs(d-t)<Vx&&Vx<r-m?[t,Math.abs(f-t)<Vx?h:r]:Math.abs(m-r)<Vx&&Vx<n-d?[Math.abs(h-r)<Vx?f:n,r]:Math.abs(d-n)<Vx&&Vx<m-e?[n,Math.abs(f-n)<Vx?h:e]:Math.abs(m-e)<Vx&&Vx<d-t?[Math.abs(h-e)<Vx?f:t,e]:null))-1),++l);l&&(_=!1)}if(_){var b,x,w,E=1/0;for(i=0,_=null;i<g;++i)(o=Fx[i])&&(w=(b=(a=o.site)[0]-t)*b+(x=a[1]-e)*x)<E&&(E=w,_=o);if(_){var S=[t,e],k=[t,r],M=[n,r],T=[n,e];_.halfedges.push(Ux.push(bx(a=_.site,S,k))-1,Ux.push(bx(a,k,M))-1,Ux.push(bx(a,M,T))-1,Ux.push(bx(a,T,S))-1)}}for(i=0;i<g;++i)(o=Fx[i])&&(o.halfedges.length||delete Fx[i])}(a,s,u,l)}this.edges=Ux,this.cells=Fx,jx=Bx=Ux=Fx=null}Wx.prototype={constructor:Wx,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return Sx(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],p=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,i,o,a,s,u=t.site,l=-1,c=p[n[r-1]],f=c.left===u?c.right:c.left;++l<r;)i=f,f=(c=p[n[l]]).left===u?c.right:c.left,i&&f&&e<i.index&&e<f.index&&(a=i,s=f,((o=u)[0]-s[0])*(a[1]-o[1])-(o[0]-a[0])*(s[1]-o[1])<0)&&h.push([u.data,i.data,f.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,l=this,c=l._found||0,n=l.cells.length;!(u=l.cells[c]);)if(++c>=n)return null;for(var r=a-u.site[0],i=s-u.site[1],f=r*r+i*i;u=l.cells[e=c],c=null,u.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var r=a-n[0],i=s-n[1],o=r*r+i*i;o<f&&(f=o,c=n.index)}}),null!==c;);return l._found=e,null==t||f<=t*t?u.site:null}};var $x=function(){var i=fx,o=hx,e=null;function n(r){return new Wx(r.map(function(t,e){var n=[Math.round(i(t,e,r)/Vx)*Vx,Math.round(o(t,e,r)/Vx)*Vx];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(i="function"==typeof t?t:cx(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:cx(+t),n):o},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},Hx=function(t){return function(){return t}};function Zx(t,e,n){this.target=t,this.type=e,this.transform=n}function Gx(t,e,n){this.k=t,this.x=e,this.y=n}Gx.prototype={constructor:Gx,scale:function(t){return 1===t?this:new Gx(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Gx(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xx=new Gx(1,0,0);function Kx(t){return t.__zoom||Xx}function Jx(){$t.stopImmediatePropagation()}Kx.prototype=Gx.prototype;var Qx=function(){$t.preventDefault(),$t.stopImmediatePropagation()};function tw(){return!$t.button}function ew(){var t,e,n=this;return e=n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(t=n.clientWidth,n.clientHeight),[[0,0],[t,e]]}function nw(){return this.__zoom||Xx}function rw(){return-$t.deltaY*($t.deltaMode?120:1)/500}function iw(){return"ontouchstart"in this}function ow(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var aw=function(){var p,o,s=tw,c=ew,d=ow,i=rw,e=iw,a=[0,1/0],m=[[-1/0,-1/0],[1/0,1/0]],u=250,f=sr,l=[],n=ht("start","zoom","end"),h=500,y=150,v=0;function g(t){t.property("__zoom",nw).on("wheel.zoom",r).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(e).on("touchstart.zoom",T).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Gx(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Gx(t.k,r,i)}function x(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,u,l){t.on("start.zoom",function(){E(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=E(this,t),e=c.apply(this,t),i=l||x(e),o=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,a="function"==typeof u?u.apply(this,t):u,s=f(n.invert(i).concat(o/n.k),a.invert(i).concat(o/a.k));return function(t){if(1===t)t=a;else{var e=s(t),n=o/e[2];t=new Gx(n,i[0]-e[0]*n,i[1]-e[1]*n)}r.zoom(null,t)}})}function E(t,e){for(var n,r=0,i=l.length;r<i;++r)if((n=l[r]).that===t)return n;return new S(t,e)}function S(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=c.apply(t,e)}function r(){if(s.apply(this,arguments)){var t=E(this,arguments),e=this.__zoom,n=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,i.apply(this,arguments)))),r=ce(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],Gr(this),t.start()}Qx(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},y),t.zoom("mouse",d(b(_(e,n),t.mouse[0],t.mouse[1]),t.extent,m))}}function k(){if(!o&&s.apply(this,arguments)){var n=E(this,arguments),t=re($t.view).on("mousemove.zoom",function(){if(Qx(),!n.moved){var t=$t.clientX-r,e=$t.clientY-i;n.moved=v<t*t+e*e}n.zoom("mouse",d(b(n.that.__zoom,n.mouse[0]=ce(n.that),n.mouse[1]),n.extent,m))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),ve($t.view,n.moved),Qx(),n.end()},!0),e=ce(this),r=$t.clientX,i=$t.clientY;ye($t.view),Jx(),n.mouse=[e,this.__zoom.invert(e)],Gr(this),n.start()}}function M(){if(s.apply(this,arguments)){var t=this.__zoom,e=ce(this),n=t.invert(e),r=t.k*($t.shiftKey?.5:2),i=d(b(_(t,r),e,n),c.apply(this,arguments),m);Qx(),0<u?re(this).transition().duration(u).call(w,i,e):re(this).call(g.transform,i)}}function T(){if(s.apply(this,arguments)){var t,e,n,r,i=E(this,arguments),o=$t.changedTouches,a=o.length;for(Jx(),e=0;e<a;++e)n=o[e],r=[r=he(this,o,n.identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(p&&(p=clearTimeout(p),!i.touch1))return i.end(),void((r=re(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(p=setTimeout(function(){p=null},h),Gr(this),i.start())}}function C(){var t,e,n,r,i=E(this,arguments),o=$t.changedTouches,a=o.length;for(Qx(),p&&(p=clearTimeout(p)),t=0;t<a;++t)e=o[t],n=he(this,o,e.identifier),i.touch0&&i.touch0[2]===e.identifier?i.touch0[0]=n:i.touch1&&i.touch1[2]===e.identifier&&(i.touch1[0]=n);if(e=i.that.__zoom,i.touch1){var s=i.touch0[0],u=i.touch0[1],l=i.touch1[0],c=i.touch1[1],f=(f=l[0]-s[0])*f+(f=l[1]-s[1])*f,h=(h=c[0]-u[0])*h+(h=c[1]-u[1])*h;e=_(e,Math.sqrt(f/h)),n=[(s[0]+l[0])/2,(s[1]+l[1])/2],r=[(u[0]+c[0])/2,(u[1]+c[1])/2]}else{if(!i.touch0)return;n=i.touch0[0],r=i.touch0[1]}i.zoom("touch",d(b(e,n,r),i.extent,m))}function P(){var t,e,n=E(this,arguments),r=$t.changedTouches,i=r.length;for(Jx(),o&&clearTimeout(o),o=setTimeout(function(){o=null},h),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return g.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",nw),t!==n?w(t,e):n.interrupt().each(function(){E(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},g.scaleBy=function(t,e){g.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},g.scaleTo=function(t,o){g.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=x(t),r=e.invert(n),i="function"==typeof o?o.apply(this,arguments):o;return d(b(_(e,i),n,r),t,m)})},g.translateBy=function(t,e,n){g.transform(t,function(){return d(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),m)})},g.translateTo=function(t,r,i){g.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=x(t);return d(Xx.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,m)})},S.prototype={start:function(){return 1==++this.active&&(this.index=l.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(l.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Kt(new Zx(g,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Hx(+t),g):i},g.filter=function(t){return arguments.length?(s="function"==typeof t?t:Hx(!!t),g):s},g.touchable=function(t){return arguments.length?(e="function"==typeof t?t:Hx(!!t),g):e},g.extent=function(t){return arguments.length?(c="function"==typeof t?t:Hx([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):c},g.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],g):[a[0],a[1]]},g.translateExtent=function(t){return arguments.length?(m[0][0]=+t[0][0],m[1][0]=+t[1][0],m[0][1]=+t[0][1],m[1][1]=+t[1][1],g):[[m[0][0],m[0][1]],[m[1][0],m[1][1]]]},g.constrain=function(t){return arguments.length?(d=t,g):d},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=n.on.apply(n,arguments);return t===n?g:t},g.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,g):Math.sqrt(v)},g};n.d(e,"version",function(){return"5.7.0"}),n.d(e,"bisect",function(){return m}),n.d(e,"bisectRight",function(){return i}),n.d(e,"bisectLeft",function(){return o}),n.d(e,"ascending",function(){return s}),n.d(e,"bisector",function(){return S}),n.d(e,"cross",function(){return u}),n.d(e,"descending",function(){return l}),n.d(e,"deviation",function(){return p}),n.d(e,"extent",function(){return y}),n.d(e,"histogram",function(){return A}),n.d(e,"thresholdFreedmanDiaconis",function(){return z}),n.d(e,"thresholdScott",function(){return I}),n.d(e,"thresholdSturges",function(){return P}),n.d(e,"max",function(){return R}),n.d(e,"mean",function(){return N}),n.d(e,"median",function(){return D}),n.d(e,"merge",function(){return L}),n.d(e,"min",function(){return j}),n.d(e,"pairs",function(){return a}),n.d(e,"permute",function(){return F}),n.d(e,"quantile",function(){return O}),n.d(e,"range",function(){return k}),n.d(e,"scan",function(){return B}),n.d(e,"shuffle",function(){return U}),n.d(e,"sum",function(){return V}),n.d(e,"ticks",function(){return M}),n.d(e,"tickIncrement",function(){return T}),n.d(e,"tickStep",function(){return C}),n.d(e,"transpose",function(){return q}),n.d(e,"variance",function(){return h}),n.d(e,"zip",function(){return W}),n.d(e,"axisTop",function(){return rt}),n.d(e,"axisRight",function(){return it}),n.d(e,"axisBottom",function(){return ot}),n.d(e,"axisLeft",function(){return at}),n.d(e,"brush",function(){return bo}),n.d(e,"brushX",function(){return go}),n.d(e,"brushY",function(){return _o}),n.d(e,"brushSelection",function(){return vo}),n.d(e,"chord",function(){return Co}),n.d(e,"ribbon",function(){return Vo}),n.d(e,"nest",function(){return $o}),n.d(e,"set",function(){return ta}),n.d(e,"map",function(){return Wo}),n.d(e,"keys",function(){return ea}),n.d(e,"values",function(){return na}),n.d(e,"entries",function(){return ra}),n.d(e,"color",function(){return Be}),n.d(e,"rgb",function(){return Ye}),n.d(e,"hsl",function(){return Ze}),n.d(e,"lab",function(){return un}),n.d(e,"hcl",function(){return yn}),n.d(e,"lch",function(){return mn}),n.d(e,"gray",function(){return sn}),n.d(e,"cubehelix",function(){return Sn}),n.d(e,"contours",function(){return fa}),n.d(e,"contourDensity",function(){return va}),n.d(e,"dispatch",function(){return ht}),n.d(e,"drag",function(){return Se}),n.d(e,"dragDisable",function(){return ye}),n.d(e,"dragEnable",function(){return ve}),n.d(e,"dsvFormat",function(){return xa}),n.d(e,"csvParse",function(){return Ea}),n.d(e,"csvParseRows",function(){return Sa}),n.d(e,"csvFormat",function(){return ka}),n.d(e,"csvFormatRows",function(){return Ma}),n.d(e,"tsvParse",function(){return Ca}),n.d(e,"tsvParseRows",function(){return Pa}),n.d(e,"tsvFormat",function(){return Aa}),n.d(e,"tsvFormatRows",function(){return Oa}),n.d(e,"easeLinear",function(){return ii}),n.d(e,"easeQuad",function(){return si}),n.d(e,"easeQuadIn",function(){return oi}),n.d(e,"easeQuadOut",function(){return ai}),n.d(e,"easeQuadInOut",function(){return si}),n.d(e,"easeCubic",function(){return ci}),n.d(e,"easeCubicIn",function(){return ui}),n.d(e,"easeCubicOut",function(){return li}),n.d(e,"easeCubicInOut",function(){return ci}),n.d(e,"easePoly",function(){return pi}),n.d(e,"easePolyIn",function(){return fi}),n.d(e,"easePolyOut",function(){return hi}),n.d(e,"easePolyInOut",function(){return pi}),n.d(e,"easeSin",function(){return gi}),n.d(e,"easeSinIn",function(){return yi}),n.d(e,"easeSinOut",function(){return vi}),n.d(e,"easeSinInOut",function(){return gi}),n.d(e,"easeExp",function(){return xi}),n.d(e,"easeExpIn",function(){return _i}),n.d(e,"easeExpOut",function(){return bi}),n.d(e,"easeExpInOut",function(){return xi}),n.d(e,"easeCircle",function(){return Si}),n.d(e,"easeCircleIn",function(){return wi}),n.d(e,"easeCircleOut",function(){return Ei}),n.d(e,"easeCircleInOut",function(){return Si}),n.d(e,"easeBounce",function(){return Di}),n.d(e,"easeBounceIn",function(){return Ni}),n.d(e,"easeBounceOut",function(){return Di}),n.d(e,"easeBounceInOut",function(){return Li}),n.d(e,"easeBack",function(){return Bi}),n.d(e,"easeBackIn",function(){return ji}),n.d(e,"easeBackOut",function(){return Fi}),n.d(e,"easeBackInOut",function(){return Bi}),n.d(e,"easeElastic",function(){return qi}),n.d(e,"easeElasticIn",function(){return Vi}),n.d(e,"easeElasticOut",function(){return qi}),n.d(e,"easeElasticInOut",function(){return Yi}),n.d(e,"blob",function(){return Ia}),n.d(e,"buffer",function(){return Na}),n.d(e,"dsv",function(){return Fa}),n.d(e,"csv",function(){return Ba}),n.d(e,"tsv",function(){return Ua}),n.d(e,"image",function(){return Va}),n.d(e,"json",function(){return Ya}),n.d(e,"text",function(){return La}),n.d(e,"xml",function(){return $a}),n.d(e,"html",function(){return Ha}),n.d(e,"svg",function(){return Za}),n.d(e,"forceCenter",function(){return Ga}),n.d(e,"forceCollide",function(){return us}),n.d(e,"forceLink",function(){return fs}),n.d(e,"forceManyBody",function(){return ys}),n.d(e,"forceRadial",function(){return vs}),n.d(e,"forceSimulation",function(){return ms}),n.d(e,"forceX",function(){return gs}),n.d(e,"forceY",function(){return _s}),n.d(e,"formatDefaultLocale",function(){return Rs}),n.d(e,"format",function(){return Ts}),n.d(e,"formatPrefix",function(){return Cs}),n.d(e,"formatLocale",function(){return Is}),n.d(e,"formatSpecifier",function(){return Es}),n.d(e,"precisionFixed",function(){return Ns}),n.d(e,"precisionPrefix",function(){return Ds}),n.d(e,"precisionRound",function(){return Ls}),n.d(e,"geoArea",function(){return Pu}),n.d(e,"geoBounds",function(){return xl}),n.d(e,"geoCentroid",function(){return Il}),n.d(e,"geoCircle",function(){return Yl}),n.d(e,"geoClipAntimeridian",function(){return ec}),n.d(e,"geoClipCircle",function(){return nc}),n.d(e,"geoClipExtent",function(){return cc}),n.d(e,"geoClipRectangle",function(){return ac}),n.d(e,"geoContains",function(){return Cc}),n.d(e,"geoDistance",function(){return _c}),n.d(e,"geoGraticule",function(){return Oc}),n.d(e,"geoGraticule10",function(){return zc}),n.d(e,"geoInterpolate",function(){return Lc}),n.d(e,"geoLength",function(){return yc}),n.d(e,"geoPath",function(){return Df}),n.d(e,"geoAlbers",function(){return th}),n.d(e,"geoAlbersUsa",function(){return eh}),n.d(e,"geoAzimuthalEqualArea",function(){return oh}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return ih}),n.d(e,"geoAzimuthalEquidistant",function(){return sh}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return ah}),n.d(e,"geoConicConformal",function(){return ph}),n.d(e,"geoConicConformalRaw",function(){return hh}),n.d(e,"geoConicEqualArea",function(){return Qf}),n.d(e,"geoConicEqualAreaRaw",function(){return Jf}),n.d(e,"geoConicEquidistant",function(){return vh}),n.d(e,"geoConicEquidistantRaw",function(){return yh}),n.d(e,"geoEqualEarth",function(){return Sh}),n.d(e,"geoEqualEarthRaw",function(){return Eh}),n.d(e,"geoEquirectangular",function(){return mh}),n.d(e,"geoEquirectangularRaw",function(){return dh}),n.d(e,"geoGnomonic",function(){return Mh}),n.d(e,"geoGnomonicRaw",function(){return kh}),n.d(e,"geoIdentity",function(){return Ch}),n.d(e,"geoProjection",function(){return Gf}),n.d(e,"geoProjectionMutator",function(){return Xf}),n.d(e,"geoMercator",function(){return lh}),n.d(e,"geoMercatorRaw",function(){return uh}),n.d(e,"geoNaturalEarth1",function(){return Ah}),n.d(e,"geoNaturalEarth1Raw",function(){return Ph}),n.d(e,"geoOrthographic",function(){return zh}),n.d(e,"geoOrthographicRaw",function(){return Oh}),n.d(e,"geoStereographic",function(){return Rh}),n.d(e,"geoStereographicRaw",function(){return Ih}),n.d(e,"geoTransverseMercator",function(){return Dh}),n.d(e,"geoTransverseMercatorRaw",function(){return Nh}),n.d(e,"geoRotation",function(){return Ul}),n.d(e,"geoStream",function(){return xu}),n.d(e,"geoTransform",function(){return Lf}),n.d(e,"cluster",function(){return Bh}),n.d(e,"hierarchy",function(){return Vh}),n.d(e,"pack",function(){return hp}),n.d(e,"packSiblings",function(){return sp}),n.d(e,"packEnclose",function(){return Zh}),n.d(e,"partition",function(){return gp}),n.d(e,"stratify",function(){return Ep}),n.d(e,"tree",function(){return Cp}),n.d(e,"treemap",function(){return Ip}),n.d(e,"treemapBinary",function(){return Rp}),n.d(e,"treemapDice",function(){return vp}),n.d(e,"treemapSlice",function(){return Pp}),n.d(e,"treemapSliceDice",function(){return Np}),n.d(e,"treemapSquarify",function(){return zp}),n.d(e,"treemapResquarify",function(){return Dp}),n.d(e,"interpolate",function(){return Gn}),n.d(e,"interpolateArray",function(){return jn}),n.d(e,"interpolateBasis",function(){return Tn}),n.d(e,"interpolateBasisClosed",function(){return Cn}),n.d(e,"interpolateDate",function(){return Fn}),n.d(e,"interpolateDiscrete",function(){return Xn}),n.d(e,"interpolateHue",function(){return Kn}),n.d(e,"interpolateNumber",function(){return Bn}),n.d(e,"interpolateObject",function(){return Un}),n.d(e,"interpolateRound",function(){return Jn}),n.d(e,"interpolateString",function(){return Zn}),n.d(e,"interpolateTransformCss",function(){return rr}),n.d(e,"interpolateTransformSvg",function(){return ir}),n.d(e,"interpolateZoom",function(){return sr}),n.d(e,"interpolateRgb",function(){return Rn}),n.d(e,"interpolateRgbBasis",function(){return Dn}),n.d(e,"interpolateRgbBasisClosed",function(){return Ln}),n.d(e,"interpolateHsl",function(){return lr}),n.d(e,"interpolateHslLong",function(){return cr}),n.d(e,"interpolateLab",function(){return fr}),n.d(e,"interpolateHcl",function(){return pr}),n.d(e,"interpolateHclLong",function(){return dr}),n.d(e,"interpolateCubehelix",function(){return yr}),n.d(e,"interpolateCubehelixLong",function(){return vr}),n.d(e,"piecewise",function(){return gr}),n.d(e,"quantize",function(){return xr}),n.d(e,"path",function(){return Do}),n.d(e,"polygonArea",function(){return Lp}),n.d(e,"polygonCentroid",function(){return jp}),n.d(e,"polygonHull",function(){return Up}),n.d(e,"polygonContains",function(){return Vp}),n.d(e,"polygonLength",function(){return qp}),n.d(e,"quadtree",function(){return ns}),n.d(e,"randomUniform",function(){return Wp}),n.d(e,"randomNormal",function(){return $p}),n.d(e,"randomLogNormal",function(){return Hp}),n.d(e,"randomBates",function(){return Gp}),n.d(e,"randomIrwinHall",function(){return Zp}),n.d(e,"randomExponential",function(){return Xp}),n.d(e,"scaleBand",function(){return nd}),n.d(e,"scalePoint",function(){return rd}),n.d(e,"scaleIdentity",function(){return md}),n.d(e,"scaleLinear",function(){return dd}),n.d(e,"scaleLog",function(){return Ed}),n.d(e,"scaleOrdinal",function(){return ed}),n.d(e,"scaleImplicit",function(){return td}),n.d(e,"scalePow",function(){return kd}),n.d(e,"scaleSqrt",function(){return Md}),n.d(e,"scaleQuantile",function(){return Td}),n.d(e,"scaleQuantize",function(){return Cd}),n.d(e,"scaleThreshold",function(){return Pd}),n.d(e,"scaleTime",function(){return Sv}),n.d(e,"scaleUtc",function(){return kv}),n.d(e,"scaleSequential",function(){return Mv}),n.d(e,"scaleDiverging",function(){return Tv}),n.d(e,"schemeCategory10",function(){return Pv}),n.d(e,"schemeAccent",function(){return Av}),n.d(e,"schemeDark2",function(){return Ov}),n.d(e,"schemePaired",function(){return zv}),n.d(e,"schemePastel1",function(){return Iv}),n.d(e,"schemePastel2",function(){return Rv}),n.d(e,"schemeSet1",function(){return Nv}),n.d(e,"schemeSet2",function(){return Dv}),n.d(e,"schemeSet3",function(){return Lv}),n.d(e,"interpolateBrBG",function(){return Bv}),n.d(e,"schemeBrBG",function(){return Fv}),n.d(e,"interpolatePRGn",function(){return Vv}),n.d(e,"schemePRGn",function(){return Uv}),n.d(e,"interpolatePiYG",function(){return Yv}),n.d(e,"schemePiYG",function(){return qv}),n.d(e,"interpolatePuOr",function(){return $v}),n.d(e,"schemePuOr",function(){return Wv}),n.d(e,"interpolateRdBu",function(){return Zv}),n.d(e,"schemeRdBu",function(){return Hv}),n.d(e,"interpolateRdGy",function(){return Xv}),n.d(e,"schemeRdGy",function(){return Gv}),n.d(e,"interpolateRdYlBu",function(){return Jv}),n.d(e,"schemeRdYlBu",function(){return Kv}),n.d(e,"interpolateRdYlGn",function(){return tg}),n.d(e,"schemeRdYlGn",function(){return Qv}),n.d(e,"interpolateSpectral",function(){return ng}),n.d(e,"schemeSpectral",function(){return eg}),n.d(e,"interpolateBuGn",function(){return ig}),n.d(e,"schemeBuGn",function(){return rg}),n.d(e,"interpolateBuPu",function(){return ag}),n.d(e,"schemeBuPu",function(){return og}),n.d(e,"interpolateGnBu",function(){return ug}),n.d(e,"schemeGnBu",function(){return sg}),n.d(e,"interpolateOrRd",function(){return cg}),n.d(e,"schemeOrRd",function(){return lg}),n.d(e,"interpolatePuBuGn",function(){return hg}),n.d(e,"schemePuBuGn",function(){return fg}),n.d(e,"interpolatePuBu",function(){return dg}),n.d(e,"schemePuBu",function(){return pg}),n.d(e,"interpolatePuRd",function(){return yg}),n.d(e,"schemePuRd",function(){return mg}),n.d(e,"interpolateRdPu",function(){return gg}),n.d(e,"schemeRdPu",function(){return vg}),n.d(e,"interpolateYlGnBu",function(){return bg}),n.d(e,"schemeYlGnBu",function(){return _g}),n.d(e,"interpolateYlGn",function(){return wg}),n.d(e,"schemeYlGn",function(){return xg}),n.d(e,"interpolateYlOrBr",function(){return Sg}),n.d(e,"schemeYlOrBr",function(){return Eg}),n.d(e,"interpolateYlOrRd",function(){return Mg}),n.d(e,"schemeYlOrRd",function(){return kg}),n.d(e,"interpolateBlues",function(){return Cg}),n.d(e,"schemeBlues",function(){return Tg}),n.d(e,"interpolateGreens",function(){return Ag}),n.d(e,"schemeGreens",function(){return Pg}),n.d(e,"interpolateGreys",function(){return zg}),n.d(e,"schemeGreys",function(){return Og}),n.d(e,"interpolatePurples",function(){return Rg}),n.d(e,"schemePurples",function(){return Ig}),n.d(e,"interpolateReds",function(){return Dg}),n.d(e,"schemeReds",function(){return Ng}),n.d(e,"interpolateOranges",function(){return jg}),n.d(e,"schemeOranges",function(){return Lg}),n.d(e,"interpolateCubehelixDefault",function(){return Fg}),n.d(e,"interpolateRainbow",function(){return qg}),n.d(e,"interpolateWarm",function(){return Bg}),n.d(e,"interpolateCool",function(){return Ug}),n.d(e,"interpolateSinebow",function(){return Hg}),n.d(e,"interpolateViridis",function(){return Gg}),n.d(e,"interpolateMagma",function(){return Xg}),n.d(e,"interpolateInferno",function(){return Kg}),n.d(e,"interpolatePlasma",function(){return Jg}),n.d(e,"create",function(){return ie}),n.d(e,"creator",function(){return yt}),n.d(e,"local",function(){return ae}),n.d(e,"matcher",function(){return St}),n.d(e,"mouse",function(){return ce}),n.d(e,"namespace",function(){return mt}),n.d(e,"namespaces",function(){return dt}),n.d(e,"clientPoint",function(){return le}),n.d(e,"select",function(){return re}),n.d(e,"selectAll",function(){return fe}),n.d(e,"selection",function(){return ne}),n.d(e,"selector",function(){return gt}),n.d(e,"selectorAll",function(){return bt}),n.d(e,"style",function(){return Ot}),n.d(e,"touch",function(){return he}),n.d(e,"touches",function(){return pe}),n.d(e,"window",function(){return At}),n.d(e,"event",function(){return $t}),n.d(e,"customEvent",function(){return Kt}),n.d(e,"arc",function(){return g_}),n.d(e,"area",function(){return S_}),n.d(e,"line",function(){return E_}),n.d(e,"pie",function(){return T_}),n.d(e,"areaRadial",function(){return I_}),n.d(e,"radialArea",function(){return I_}),n.d(e,"lineRadial",function(){return z_}),n.d(e,"radialLine",function(){return z_}),n.d(e,"pointRadial",function(){return R_}),n.d(e,"linkHorizontal",function(){return V_}),n.d(e,"linkVertical",function(){return q_}),n.d(e,"linkRadial",function(){return Y_}),n.d(e,"symbol",function(){return ub}),n.d(e,"symbols",function(){return sb}),n.d(e,"symbolCircle",function(){return W_}),n.d(e,"symbolCross",function(){return $_}),n.d(e,"symbolDiamond",function(){return G_}),n.d(e,"symbolSquare",function(){return tb}),n.d(e,"symbolStar",function(){return Q_}),n.d(e,"symbolTriangle",function(){return nb}),n.d(e,"symbolWye",function(){return ab}),n.d(e,"curveBasisClosed",function(){return db}),n.d(e,"curveBasisOpen",function(){return yb}),n.d(e,"curveBasis",function(){return hb}),n.d(e,"curveBundle",function(){return gb}),n.d(e,"curveCardinalClosed",function(){return Eb}),n.d(e,"curveCardinalOpen",function(){return kb}),n.d(e,"curveCardinal",function(){return xb}),n.d(e,"curveCatmullRomClosed",function(){return Ab}),n.d(e,"curveCatmullRomOpen",function(){return zb}),n.d(e,"curveCatmullRom",function(){return Cb}),n.d(e,"curveLinearClosed",function(){return Rb}),n.d(e,"curveLinear",function(){return b_}),n.d(e,"curveMonotoneX",function(){return Vb}),n.d(e,"curveMonotoneY",function(){return qb}),n.d(e,"curveNatural",function(){return $b}),n.d(e,"curveStep",function(){return Zb}),n.d(e,"curveStepAfter",function(){return Xb}),n.d(e,"curveStepBefore",function(){return Gb}),n.d(e,"stack",function(){return tx}),n.d(e,"stackOffsetExpand",function(){return ex}),n.d(e,"stackOffsetDiverging",function(){return nx}),n.d(e,"stackOffsetNone",function(){return Kb}),n.d(e,"stackOffsetSilhouette",function(){return rx}),n.d(e,"stackOffsetWiggle",function(){return ix}),n.d(e,"stackOrderAscending",function(){return ox}),n.d(e,"stackOrderDescending",function(){return sx}),n.d(e,"stackOrderInsideOut",function(){return ux}),n.d(e,"stackOrderNone",function(){return Jb}),n.d(e,"stackOrderReverse",function(){return lx}),n.d(e,"timeInterval",function(){return zd}),n.d(e,"timeMillisecond",function(){return Rd}),n.d(e,"timeMilliseconds",function(){return Nd}),n.d(e,"utcMillisecond",function(){return Rd}),n.d(e,"utcMilliseconds",function(){return Nd}),n.d(e,"timeSecond",function(){return Ld}),n.d(e,"timeSeconds",function(){return jd}),n.d(e,"utcSecond",function(){return Ld}),n.d(e,"utcSeconds",function(){return jd}),n.d(e,"timeMinute",function(){return Bd}),n.d(e,"timeMinutes",function(){return Ud}),n.d(e,"timeHour",function(){return qd}),n.d(e,"timeHours",function(){return Yd}),n.d(e,"timeDay",function(){return $d}),n.d(e,"timeDays",function(){return Hd}),n.d(e,"timeWeek",function(){return Gd}),n.d(e,"timeWeeks",function(){return nm}),n.d(e,"timeSunday",function(){return Gd}),n.d(e,"timeSundays",function(){return nm}),n.d(e,"timeMonday",function(){return Xd}),n.d(e,"timeMondays",function(){return rm}),n.d(e,"timeTuesday",function(){return Kd}),n.d(e,"timeTuesdays",function(){return im}),n.d(e,"timeWednesday",function(){return Jd}),n.d(e,"timeWednesdays",function(){return om}),n.d(e,"timeThursday",function(){return Qd}),n.d(e,"timeThursdays",function(){return am}),n.d(e,"timeFriday",function(){return tm}),n.d(e,"timeFridays",function(){return sm}),n.d(e,"timeSaturday",function(){return em}),n.d(e,"timeSaturdays",function(){return um}),n.d(e,"timeMonth",function(){return cm}),n.d(e,"timeMonths",function(){return fm}),n.d(e,"timeYear",function(){return pm}),n.d(e,"timeYears",function(){return dm}),n.d(e,"utcMinute",function(){return ym}),n.d(e,"utcMinutes",function(){return vm}),n.d(e,"utcHour",function(){return _m}),n.d(e,"utcHours",function(){return bm}),n.d(e,"utcDay",function(){return wm}),n.d(e,"utcDays",function(){return Em}),n.d(e,"utcWeek",function(){return km}),n.d(e,"utcWeeks",function(){return zm}),n.d(e,"utcSunday",function(){return km}),n.d(e,"utcSundays",function(){return zm}),n.d(e,"utcMonday",function(){return Mm}),n.d(e,"utcMondays",function(){return Im}),n.d(e,"utcTuesday",function(){return Tm}),n.d(e,"utcTuesdays",function(){return Rm}),n.d(e,"utcWednesday",function(){return Cm}),n.d(e,"utcWednesdays",function(){return Nm}),n.d(e,"utcThursday",function(){return Pm}),n.d(e,"utcThursdays",function(){return Dm}),n.d(e,"utcFriday",function(){return Am}),n.d(e,"utcFridays",function(){return Lm}),n.d(e,"utcSaturday",function(){return Om}),n.d(e,"utcSaturdays",function(){return jm}),n.d(e,"utcMonth",function(){return Bm}),n.d(e,"utcMonths",function(){return Um}),n.d(e,"utcYear",function(){return qm}),n.d(e,"utcYears",function(){return Ym}),n.d(e,"timeFormatDefaultLocale",function(){return cv}),n.d(e,"timeFormat",function(){return Xm}),n.d(e,"timeParse",function(){return Km}),n.d(e,"utcFormat",function(){return Jm}),n.d(e,"utcParse",function(){return Qm}),n.d(e,"timeFormatLocale",function(){return Zm}),n.d(e,"isoFormat",function(){return hv}),n.d(e,"isoParse",function(){return pv}),n.d(e,"now",function(){return Or}),n.d(e,"timer",function(){return Rr}),n.d(e,"timerFlush",function(){return Nr}),n.d(e,"timeout",function(){return Fr}),n.d(e,"interval",function(){return Br}),n.d(e,"transition",function(){return ei}),n.d(e,"active",function(){return Zi}),n.d(e,"interrupt",function(){return Gr}),n.d(e,"voronoi",function(){return $x}),n.d(e,"zoom",function(){return aw}),n.d(e,"zoomTransform",function(){return Kx}),n.d(e,"zoomIdentity",function(){return Xx})},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}},function(t,e,n){t.exports=n(258)},function(t,e){t.exports=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}},function(t,o,a){"use strict";(function(t,e){var n,r=a(103);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:e;var i=Object(r.a)(n);o.a=i}).call(this,a(16),a(71)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.createChangeEmitter=function(){var n=[],r=n;function i(){r===n&&(r=n.slice())}return{listen:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var n=!0;return i(),r.push(e),function(){if(n){n=!1,i();var t=r.indexOf(e);r.splice(t,1)}}},emit:function(){for(var t=n=r,e=0;e<t.length;e++)t[e].apply(t,arguments)}}}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(e,t,n){(function(t){e.exports={window:"undefined"==typeof window?t:window,global:void 0===t?window:t,document:"undefined"==typeof document?{}:document}}).call(this,n(16))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))l.call(n,a)&&(i[a]=n[a]);if(u){r=u(n);for(var s=0;s<r.length;s++)c.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){t.exports=n(173)},function(t,e,n){"use strict";t.exports=function(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}},function(t,e,h){"use strict";var p=h(10),d=h(177),m=h(179),y=h(180),v=h(181),g=h(75),_="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||h(182);t.exports=function(f){return new Promise(function(n,r){var i=f.data,o=f.headers;p.isFormData(i)&&delete o["Content-Type"];var a=new XMLHttpRequest,t="onreadystatechange",s=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in a||v(f.url)||(a=new window.XDomainRequest,t="onload",s=!0,a.onprogress=function(){},a.ontimeout=function(){}),f.auth){var e=f.auth.username||"",u=f.auth.password||"";o.Authorization="Basic "+_(e+":"+u)}if(a.open(f.method.toUpperCase(),m(f.url,f.params,f.paramsSerializer),!0),a.timeout=f.timeout,a[t]=function(){if(a&&(4===a.readyState||s)&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in a?y(a.getAllResponseHeaders()):null,e={data:f.responseType&&"text"!==f.responseType?a.response:a.responseText,status:1223===a.status?204:a.status,statusText:1223===a.status?"No Content":a.statusText,headers:t,config:f,request:a};d(n,r,e),a=null}},a.onerror=function(){r(g("Network Error",f,null,a)),a=null},a.ontimeout=function(){r(g("timeout of "+f.timeout+"ms exceeded",f,"ECONNABORTED",a)),a=null},p.isStandardBrowserEnv()){var l=h(183),c=(f.withCredentials||v(f.url))&&f.xsrfCookieName?l.read(f.xsrfCookieName):void 0;c&&(o[f.xsrfHeaderName]=c)}if("setRequestHeader"in a&&p.forEach(o,function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete o[e]:a.setRequestHeader(e,t)}),f.withCredentials&&(a.withCredentials=!0),f.responseType)try{a.responseType=f.responseType}catch(t){if("json"!==f.responseType)throw t}"function"==typeof f.onDownloadProgress&&a.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(t){a&&(a.abort(),r(t),a=null)}),void 0===i&&(i=null),a.send(i)})}},function(t,e,n){"use strict";var a=n(178);t.exports=function(t,e,n,r,i){var o=new Error(t);return a(o,e,n,r,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(47),o=(r=i)&&r.__esModule?r:{default:r};var a={success:function(t){return{type:o.default.SUCCESS,message:t}},error:function(t){return{type:o.default.ERROR,message:t}},clear:function(){return{type:o.default.CLEAR}}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),r=o(n(0));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t.btn,n=t.title,r=t.subtitle;return i.default.createElement("div",{className:"page-header"},i.default.createElement("h1",{className:"page-title"},e,n),r?i.default.createElement("p",{className:"page-subtitle"},r):null)};a.propTypes={title:r.default.string.isRequired,subtitle:r.default.string,btn:r.default.element},a.defaultProps={subtitle:null,btn:null},e.default=a},function(t,e,n){t.exports=n(205)},function(t,e,n){"use strict";var r=n(82),i=(n(235),n(56),n(83)),o=n(18);n(12);function a(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||r}a.prototype.isReactComponent={},a.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&o(!1),this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")},t.exports=a},function(t,e,n){"use strict";n(12);function r(t,e){0}var i={isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){r()},enqueueReplaceState:function(t,e){r()},enqueueSetState:function(t,e){r()}};t.exports=i},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(85)({prop:null,context:null,childContext:null});t.exports=r},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){var e,n={};for(e in t instanceof Object&&!Array.isArray(t)||r(!1),t)t.hasOwnProperty(e)&&(n[e]=e);return n}},function(t,e,n){"use strict";var s=n(14),r=n(84),u=(n(58),n(54)),l=(n(56),n(57)),a=n(18);n(12);function c(){if(u.current){var t=u.current.getName();if(t)return" Check the render method of `"+t+"`."}return""}var f={},h={};function p(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;(function(t,e,n){var r=c();if(!r){var i="string"==typeof n?n:n.displayName||n.name;i&&(r=" Check the top-level render call using <"+i+">.")}var o=f[t]||(f[t]={});if(o[r])return;o[r]=!0;var a={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};e&&e._owner&&e._owner!==u.current&&(a.childOwner=" It was passed a child from "+e._owner.getName()+".")})("uniqueKey",t,e)}}function d(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];s.isValidElement(r)&&p(r,e)}else if(s.isValidElement(t))t._store&&(t._store.validated=!0);else if(t){var i=l(t);if(i&&i!==t.entries)for(var o,a=i.call(t);!(o=a.next()).done;)s.isValidElement(o.value)&&p(o.value,e)}}function m(t){var e=t.type;if("function"==typeof e){var n=e.displayName||e.name;e.propTypes&&function(t,e,n,r){for(var i in e)if(e.hasOwnProperty(i)){var o;try{"function"!=typeof e[i]&&a(!1),o=e[i](n,i,t,r)}catch(t){o=t}o instanceof Error&&!(o.message in h)&&(h[o.message]=!0,c())}}(n,e.propTypes,t.props,r.prop),e.getDefaultProps}}var i={createElement:function(t,e,n){var r="string"==typeof t||"function"==typeof t,i=s.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)d(arguments[o],t);return m(i),i},createFactory:function(t){var e=i.createElement.bind(null,t);return e.type=t,e},cloneElement:function(t,e,n){for(var r=s.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)d(arguments[i],r.type);return m(r),r}};t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(1)),r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t.iconClass,n=t.bgColor,r=t.text,i=t.mutedText;return o.default.createElement("div",{className:"card p-3"},o.default.createElement("div",{className:"d-flex align-items-center"},o.default.createElement("span",{className:"stamp stamp-md mr-3 bg-"+n},o.default.createElement("i",{className:e})),o.default.createElement("div",null,o.default.createElement("h4",{className:"m-0"},r),o.default.createElement("small",{className:"text-muted"},i))))};a.propTypes={iconClass:r.default.string.isRequired,bgColor:r.default.string.isRequired,text:r.default.string.isRequired,mutedText:r.default.string.isRequired},e.default=a},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,n){var r=n(285);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(288);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports={default:n(296),__esModule:!0}},function(t,e,n){"use strict";var r=n(31).default,i=n(33).default,o=n(34).default,a=n(35).default,k=n(302).default,M=n(97).default,T=n(36).default,s=n(28).default;Object.defineProperty(e,"__esModule",{value:!0});var C=s(n(1)),u=s(n(0)),P=s(n(303)),l=function(t){function n(t){a(this,n),r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t);var e=!1;e="checked"in t?t.checked:t.defaultChecked,this._mobile=!1,this.state={checked:e,focused:!1,hovered:!1,active:!1}}return i(n,t),o(n,null,[{key:"propTypes",value:{inputType:u.default.string.isRequired,checked:u.default.bool,defaultChecked:u.default.bool,label:u.default.node,disabled:u.default.bool,indeterminate:u.default.bool,onChange:u.default.func,onBlur:u.default.func,onFocus:u.default.func,checkboxClass:u.default.string,radioClass:u.default.string,checkedClass:u.default.string,checkedCheckboxClass:u.default.string,checkedRadioClass:u.default.string,uncheckedClass:u.default.string,uncheckedCheckboxClass:u.default.string,uncheckedRadioClass:u.default.string,disabledClass:u.default.string,disabledCheckboxClass:u.default.string,disabledRadioClass:u.default.string,enabledClass:u.default.string,enabledCheckboxClass:u.default.string,enabledRadioClass:u.default.string,indeterminateClass:u.default.string,indeterminateCheckboxClass:u.default.string,indeterminateRadioClass:u.default.string,determinateClass:u.default.string,determinateCheckboxClass:u.default.string,determinateRadioClass:u.default.string,hoverClass:u.default.string,focusClass:u.default.string,activeClass:u.default.string,labelHover:u.default.bool,labelHoverClass:u.default.string,increaseArea:u.default.string,cursor:u.default.bool,inheritClass:u.default.bool,inheritID:u.default.bool,aria:u.default.bool,insert:u.default.node,children:u.default.node,labelClassName:u.default.string},enumerable:!0},{key:"defaultProps",value:{checkboxClass:"icheckbox",radioClass:"iradio",checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",hoverClass:"hover",focusClass:"focus",activeClass:"active",labelHover:!0,labelHoverClass:"hover",increaseArea:"",cursor:!1,inheritClass:!1,inheritID:!1,aria:!1},enumerable:!0}]),o(n,[{key:"componentDidMount",value:function(){"undefined"!=typeof navigator&&(this._mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent)),this.adjustStyle(),this.setIndeterminate(),this.forceUpdate()}},{key:"componentWillReceiveProps",value:function(t){"checked"in t&&this.setState({checked:t.checked})}},{key:"componentDidUpdate",value:function(){this.adjustStyle(),this.setIndeterminate()}},{key:"getValue",value:function(){return this.refs.checkbox.value}},{key:"setChecked",value:function(t){if(this.props.hasOwnProperty("checked")&&!1!==this.props.checked);else this.refs.checkbox.checked=t}},{key:"setIndeterminate",value:function(){this.props.indeterminate&&(this.refs.checkbox.indeterminate=!0)}},{key:"adjustStyle",value:function(){var t=this.refs.inputContainer;"static"===window.getComputedStyle(t).position&&(t.style.position="relative")}},{key:"isChecked",value:function(){return this.refs.checkbox.checked}},{key:"handleChange",value:function(t){var e=t.target.checked;"checked"in this.props||this.setState({checked:e}),this.props.onChange&&this.props.onChange(t,e)}},{key:"handleBlur",value:function(t){this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(t)}},{key:"handleFocus",value:function(t){this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(t)}},{key:"handleHelperClick",value:function(t){if(!this.props.label&&!this.props.disabled){var e=!this.refs.checkbox.checked;"checked"in this.props||(this.refs.checkbox.checked=e,this.setState({checked:e})),t.preventDefault(),t.stopPropagation(),this.props.onChange&&(t.target=this.refs.checkbox,this.props.onChange(t,e))}}},{key:"render",value:function(){var t,n=this.props,r=n.disabled,e=(n.type,n.name),i=n.value,o=(n.label,n.onBlur,n.onFocus,n.onMouseUp,n.onMouseDown,n.onMouseLeave,n.onTouchStart,n.onTouchEnd,n.className,n.checkboxClass,n.increaseArea,n.inputType,n.radioClass,n.checkedClass,n.disabledClass,n.indeterminate),a=n.indeterminateClass,s=(n.hoverClass,n.focusClass,n.activeClass,n.labelHover,n.labelHoverClass,n.labelClassName),u=(n.inheritClass,n.inheritID,n.aria),l=(n.insert,M(n,["type","name","value","label","onBlur","onFocus","onMouseUp","onMouseDown","onMouseLeave","onTouchStart","onTouchEnd","className","checkboxClass","increaseArea","inputType","radioClass","checkedClass","disabledClass","indeterminate","indeterminateClass","hoverClass","focusClass","activeClass","labelHover","labelHoverClass","labelClassName","inheritClass","inheritID","aria","insert"])),c=this.state.checked,f=0|(""+n.increaseArea).replace("%","");f<-50&&(f=-50);var h=n.id,p=-f+"%",d=100+2*f+"%",m={position:"absolute",top:p,left:p,display:"block",width:d,height:d,margin:0,padding:0,background:"#fff",border:0,opacity:0,cursor:r?"default":"pointer"},y=void 0;y=this._mobile?{position:"absolute",visibility:"hidden"}:f?m:{position:"absolute",opacity:0},u=!!n.aria;var v;"checkbox"===n.inputType&&void 0!==n.indeterminateCheckboxClass?a=n.indeterminateCheckboxClass:"radio"===n.inputType&&void 0!==n.indeterminateRadioClass&&(a=n.indeterminateRadioClass);var g={className:(0,P.default)((t={},k(t,n.checkboxClass,"checkbox"===n.inputType),k(t,n.radioClass,"radio"===n.inputType),k(t,a,o),k(t,n.checkedClass,c),k(t,n.disabledClass,r),k(t,n.hoverClass,this.state.hovered),k(t,n.focusClass,this.state.focused),k(t,n.activeClass,this.state.active),t))};u&&(g.role=n.inputType,g["aria-labelledby"]=""),n.inheritClass&&(g.className=(0,P.default)(g.className,n.className)),n.inheritID&&h&&(g.id="iCheck-"+h),v=C.default.createElement("ins",{className:"iCheck-helper",style:m,onClick:this.handleHelperClick.bind(this)});var _=C.default.createElement("input",T({},l,{ref:"checkbox",type:n.inputType,style:y,name:e,value:i,defaultChecked:n.defaultChecked,onChange:this.handleChange.bind(this),onBlur:this.handleBlur.bind(this),onFocus:this.handleFocus.bind(this)})),b=n.insert;b&&!C.default.isValidElement(b)&&(b=C.default.createElement("div",{dangerouslySetInnerHTML:{__html:b}}));var x=C.default.createElement("div",T({ref:"inputContainer"},g),_,b,v),w=n.label;if(!w)return x;function E(t){if(!r){var e=t.type;"click"===e||n.labelHover&&this.setState({hovered:!/ut|nd/.test(e)}),this._mobile&&t.stopPropagation()}}C.default.isValidElement(w)||(w=C.default.createElement("span",{dangerouslySetInnerHTML:{__html:w}}));var S={onMouseOver:E.bind(this),onMouseOut:E.bind(this),onTouchStart:E.bind(this),onTouchEnd:E.bind(this)};return s&&(S.className=s),C.default.createElement("label",S,x,w)}}]),n}(C.default.Component);e.default=l,t.exports=e.default},function(t,e,n){"use strict";e.default=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},e.__esModule=!0},function(t,e,n){"use strict";var r=n(31).default,i=n(33).default,o=n(34).default,a=n(35).default,s=n(36).default,u=n(28).default;Object.defineProperty(e,"__esModule",{value:!0});var l=u(n(1)),c=u(n(96)),f=function(t){function e(){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return i(e,t),o(e,[{key:"getValue",value:function(){return this.refs.enhancedSwitch.getValue()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setSwitched(t)}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isSwitched()}},{key:"render",value:function(){return l.default.createElement(c.default,s({},this.props,{ref:"enhancedSwitch",inputType:"radio"}))}}]),e}(l.default.Component);e.default=f,t.exports=e.default},function(t,e,n){var r,i;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(i="function"==typeof(r=function(){var g,o,u,l,t,s={},_={},e={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:e.currentLocale,zeroFormat:e.zeroFormat,nullFormat:e.nullFormat,defaultFormat:e.defaultFormat,scalePercentBy100:e.scalePercentBy100};function a(t,e){this._input=t,this._value=e}return(g=function(t){var e,n,r,i;if(g.isNumeral(t))e=t.value();else if(0===t||void 0===t)e=0;else if(null===t||o.isNaN(t))e=null;else if("string"==typeof t)if(c.zeroFormat&&t===c.zeroFormat)e=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in s)if((i="function"==typeof s[n].regexps.unformat?s[n].regexps.unformat():s[n].regexps.unformat)&&t.match(i)){r=s[n].unformat;break}e=(r=r||g._.stringToNumber)(t)}else e=Number(t)||null;return new a(t,e)}).version="2.0.6",g.isNumeral=function(t){return t instanceof a},g._=o={numberToFormat:function(t,e,n){var r,i,o,a,s,u,l,c,f=_[g.options.currentLocale],h=!1,p=!1,d="",m="",y=!1;if(t=t||0,o=Math.abs(t),g._.includes(e,"(")?(h=!0,e=e.replace(/[\(|\)]/g,"")):(g._.includes(e,"+")||g._.includes(e,"-"))&&(u=g._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),g._.includes(e,"a")&&(i=!!(i=e.match(/a(k|m|b|t)?/))&&i[1],g._.includes(e," a")&&(d=" "),e=e.replace(new RegExp(d+"a[kmbt]?"),""),1e12<=o&&!i||"t"===i?(d+=f.abbreviations.trillion,t/=1e12):o<1e12&&1e9<=o&&!i||"b"===i?(d+=f.abbreviations.billion,t/=1e9):o<1e9&&1e6<=o&&!i||"m"===i?(d+=f.abbreviations.million,t/=1e6):(o<1e6&&1e3<=o&&!i||"k"===i)&&(d+=f.abbreviations.thousand,t/=1e3)),g._.includes(e,"[.]")&&(p=!0,e=e.replace("[.]",".")),a=t.toString().split(".")[0],s=e.split(".")[1],l=e.indexOf(","),r=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,s?(a=(m=g._.includes(s,"[")?(s=(s=s.replace("]","")).split("["),g._.toFixed(t,s[0].length+s[1].length,n,s[1].length)):g._.toFixed(t,s.length,n)).split(".")[0],m=g._.includes(m,".")?f.delimiters.decimal+m.split(".")[1]:"",p&&0===Number(m.slice(1))&&(m="")):a=g._.toFixed(t,0,n),d&&!i&&1e3<=Number(a)&&d!==f.abbreviations.trillion)switch(a=String(Number(a)/1e3),d){case f.abbreviations.thousand:d=f.abbreviations.million;break;case f.abbreviations.million:d=f.abbreviations.billion;break;case f.abbreviations.billion:d=f.abbreviations.trillion}if(g._.includes(a,"-")&&(a=a.slice(1),y=!0),a.length<r)for(var v=r-a.length;0<v;v--)a="0"+a;return-1<l&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===e.indexOf(".")&&(a=""),c=a+m+(d||""),h?c=(h&&y?"(":"")+c+(h&&y?")":""):0<=u?c=0===u?(y?"-":"+")+c:c+(y?"-":"+"):y&&(c="-"+c),c},stringToNumber:function(t){var e,n,r,i=_[c.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&t===c.zeroFormat)n=0;else if(c.nullFormat&&t===c.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){var n=o.multiplier(e);return n<t?t:n},1)},toFixed:function(t,e,n,r){var i,o,a,s,u=t.toString().split("."),l=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),e):l,a=Math.pow(10,i),s=(n(t+"e+"+i)/a).toFixed(i),e-i<r&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),s=s.replace(o,"")),s}},g.options=c,g.formats=s,g.locales=_,g.locale=function(t){return t&&(c.currentLocale=t.toLowerCase()),c.currentLocale},g.localeData=function(t){if(!t)return _[c.currentLocale];if(t=t.toLowerCase(),!_[t])throw new Error("Unknown locale : "+t);return _[t]},g.reset=function(){for(var t in e)c[t]=e[t]},g.zeroFormat=function(t){c.zeroFormat="string"==typeof t?t:null},g.nullFormat=function(t){c.nullFormat="string"==typeof t?t:null},g.defaultFormat=function(t){c.defaultFormat="string"==typeof t?t:"0.0"},g.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n},g.validate=function(t,e){var n,r,i,o,a,s,u,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=g.localeData(e)}catch(t){u=g.localeData(g.locale())}return i=u.currency.symbol,a=u.abbreviations,n=u.delimiters.decimal,r="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(l=t.match(/^[^\d]+/))&&(t=t.substr(1),l[0]!==i)||null!==(l=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),l[0]!==a.thousand&&l[0]!==a.million&&l[0]!==a.billion&&l[0]!==a.trillion)||(s=new RegExp(r+"{2}"),t.match(/[^\d.,]/g)||2<(o=t.split(n)).length||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(s):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(s)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(s)||!o[1].match(/^\d+$/))))},g.fn=a.prototype={clone:function(){return g(this)},format:function(t,e){var n,r,i,o=this._value,a=t||c.defaultFormat;if(e=e||Math.round,0===o&&null!==c.zeroFormat)r=c.zeroFormat;else if(null===o&&null!==c.nullFormat)r=c.nullFormat;else{for(n in s)if(a.match(s[n].regexps.format)){i=s[n].format;break}r=(i=i||g._.numberToFormat)(o,a,e)}return r},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,e,n,r){return t+Math.round(i*e)},0)/i,this},subtract:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,e,n,r){return t-Math.round(i*e)},Math.round(this._value*i))/i,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,e,n,r){var i=o.correctionFactor(t,e);return Math.round(t*i)*Math.round(e*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,e,n,r){var i=o.correctionFactor(t,e);return Math.round(t*i)/Math.round(e*i)}),this},difference:function(t){return Math.abs(g(this._value).subtract(t).value())}},g.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),g.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,n){var r,i=g._.includes(e," BPS")?" ":"";return t*=1e4,e=e.replace(/\s?BPS/,""),r=g._.numberToFormat(t,e,n),r=g._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"BPS"),r.join("")):r+i+"BPS"},unformat:function(t){return+(1e-4*g._.stringToNumber(t)).toFixed(15)}}),l={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(l.suffixes.filter(function(t){return u.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",g.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,e,n){var r,i,o,a=g._.includes(e,"ib")?l:u,s=g._.includes(e," b")||g._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),r=0;r<=a.suffixes.length;r++)if(i=Math.pow(a.base,r),o=Math.pow(a.base,r+1),null===t||0===t||i<=t&&t<o){s+=a.suffixes[r],0<i&&(t/=i);break}return g._.numberToFormat(t,e,n)+s},unformat:function(t){var e,n,r=g._.stringToNumber(t);if(r){for(e=u.suffixes.length-1;0<=e;e--){if(g._.includes(t,u.suffixes[e])){n=Math.pow(u.base,e);break}if(g._.includes(t,l.suffixes[e])){n=Math.pow(l.base,e);break}}r*=n||1}return r}}),g.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,n){var r,i,o=g.locales[g.options.currentLocale],a={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),r=g._.numberToFormat(t,e,n),0<=t?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!g._.includes(a.before,"-")&&!g._.includes(a.before,"(")&&(a.before="-"+a.before),i=0;i<a.before.length;i++)switch(a.before[i]){case"$":r=g._.insert(r,o.currency.symbol,i);break;case" ":r=g._.insert(r," ",i+o.currency.symbol.length-1)}for(i=a.after.length-1;0<=i;i--)switch(a.after[i]){case"$":r=i===a.after.length-1?r+o.currency.symbol:g._.insert(r,o.currency.symbol,-(a.after.length-(1+i)));break;case" ":r=i===a.after.length-1?r+" ":g._.insert(r," ",-(a.after.length-(1+i)+o.currency.symbol.length-1))}return r}}),g.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,n){var r=("number"!=typeof t||g._.isNaN(t)?"0e+0":t.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),g._.numberToFormat(Number(r[0]),e,n)+"e"+r[1]},unformat:function(t){var e=g._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(e[0]),r=Number(e[1]);return r=g._.includes(t,"e-")?r*=-1:r,g._.reduce([n,Math.pow(10,r)],function(t,e,n,r){var i=g._.correctionFactor(t,e);return t*i*(e*i)/(i*i)},1)}}),g.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,n){var r=g.locales[g.options.currentLocale],i=g._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),i+=r.ordinal(t),g._.numberToFormat(t,e,n)+i}}),g.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,n){var r,i=g._.includes(e," %")?" ":"";return g.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?\%/,""),r=g._.numberToFormat(t,e,n),r=g._.includes(r,")")?((r=r.split("")).splice(-1,0,i+"%"),r.join("")):r+i+"%"},unformat:function(t){var e=g._.stringToNumber(t);return g.options.scalePercentBy100?.01*e:e}}),g.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),g})?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){t.exports=n.p+"images/logo_tall.png"},function(t,e,n){"use strict";n.r(e);var h=n(1),r=n(0),i=n.n(r),o="@@__IMMUTABLE_MAP__@@";function a(t){return!(!t||!t[o])}function f(t,e){return{sourcesDiff:function(t,e){var n=t.get("sources"),r=e.get("sources"),i=[],o=[],a=[],s=n.keySeq().toArray(),u=r.keySeq().toArray(),l=!0,c=!1,f=void 0;try{for(var h,p=s[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var d=h.value,m=r.get(d);m?!m.equals(n.get(d))&&o.push({id:d,source:r.get(d)}):a.push({id:d,source:n.get(d)})}}catch(t){c=!0,f=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw f}}var y=!0,v=!1,g=void 0;try{for(var _,b=u[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var x=_.value;n.get(x)||i.push({id:x,source:r.get(x)})}}catch(t){v=!0,g=t}finally{try{y||null==b.return||b.return()}finally{if(v)throw g}}return{enter:i,update:o,exit:a}}(t,e),layersDiff:function(t,e){var i=t.get("layers"),o=e.get("layers"),n=[],a=[],s={},u={};o.forEach(function(t,e){var n=t.get("id"),r=o.get(e+1);u[n]={layer:t,id:n,before:r?r.get("id"):null,enter:!0}}),i.forEach(function(t,e){var n=t.get("id"),r=i.get(e+1);s[n]={layer:t,id:n,before:r?r.get("id"):null},u[n]?u[n].enter=!1:a.push(s[n])});var r=!0,l=!1,c=void 0;try{for(var f,h=o.reverse()[Symbol.iterator]();!(r=(f=h.next()).done);r=!0){var p=f.value.get("id");s[p]&&s[p].layer.equals(u[p].layer)&&s[p].before===u[p].before||n.push(u[p])}}catch(t){l=!0,c=t}finally{try{r||null==h.return||h.return()}finally{if(l)throw c}}return{updates:n,exiting:a}}(t,e)}}function s(e,n,t){function r(t){return t.map(function(){return!0}).delete("layers").delete("sources").toJS()}var i=e&&r(e)||{},o=r(n);if(e&&(a=Object.keys(i),s=Object.keys(o),a.length===s.length&&!s.some(function(t){return e.get(t)!==n.get(t)}))){var a,s,u=f(e,n),l=u.sourcesDiff,c=u.layersDiff;(function(t,e){var n=t.map(function(t){return t.id}),r=e.filter(function(t){return n.includes(t.get("source"))});if(r.size)throw new Error("You must remove any layers associated with sources you are removing: ".concat(r.map(function(t){return t.get("id")}).toJS().join("")))})(l.exit,n.get("layers")),function(t,e,n,r){if(r.updates.some(function(t){return t.layer.get("ref")}))return t.setStyle(e.toJS());var i=!0,o=!1,a=void 0;try{for(var s,u,l=n.enter[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)u=s.value,t.addSource(u.id,u.source.toJS())}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var c=!0,f=!1,h=void 0;try{for(var p,d,m=n.update[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)d=p.value,R(t,d)}catch(t){f=!0,h=t}finally{try{c||null==m.return||m.return()}finally{if(f)throw h}}var y=!0,v=!1,g=void 0;try{for(var _,b,x=r.exiting[Symbol.iterator]();!(y=(_=x.next()).done);y=!0)b=_.value,t.style.getLayer(b.id)&&t.removeLayer(b.id)}catch(t){v=!0,g=t}finally{try{y||null==x.return||x.return()}finally{if(v)throw g}}var w=!0,E=!1,S=void 0;try{for(var k,M,T=r.updates[Symbol.iterator]();!(w=(k=T.next()).done);w=!0)(M=k.value).enter||t.removeLayer(M.id),t.addLayer(M.layer.toJS(),M.before)}catch(t){E=!0,S=t}finally{try{w||null==T.return||T.return()}finally{if(E)throw S}}var C=!0,P=!1,A=void 0;try{for(var O,z,I=n.exit[Symbol.iterator]();!(C=(O=I.next()).done);C=!0)z=O.value,t.removeSource(z.id)}catch(t){P=!0,A=t}finally{try{C||null==I.return||I.return()}finally{if(P)throw A}}}(t,n,l,c)}else t.setStyle(n.toJS())}function R(t,e){var n=e.source.toJS();if("geojson"===n.type){var r=t.getSource(e.id);if("geojson"===r.type){var i=r.workerOptions,o=i.geojsonVtOptions.extent/512;if(!(void 0!==n.maxzoom&&n.maxzoom!==i.geojsonVtOptions.maxZoom||void 0!==n.buffer&&n.buffer!==i.geojsonVtOptions.buffer/o||void 0!==n.tolerance&&n.tolerance!==i.geojsonVtOptions.tolerance/o||void 0!==n.cluster&&n.cluster!==i.cluster||void 0!==n.clusterRadius&&n.clusterRadius!==i.superclusterOptions.radius/o||void 0!==n.clusterMaxZoom&&n.clusterMaxZoom!==i.superclusterOptions.maxZoom))return void r.setData(n.data)}}t.removeSource(e.id),t.addSource(e.id,n)}var u={};function l(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function c(t){return Math.round(t/u.EPSILON)*u.EPSILON}function p(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).precision,n=void 0===e?u.precision||4:e;return t=c(t),parseFloat(t.toPrecision(n))}function d(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!d(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=u.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function _(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}u.EPSILON=1e-12,u.debug=!0,u.precision=4,u.printTypes=!1,u.printDegrees=!1,u.printRowMajor=!0;var b=function(t){function e(){return y(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,_(Array)),n=e,(r=[{key:"clone",value:function(){return(new this.constructor).copy(this).check()}},{key:"copy",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t[e];return this.check()}},{key:"set",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=(t<0||arguments.length<=t?void 0:arguments[t])||0;return this.check()}},{key:"fromArray",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=t[n+e];return this.check()}},{key:"toString",value:function(){return this.formatString(u)}},{key:"formatString",value:function(t){for(var e="",n=0;n<this.ELEMENTS;++n)e+=(0<n?", ":"")+p(this[n],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(e,"]")}},{key:"toArray",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)t[e+n]=this[n];return t}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"equals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(!d(this[e],t[e]))return!1;return!0}},{key:"exactEquals",value:function(t){if(!t||this.length!==t.length)return!1;for(var e=0;e<this.ELEMENTS;++e)if(this[e]!==t[e])return!1;return!0}},{key:"negate",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}},{key:"inverse",value:function(){for(var t=0;t<this.ELEMENTS;++t)this[t]=1/this[t];return this.check()}},{key:"lerp",value:function(t,e,n){void 0===n&&(n=e,e=t,t=this);for(var r=0;r<this.ELEMENTS;++r){var i=t[r];this[r]=i+n*(e[r]-i)}return this.check()}},{key:"min",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.min(t[e],this[e]);return this.check()}},{key:"max",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=Math.max(t[e],this[e]);return this.check()}},{key:"clamp",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t[n]),e[n]);return this.check()}},{key:"validate",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this,e=t&&t.length===this.ELEMENTS,n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(t[n]);return e}},{key:"check",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this;if(u.debug&&!this.validate(t))throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"sub",value:function(t){return this.subtract(t)}},{key:"setScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]=t;return this.check()}},{key:"addScalar",value:function(t){for(var e=0;e<this.ELEMENTS;++e)this[e]+=t;return this.check()}},{key:"subScalar",value:function(t){return this.addScalar(-t)}},{key:"multiplyScalar",value:function(t){return this.scale(t)}},{key:"divideScalar",value:function(t){return this.scale(1/t)}},{key:"clampScalar",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],t),e);return this.check()}}])&&v(n.prototype,r),i&&v(n,i),e}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}var k=function(t,e){if(!t)throw new Error(e)},M=function(t){function e(){return w(this,e),S(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,b),n=e,(r=[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){for(var t=0,e=0;e<this.ELEMENTS;++e)t+=this[e]*this[e];return t}},{key:"distance",value:function(t){return Math.sqrt(this.distanceSquared(t))}},{key:"distanceSquared",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-t[n];e+=r*r}return l(e)}},{key:"dot",value:function(t){for(var e=0,n=0;n<this.ELEMENTS;++n)e+=this[n]*t[n];return l(e)}},{key:"normalize",value:function(){var t=this.magnitude();if(0!==t)for(var e=0;e<this.ELEMENTS;++e)this[e]/=t;return this.check()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]+=i[o];return this.check()}},{key:"subtract",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]-=i[o];return this.check()}},{key:"multiply",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]*=i[o];return this.check()}},{key:"divide",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<this.ELEMENTS;++o)this[o]/=i[o];return this.check()}},{key:"scale",value:function(t){if(Array.isArray(t))return this.multiply(t);for(var e=0;e<this.ELEMENTS;++e)this[e]*=t;return this.check()}},{key:"scaleAndAdd",value:function(t,e){for(var n=0;n<this.ELEMENTS;++n)this[n]=this[n]*e+t[n];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(t){return this.distance(t)}},{key:"distanceToSquared",value:function(t){return this.distanceSquared(t)}},{key:"getComponent",value:function(t){return k(0<=t&&t<this.ELEMENTS,"index is out of range"),l(this[t])}},{key:"setComponent",value:function(t,e){return k(0<=t&&t<this.ELEMENTS,"index is out of range"),this[t]=e,this.check()}},{key:"addVectors",value:function(t,e){return this.copy(t).add(e)}},{key:"subVectors",value:function(t,e){return this.copy(t).subtract(e)}},{key:"multiplyVectors",value:function(t,e){return this.copy(t).multiply(e)}},{key:"addScaledVector",value:function(t,e){return this.add(new this.constructor(t).multiplyScalar(e))}}])&&E(n.prototype,r),i&&E(n,i),e}(),T=n(107),C=n.n(T);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}var I=function(t){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return A(this,r),t=z(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,n),t}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,M),e=r,(n=[{key:"cross",value:function(t){return C()(this,this,t),this.check()}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function(){return 2}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=l(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=l(t)}}])&&O(e.prototype,n),i&&O(e,i),r}(),N=n(108),D=n.n(N),L=n(61),j=n.n(L),F=n(109),B=n.n(F),U=n(110),V=n.n(U),q=n(111),Y=n.n(q);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}var G=[0,0,0],X=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return $(this,i),t=Z(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),Array.isArray(e)&&1===arguments.length?t.copy(e):t.set(e,n,r),t}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,M),e=i,(n=[{key:"angle",value:function(t){return D()(this,t)}},{key:"cross",value:function(t){return j()(this,this,t),this.check()}},{key:"rotateX",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?G:n;return B()(this,this,r,e),this.check()}},{key:"rotateY",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?G:n;return V()(this,this,r,e),this.check()}},{key:"rotateZ",value:function(t){var e=t.radians,n=t.origin,r=void 0===n?G:n;return Y()(this,this,r,e),this.check()}},{key:"operation",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this,this].concat(n)),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"x",get:function(){return this[0]},set:function(t){return this[0]=l(t)}},{key:"y",get:function(){return this[1]},set:function(t){return this[1]=l(t)}},{key:"z",get:function(){return this[2]},set:function(t){return this[2]=l(t)}}])&&H(e.prototype,n),r&&H(e,r),i}();n(112),n(113),n(114),n(115),n(116);var K=n(40),J=n.n(K),Q=(n(117),n(41)),tt=n.n(Q),et=n(21),nt=n.n(et),rt=(n(118),n(19)),it=n.n(rt),ot=n(20),at=n.n(ot),st=(n(119),n(120),n(22)),ut=n.n(st),lt=n(42),ct=n.n(lt),ft=(n(121),n(43)),ht=n.n(ft);n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(63),n(134),n(135),n(136),n(137),n(138),n(64),n(139);n(62);var pt=n(65),dt=n.n(pt);function mt(t,e){var n=ut()([],e,t);return dt()(n,n,1/n[3]),n}function yt(t,e){var n=t%e;return n<0?e+n:n}var vt=n(140),gt=n.n(vt);function _t(t){if(!t)throw new Error("viewport-mercator-project: assertion failed.")}function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xt=Math.PI,wt=xt/4,Et=xt/180,St=180/xt,kt=512,Mt=4003e4,Tt=1.5;function Ct(t){return Math.pow(2,t)}function Pt(t){return Math.log2(t)}function At(t,e){var n=bt(t,2),r=n[0],i=n[1];return[(e*=kt)*(r*Et+xt)/(2*xt),e*(xt-Math.log(Math.tan(wt+i*Et*.5)))/(2*xt)]}function Ot(t,e){var n=bt(t,2),r=n[0],i=n[1],o=r/(e*=kt)*(2*xt)-xt,a=2*(Math.atan(Math.exp(xt-i/e*(2*xt)))-wt);return[o*St,a*St]}function zt(t){var e=t.longitude,n=t.latitude,r=t.zoom,i=t.scale,o=t.meterOffset,a=t.distanceScales,s=void 0===a?null:a,u=At([e,n],i=void 0===i?Ct(r):i),l=new X(u[0],u[1],0);if(o){s=s||function(t){var e=Number.isFinite,n=t.latitude,r=t.longitude,i=t.zoom,o=t.scale,a=t.highPrecision;o=void 0===o?Ct(i):o,_t(e(n)&&e(r)&&e(o));var s={},u=kt*o,l=Math.cos(n*Et),c=u/360,f=c/l,h=u/Mt/l;if(s.pixelsPerMeter=[h,h,h],s.metersPerPixel=[1/h,1/h,1/h],s.pixelsPerDegree=[c,f,h],s.degreesPerPixel=[1/c,1/f,1/h],void 0!==a&&a){var p=Et*Math.tan(n*Et)/l,d=u/Mt*p,m=d/f*h;s.pixelsPerDegree2=[0,c*p/2,d],s.pixelsPerMeter2=[m,0,m]}return s}({latitude:n,longitude:e,scale:i});var c=new X(o).scale(s.pixelsPerMeter).scale([1,-1,1]);l.add(c)}return l}function It(t){var e,n,r,i,o,a,s,u,l,c,f,h,p,d,m,y,v=t.width,g=t.height,_=t.pitch,b=t.altitude,x=t.farZMultiplier,w=(e={width:v,height:g,altitude:b,pitch:_,farZMultiplier:void 0===x?10:x},n=Math.PI,r=Math.sin,i=Math.atan,o=e.width,a=e.height,s=e.altitude,u=void 0===s?Tt:s,l=e.pitch,c=void 0===l?0:l,f=e.farZMultiplier,h=void 0===f?1:f,p=c*Et,d=i(.5/u),m=r(d)*u/r(n/2-p-d),y=Math.cos(n/2-p)*m+u,{fov:2*i(a/2/u),aspect:o/a,focalDistance:u,near:.1,far:y*h}),E=w.fov,S=w.aspect,k=w.near,M=w.far;return J()([],E,S,k,M)}function Rt(t,e){var n=Number.isFinite,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=bt(t,3),o=i[0],a=i[1],s=i[2];if(_t(n(o)&&n(a)),n(s))return mt(e,[o,a,s,1]);var u=mt(e,[o,a,0,1]),l=mt(e,[o,a,1,1]),c=u[2],f=l[2],h=c===f?0:((r||0)-c)/(f-c);return gt()([],u,l,h)}function Nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dt(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e}function Lt(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var jt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Ft=function(){function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.viewMatrix,i=void 0===r?jt:r,o=t.projectionMatrix,a=void 0===o?jt:o;(function(t,e){if(!Dt(t,e))throw new TypeError("Cannot call a class as a function")})(this,c),this.width=e||1,this.height=n||1,this.scale=1,this.viewMatrix=i,this.projectionMatrix=a;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];nt()(s,s,this.projectionMatrix),nt()(s,s,this.viewMatrix),this.viewProjectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];it()(u,u,[this.width/2,-this.height/2,1]),at()(u,u,[1,-1,0]),nt()(u,u,this.viewProjectionMatrix);var l=tt()([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u);if(!l)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=l,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return t=c,(e=[{key:"equals",value:function(t){return!!Dt(t,c)&&t.width===this.width&&t.height===this.height&&d(t.projectionMatrix,this.projectionMatrix)&&d(t.viewMatrix,this.viewMatrix)}},{key:"project",value:function(t){var e,n,r,i,o,a,s,u,l=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).topLeft,c=Nt(t,3),f=c[0],h=c[1],p=c[2],d=Nt(this.projectFlat([f,h]),2),m=d[0],y=d[1],v=(e=[m,y,p],n=this.pixelProjectionMatrix,r=Number.isFinite,i=bt(e,3),o=i[0],a=i[1],s=i[2],u=void 0===s?0:s,_t(r(o)&&r(a)&&r(u)),mt(n,[o,a,u,1])),g=Nt(v,2),_=g[0],b=g[1],x=void 0===l||l?b:this.height-b;return 2===t.length?[_,x]:[_,x,v[2]]}},{key:"unproject",value:function(t){var e=Number.isFinite,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.topLeft,i=n.targetZ,o=Nt(t,3),a=o[0],s=o[1],u=o[2],l=Rt([a,void 0===r||r?s:this.height-s,u],this.pixelUnprojectionMatrix,i),c=Nt(this.unprojectFlat(l),2),f=c[0],h=c[1];return e(u)?[f,h,l[2]]:e(i)?[f,h,i]:[f,h]}},{key:"projectFlat",value:function(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}},{key:"unprojectFlat",value:function(t){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale,t}}])&&Lt(t.prototype,e),n&&Lt(t,n),c;var t,e,n}();function Bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ut=n(68),Vt=n.n(Ut),qt=n(141),Yt=n.n(qt);function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Ht(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Xt=function(t){function I(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,s=void 0===a?0:a,u=e.zoom,l=void 0===u?0:u,c=e.pitch,f=void 0===c?0:c,h=e.bearing,p=void 0===h?0:h,d=e.altitude,m=void 0===d?1.5:d,y=e.farZMultiplier,v=void 0===y?10:y;$t(this,I),n=n||1,r=r||1;var g=Ct(l);m=Math.max(.75,m);var _,b,x,w,E,S,k,M,T,C,P,A=zt({longitude:s,latitude:o,scale:g}),O=It({width:n,height:r,pitch:f,bearing:p,altitude:m,farZMultiplier:v}),z=(b=(_={height:r,center:A,pitch:f,bearing:p,altitude:m,flipY:!0}).height,x=_.pitch,w=_.bearing,E=_.altitude,S=_.center,k=void 0===S?null:S,M=_.flipY,T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],at()(T,T,[0,0,-E]),it()(T,T,[1,1,1/b]),ct()(T,T,-x*Et),ht()(T,T,w*Et),void 0!==M&&M&&it()(T,T,[1,-1,1]),k&&at()(T,T,new X(k).negate()),T);return C=this,(t=!(P=(I.__proto__||Object.getPrototypeOf(I)).call(this,{width:n,height:r,viewMatrix:z,projectionMatrix:O}))||"object"!==Wt(P)&&"function"!=typeof P?Gt(C):P).latitude=o,t.longitude=s,t.zoom=l,t.pitch=f,t.bearing=p,t.altitude=m,t.scale=g,t.center=A,Object.freeze(Gt(t)),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(I,Ft),e=I,(n=[{key:"projectFlat",value:function(t){return At(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"unprojectFlat",value:function(t){return Ot(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=Rt(t.pos,this.pixelUnprojectionMatrix),r=At(e,this.scale),i=Vt()([],r,Yt()([],n));return Ot(Vt()([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.width,r=this.height,i=function(t){var e=Math.abs,n=Number.isFinite,r=t.width,i=t.height,o=t.bounds,a=t.padding,s=void 0===a?0:a,u=t.offset,l=void 0===u?[0,0]:u,c=Bt(o,2),f=Bt(c[0],2),h=f[0],p=f[1],d=Bt(c[1],2),m=d[0],y=d[1];n(s)?s={top:s,bottom:s,left:s,right:s}:_t(n(s.top)&&n(s.bottom)&&n(s.left)&&n(s.right));var v=new Xt({width:r,height:i,longitude:0,latitude:0,zoom:0}),g=v.project([h,y]),_=v.project([m,p]),b=[e(_[0]-g[0]),e(_[1]-g[1])],x=[r-s.left-s.right-2*e(l[0]),i-s.top-s.bottom-2*e(l[1])];_t(0<x[0]&&0<x[1]);var w=x[0]/b[0],E=x[1]/b[1],S=(s.right-s.left)/2/w,k=(s.bottom-s.top)/2/E,M=[(_[0]+g[0])/2+S,(_[1]+g[1])/2+k],T=v.unproject(M),C=v.zoom+Math.log2(e(Math.min(w,E)));return{longitude:T[0],latitude:T[1],zoom:C}}(Object.assign({width:n,height:r,bounds:t},e));return new I({width:n,height:r,longitude:i.longitude,latitude:i.latitude,zoom:i.zoom})}}])&&Ht(e.prototype,n),r&&Ht(e,r),I;var e,n,r}();var Kt=["longitude","latitude","zoom"];var Jt=n(45),Qt=n(142);function te(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}function ee(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ne(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function re(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var ie={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},oe=0,ae=0,se=1.5;function ue(t,e,n){return t<e?e:n<t?n:t}var le=function(){function P(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.width,n=t.height,r=t.latitude,i=t.longitude,o=t.zoom,a=t.bearing,s=void 0===a?ae:a,u=t.pitch,l=void 0===u?oe:u,c=t.altitude,f=void 0===c?se:c,h=t.maxZoom,p=void 0===h?ie.maxZoom:h,d=t.minZoom,m=void 0===d?ie.minZoom:d,y=t.maxPitch,v=void 0===y?ie.maxPitch:y,g=t.minPitch,_=void 0===g?ie.minPitch:g,b=t.transitionDuration,x=t.transitionEasing,w=t.transitionInterpolator,E=t.transitionInterruption,S=t.startPanLngLat,k=t.startZoomLngLat,M=t.startBearing,T=t.startPitch,C=t.startZoom;ne(this,P),te(A(e),"`width` must be supplied"),te(A(n),"`height` must be supplied"),te(A(i),"`longitude` must be supplied"),te(A(r),"`latitude` must be supplied"),te(A(o),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:e,height:n,latitude:r,longitude:i,zoom:o,bearing:s,pitch:l,altitude:f,maxZoom:p,minZoom:m,maxPitch:v,minPitch:_,transitionDuration:b,transitionEasing:x,transitionInterpolator:w,transitionInterruption:E}),this._interactiveState={startPanLngLat:S,startZoomLngLat:k,startBearing:M,startPitch:T,startZoom:C}}var t,e,n,A=Number.isFinite;return t=P,(e=[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=ee(this._calculateNewLngLat({startPanLngLat:r,pos:e}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){return t.pos,this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!A(a)||!A(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;te(0<r,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;A(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),te(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o}),u=ee(new Xt(Object.assign({},this._viewportProps,{zoom:s})).getLocationAtPoint({lngLat:a,pos:e}),2),l=u[0],c=u[1];return this._getUpdatedMapState({zoom:s,longitude:l,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new P(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=ue(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=ue(a,o,i),Object.assign(t,function(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,u=t.bearing,l=void 0===u?0:u;(r<-180||180<r)&&(r=yt(r+180,360)-180),(l<-180||180<l)&&(l=yt(l+180,360)-180);var c=new Xt({width:e,height:n,longitude:r,latitude:i,zoom:o}),f=c.project([r,85.05113])[1],h=c.project([r,-85.05113])[1],p=0;return h-f<n&&(o+=Math.log2(n/(h-f)),f=(c=new Xt({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,85.05113])[1],h=c.project([r,-85.05113])[1]),0<f?p=f:h<n&&(p=h-n),p&&(i=c.unproject([e/2,n/2+p])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:l}}(t)),t}},{key:"_unproject",value:function(t){var e=new Xt(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new Xt(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return ue(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=ue(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return 0<n?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*e}}}])&&re(t.prototype,e),n&&re(t,n),P}();function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function he(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function pe(t,e,n){return e&&he(t.prototype,e),n&&he(t,n),t}function de(t,e){return(de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ye=Qt.a?n(262):null,ve="A valid API access token is required to use Mapbox data";function ge(){}var _e=Object.assign({},Jt.a.propTypes,{mapStyle:i.a.oneOfType([i.a.string,i.a.object]),preventStyleDiffing:i.a.bool,disableTokenWarning:i.a.bool,visible:i.a.bool,visibilityConstraints:i.a.object}),be=Object.assign({},Jt.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),xe={viewport:i.a.instanceOf(Xt)},we=function(t){function i(t){var e,n,r;return fe(this,i),n=this,(e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==ce(r)&&"function"!=typeof r?me(n):r)._queryParams={},i.supported()||(e.componentDidMount=ge,e.componentWillReceiveProps=ge,e.componentDidUpdate=ge,e.componentWillUnmount=ge),e.state={accessTokenInvalid:!1},e.getMap=e.getMap.bind(me(e)),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(me(e)),e._updateMapSize=e._updateMapSize.bind(me(e)),e._updateMapStyle=e._updateMapStyle.bind(me(e)),e._mapboxMapLoaded=e._mapboxMapLoaded.bind(me(e)),e._mapboxMapError=e._mapboxMapError.bind(me(e)),e._renderNoTokenWarning=e._renderNoTokenWarning.bind(me(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(i,h["PureComponent"]),pe(i,null,[{key:"supported",value:function(){return ye&&ye.supported()}}]),pe(i,[{key:"getChildContext",value:function(){return{viewport:new Xt(this.props)}}},{key:"componentDidMount",value:function(){var t=this.props.mapStyle;this._mapbox=new Jt.a(Object.assign({},this.props,{mapboxgl:ye,container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:a(t)?t.toJS():t})),this._map=this._mapbox.getMap()}},{key:"componentWillReceiveProps",value:function(t){this._mapbox.setProps(t),this._updateMapStyle(this.props,t),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function(){return this._map}},{key:"queryRenderedFeatures",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this._map.queryRenderedFeatures(t,e)}},{key:"_updateMapSize",value:function(t,e){(t.width!==e.width||t.height!==e.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle,r=t.mapStyle;n!==r&&(a(n)?this.props.preventStyleDiffing?this._map.setStyle(n.toJS()):s(r,n,this._map):this._map.setStyle(n))}},{key:"_mapboxMapLoaded",value:function(t){this._mapboxMap=t}},{key:"_mapboxMapError",value:function(t){401!==(t.error&&t.error.status||t.status)||this.state.accessTokenInvalid||(console.error(ve),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function(){return this.state.accessTokenInvalid&&!this.props.disableTokenWarning?Object(h.createElement)("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},[Object(h.createElement)("h3",{key:"header"},ve),Object(h.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(h.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")]):null}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visibilityConstraints,a=Object.assign({},i,{width:n,height:r,position:"relative"}),s=this.props.visible&&function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ie;for(var r in n){var i=r.slice(0,3),o=(e=r.slice(3))[0].toLowerCase()+e.slice(1);if("min"===i&&t[o]<n[r])return!1;if("max"===i&&t[o]>n[r])return!1}return!0}(this.props.viewState||this.props,o),u=Object.assign({},i,{width:n,height:r,visibility:s?"visible":"hidden"});return Object(h.createElement)("div",{key:"map-container",style:a,children:[Object(h.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:u,className:e}),Object(h.createElement)("div",{key:"map-overlays",className:"overlays",style:{position:"absolute",left:0,top:0,width:n,height:r,overflow:"hidden"},children:this.props.children}),this._renderNoTokenWarning()]})}}]),i}();function Ee(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Se(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}we.displayName="StaticMap",we.propTypes=_e,we.defaultProps=be,we.childContextTypes=xe;var ke=function(){function t(){Ee(this,t)}return e=t,(n=[{key:"arePropsEqual",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a,s=(this.propNames||[])[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(!d(t[a=o.value],e[a]))return!1}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(){te(!1,"interpolateProps is not implemented")}}])&&Se(e.prototype,n),r&&Se(e,r),t;var e,n,r}(),Me={longitude:1,bearing:1};function Te(t,n,r){return Array.isArray(t)?t.map(function(t,e){return Te(t,n[e],r)}):r*n+(1-r)*t}function Ce(t){return Number.isFinite(t)||Array.isArray(t)}function Pe(t,e,n){return Me[t]&&180<Math.abs(n-e)&&(n=n<0?n+360:n-360),n}function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function ze(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Ie(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ne=["longitude","latitude","zoom","bearing","pitch"],De=["latitude","longitude","zoom","width","height"],Le=["bearing","pitch"],je=function(t){function e(){var t;return Oe(this,e),(t=Ie(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))).propNames=Ne,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(e,ke),n=e,(r=[{key:"initializeProps",value:function(t,e){for(var n={},r={},i=0;i<De.length;i++){var o=De[i],a=t[o],s=e[o];te(Ce(a)&&Ce(s),"".concat(o," must be supplied for transition")),n[o]=a,r[o]=Pe(o,a,s)}for(var u=0;u<Le.length;u++){var l=Le[u],c=t[l]||0,f=e[l]||0;n[l]=c,r[l]=Pe(l,c,f)}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){for(var r,i=function(t,e,n){var r,i=Math.cosh,o=Math.log,a=Math.sqrt,s={},u=t.zoom,l=[t.longitude,t.latitude],c=Ct(u),f=e.zoom,h=[e.longitude,e.latitude],p=Ct(f-u),d=new I(At(l,c)),m=new I(At(h,c)).subtract(d),y=Math.max(t.width,t.height),v=y/p,g=a(m.x*m.x+m.y*m.y);if(Math.abs(g)<.01){for(var _=0;_<Kt.length;_++){var b=Kt[_],x=t[b],w=e[b];s[b]=(r=n)*w+(1-r)*x}return s}var E=1.414*1.414,S=(v*v-y*y+E*E*g*g)/(2*y*E*g),k=(v*v-y*y-E*E*g*g)/(2*v*E*g),M=o(a(S*S+1)-S),T=n*((o(a(k*k+1)-k)-M)/1.414),C=i(M)/i(M+1.414*T),P=y*((i(M)*Math.tanh(M+1.414*T)-Math.sinh(M))/E)/g,A=1/C,O=u+Pt(A),z=Ot(d.add(m.scale(P)).scale(A),Ct(O));return s.longitude=z[0],s.latitude=z[1],s.zoom=O,s}(t,e,n),o=0;o<Le.length;o++)i[r=Le[o]]=Te(t[r],e[r],n);return i}}])&&ze(n.prototype,r),i&&ze(n,i),e;var n,r,i}();function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Ue(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Ve(t,e){return!e||"object"!==Fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qe(t,e){return(qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ye=["longitude","latitude","zoom","bearing","pitch"],We=function(t){function n(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ye;return Be(this,n),(t=Ve(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))).propNames=e,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}(n,ke),e=n,(r=[{key:"initializeProps",value:function(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=t[l],f=e[l];te(Ce(c)&&Ce(f),"".concat(l," must be supplied for transition")),n[l]=c,r[l]=Pe(l,c,f)}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,u,l=this.propNames[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)r[u=s.value]=Te(t[u],e[u],n)}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r}}])&&Ue(e.prototype,r),i&&Ue(e,i),n;var e,r,i}();function $e(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function He(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var Ze=function(){},Ge={BREAK:1,SNAP_TO_END:2,IGNORE:3},Xe={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new We,transitionInterruption:Ge.BREAK,onTransitionStart:Ze,onTransitionInterrupt:Ze,onTransitionEnd:Ze},Ke={animation:null,propsInTransition:null,startProps:null,endProps:null},Je=function(){function e(t){$e(this,e),this.props=t,this.state=Ke,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return t=e,(n=[{key:"getViewportInTransition",value:function(){return this.state.propsInTransition}},{key:"processViewportChange",value:function(t){var e=!1,n=this.props;if(this.props=t,this._shouldIgnoreViewportChange(n,t))return e;var r=this._isTransitionInProgress();if(this._isTransitionEnabled(t)){var i=Object.assign({},n,this.state.interruption===Ge.SNAP_TO_END?this.state.endProps:this.state.propsInTransition);r&&n.onTransitionInterrupt(),t.onTransitionStart(),this._triggerTransition(i,t),e=!0}else r&&(n.onTransitionInterrupt(),this._endTransition());return e}},{key:"_isTransitionInProgress",value:function(){return!!this.state.propsInTransition}},{key:"_isTransitionEnabled",value:function(t){return 0<t.transitionDuration&&!!t.transitionInterpolator}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return this._isTransitionInProgress()?this.state.interruption===Ge.IGNORE||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e)}},{key:"_triggerTransition",value:function(t,e){te(this._isTransitionEnabled(e),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var n=e.transitionInterpolator.initializeProps(t,e);this.state={duration:e.transitionDuration,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:Date.now(),startProps:n.start,endProps:n.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function(){cancelAnimationFrame(this.state.animation),this.state=Ke}},{key:"_updateViewport",value:function(){var t=Date.now(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,u=!1,l=(t-n)/r;1<=l&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),f=new le(Object.assign({},this.props,c));this.state.propsInTransition=f.getViewportProps();var h=this.props.onViewportChange||this.props.onChangeViewport;h&&h(this.state.propsInTransition),this.props.onViewStateChange&&this.props.onViewStateChange({viewState:this.state.propsInTransition}),u&&(this._endTransition(),this.props.onTransitionEnd())}}])&&He(t.prototype,n),r&&He(t,r),e;var t,n,r}();Je.defaultProps=Xe;var Qe=n(15),tn={mousedown:1,mousemove:2,mouseup:4};var en,nn,rn=void 0;Qe.isBrowser&&(rn=n(264)),rn&&(en=rn.PointerEventInput,nn=en.prototype.handler,en.prototype.handler=function(e){var t=this.store;0<e.button&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(t,function(t){return t.pointerId===e.pointerId})||t.push(e)),nn.call(this,e)},rn.MouseInput.prototype.handler=function(t){var e=tn[t.type];1&e&&0<=t.button&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))});var on=rn?rn.Manager:function(t){var e={},n=function(){return e};return e.get=function(){return null},e.set=n,e.on=n,e.off=n,e.destroy=n,e.emit=n,e},an=rn,sn=an?[[an.Rotate,{enable:!1}],[an.Pinch,{enable:!1}],[an.Swipe,{enable:!1}],[an.Pan,{threshold:0,enable:!1}],[an.Press,{enable:!1}],[an.Tap,{event:"doubletap",taps:2,enable:!1}],[an.Tap,{enable:!1}]]:null,un={rotate:["pinch"]},ln={doubletap:["tap"]},cn={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},fn=["keydown","keyup"],hn=["mousedown","mousemove","mouseup","mouseleave"],pn=["wheel","mousewheel","DOMMouseScroll"],dn={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},mn={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"},yn=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var vn=-1!==Qe.userAgent.indexOf("firefox"),gn=pn,_n=4.000244140625,bn=function(){function i(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.element=e,this.callback=t,this.options=Object.assign({enable:!0},r),this.events=gn.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(t){return e.addEventListener(t,n.handleEvent)})}return yn(i,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){this.options.legacyBlockScroll&&t.preventDefault();var e=t.deltaY;Qe.window.WheelEvent&&(vn&&t.deltaMode===Qe.window.WheelEvent.DOM_DELTA_PIXEL&&(e/=Qe.window.devicePixelRatio),t.deltaMode===Qe.window.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%_n==0&&(e=Math.floor(e/_n)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),i}(),xn=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var wn=hn,En="pointermove",Sn="pointerleave",kn=function(){function i(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.element=e,this.callback=t,this.pressed=!1,this.options=Object.assign({enable:!0},r),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=wn.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(t){return e.addEventListener(t,n.handleEvent)})}return xn(i,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(t,e){t===En&&(this.enableMoveEvent=e),t===Sn&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){if(this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:Sn,srcEvent:t,pointerType:"mouse",target:t.target}),this.enableMoveEvent)switch(t.type){case"mousedown":0<=t.button&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:En,srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),i}(),Mn=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var Tn=fn,Cn=function(){function i(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.element=e,this.callback=t,this.options=Object.assign({enable:!0},r),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=Tn.concat(r.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=1,e.style.outline="none",this.events.forEach(function(t){return e.addEventListener(t,n.handleEvent)})}return Mn(i,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),i}(),Pn=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var An=function(){function r(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.element=t,this.callback=e,this.options=Object.assign({enable:!0},n),this.handleEvent=this.handleEvent.bind(this),t.addEventListener("contextmenu",this.handleEvent)}return Pn(r,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"handleEvent",value:function(t){this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target}),this.options.rightButton&&t.preventDefault()}}]),r}(),On={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var zn=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();var In={events:null,recognizers:null,Manager:on,rightButton:!1,touchAction:"none",legacyBlockScroll:!0},Rn=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.options=Object.assign({},In,e),this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var n=e.events;n&&this.on(n)}return zn(r,[{key:"setElement",value:function(t){var i=this;if(this.element&&this.destroy(),this.element=t){var e=this.options,n=e.Manager;this.manager=new n(t,{touchAction:e.touchAction,recognizers:e.recognizers||sn}).on("hammer.input",this._onBasicInput),e.recognizers||Object.keys(un).forEach(function(t){var e=i.manager.get(t);e&&un[t].forEach(function(t){e.recognizeWith(t)})}),this.wheelInput=new bn(t,this._onOtherEvent,{enable:!1,legacyBlockScroll:e.legacyBlockScroll}),this.moveInput=new kn(t,this._onOtherEvent,{enable:!1}),this.keyInput=new Cn(t,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new An(t,this._onOtherEvent,{rightButton:e.rightButton}),this.eventHandlers.forEach(function(t){var e=t.recognizerName,n=t.eventAlias,r=t.wrappedHandler;i._toggleRecognizer(e,!0),i.manager.on(n,r)})}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){if("string"==typeof t)this._addEventHandler(t,e,n);else for(var r in n=e,t)this._addEventHandler(r,t[r],n)}},{key:"off",value:function(t,e){if("string"==typeof t)this._removeEventHandler(t,e);else for(var n in t)this._removeEventHandler(n,t[n])}},{key:"_toggleRecognizer",value:function(n,r){var i=this.manager;if(i){var t=i.get(n);if(t){t.set({enable:r});var e=ln[n];e&&!this.options.recognizers&&e.forEach(function(t){var e=i.get(t);r?e.requireFailure(n):e.dropRequireFailure(n)})}this.wheelInput.enableEventType(n,r),this.moveInput.enableEventType(n,r),this.keyInput.enableEventType(n,r)}}},{key:"_addEventHandler",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=this.manager,i=this.eventHandlers,o=this._wrapEventHandler(t,e,n),a=mn[t]||t,s=dn[a]||a;this._toggleRecognizer(s,!0);var u=i.filter(function(t){return t.eventAlias===a&&t.srcElement!==n&&(!t.srcElement||t.srcElement.contains(n))});i.push({event:t,eventAlias:a,recognizerName:s,srcElement:n,handler:e,wrappedHandler:o}),u.forEach(function(t){return r.off(a,t.wrappedHandler)}),r&&r.on(a,o),u.forEach(function(t){return r.on(a,t.wrappedHandler)})}},{key:"_removeEventHandler",value:function(t,e){for(var n=this.manager,r=this.eventHandlers,i=!1,o=r.length;o--;){var a=r[o];a.event===t&&a.handler===e&&(n&&n.off(a.eventAlias,a.wrappedHandler),r.splice(o,1),i=!0)}if(i){var s=mn[t]||t,u=dn[s]||s;r.find(function(t){return t.recognizerName===u})||this._toggleRecognizer(u,!1)}}},{key:"_wrapEventHandler",value:function(n,r,i){var o=this;return function(t){var e=t.mjolnirEvent;(e||(e=o._normalizeEvent(t),t.mjolnirEvent=e),e.handled&&e.handled!==i)||(!i||i.contains(t.srcEvent.target))&&r(Object.assign({},e,{type:n,stopPropagation:function(){e.handled||(e.handled=i)}}))}}},{key:"_normalizeEvent",value:function(t){var e=this.element;return Object.assign({},t,function(t){var e=On[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,u=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,u=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),u=Boolean(2&r)):1===e&&(a=0===i,s=1===i,u=2===i),{leftButton:a,middleButton:s,rightButton:u}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=cn[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),r}();function Nn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Dn(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Ln(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var jn={transitionDuration:0},Fn={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new We,transitionInterruption:Ge.BREAK},Bn=["wheel"],Un=["panstart","panmove","panend"],Vn=["pinchstart","pinchmove","pinchend"],qn=["doubletap"],Yn=["keydown"],Wn=function(){function t(){Dn(this,t),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}var e,n,r,c=Math.abs;return e=t,(n=[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"setState",value:function(t){Object.assign(this._state,t),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),o=Object.keys(i).some(function(t){return r[t]!==i[t]});o&&this.onViewStateChange&&this.onViewStateChange({viewState:i}),o&&this.onViewportChange&&this.onViewportChange(i),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new le(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onChangeViewport,n=t.touchZoomRotate,r=void 0===n||n,i=t.onViewStateChange,o=t.onViewportChange,a=t.onStateChange,s=void 0===a?this.onStateChange:a,u=t.eventManager,l=void 0===u?this.eventManager:u,c=t.scrollZoom,f=void 0===c||c,h=t.dragPan,p=void 0===h||h,d=t.dragRotate,m=void 0===d||d,y=t.doubleClickZoom,v=void 0===y||y,g=t.touchZoom,_=t.touchRotate,b=t.keyboard,x=void 0===b||b;this.onViewStateChange=i,this.onViewportChange=o||e,this.onStateChange=s,this.mapStateProps&&this.mapStateProps.height!==t.height&&this.updateViewport(new le(t)),this.mapStateProps=t,this.eventManager!==l&&(this.eventManager=l,this._events={},this.toggleEvents(this.events,!0));var w=!(!this.onViewStateChange&&!this.onViewportChange);this.toggleEvents(Bn,w&&f),this.toggleEvents(Un,w&&(p||m)),this.toggleEvents(Vn,w&&r),this.toggleEvents(qn,w&&v),this.toggleEvents(Yn,w&&x),this.scrollZoom=f,this.dragPan=p,this.dragRotate=m,this.doubleClickZoom=v,this.touchZoom=r&&(void 0===g||g),this.touchRotate=r&&void 0!==_&&_,this.keyboard=x}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach(function(t){n._events[t]!==e&&((n._events[t]=e)?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))})}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,jn,{isDragging:!0})}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1})}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,jn,{isDragging:!0})}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=Nn(this.getCenter(t),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,u=0;0<n?5<c(s-i)&&(u=n/(i-s)*1.2):n<0&&5<i&&(u=1-r/i),u=Math.min(1,Math.max(-1,u));var l=this.mapState.rotate({deltaScaleX:e/a,deltaScaleY:u});return this.updateViewport(l,jn,{isDragging:!0})}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.srcEvent.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-c(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,jn)}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,jn,{isDragging:!0})}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,jn,{isDragging:!0})}},{key:"_onPinchEnd",value:function(){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Fn)}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,Fn)}}])&&Ln(e.prototype,n),r&&Ln(e,r),t}(),$n=n(46),Hn=n.n($n),Zn=Hn.a.webkit||Hn.a.blink?"-webkit-":Hn.a.gecko?"-moz-":"",Gn={DEFAULTS:{},CURSOR:{GRABBING:"".concat(Zn,"grabbing"),GRAB:"".concat(Zn,"grab"),POINTER:"pointer"}},Xn=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}];function Kn(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Xn.forEach(function(t){if(i.hasOwnProperty(t.old)){var e=(r=t.old,"react-map-gl: `".concat(r,"` is deprecated and will be removed in a later version."));t.new&&(e="".concat(e," ").concat((n=t.new,"Use `".concat(n,"` instead.")))),console.warn(e)}var n,r})}function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function tr(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function er(t,e,n){return e&&tr(t.prototype,e),n&&tr(t,n),t}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ir=Object.assign({},we.propTypes,{maxZoom:i.a.number,minZoom:i.a.number,maxPitch:i.a.number,minPitch:i.a.number,onViewStateChange:i.a.func,onViewportChange:i.a.func,transitionDuration:i.a.number,transitionInterpolator:i.a.object,transitionInterruption:i.a.number,transitionEasing:i.a.func,onTransitionStart:i.a.func,onTransitionInterrupt:i.a.func,onTransitionEnd:i.a.func,scrollZoom:i.a.bool,dragPan:i.a.bool,dragRotate:i.a.bool,doubleClickZoom:i.a.bool,touchZoom:i.a.bool,touchRotate:i.a.bool,keyboard:i.a.bool,onHover:i.a.func,onClick:i.a.func,onContextMenu:i.a.func,touchAction:i.a.string,clickRadius:i.a.number,getCursor:i.a.func,mapControls:i.a.shape({events:i.a.arrayOf(i.a.string),handleEvent:i.a.func})}),or=Object.assign({},we.defaultProps,ie,Je.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?Gn.CURSOR.GRABBING:n?Gn.CURSOR.POINTER:Gn.CURSOR.GRAB}}),ar={viewport:i.a.instanceOf(Xt),isDragging:i.a.bool,eventManager:i.a.object},sr=function(t){function i(t){var e,n,r;return Qn(this,i),n=this,e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==Jn(r)&&"function"!=typeof r?rr(n):r,Kn(t),e.state={isDragging:!1,isHovering:!1},e._mapControls=t.mapControls||new Wn,e._eventManager=new Rn(null,{legacyBlockScroll:!1,touchAction:t.touchAction}),e._updateQueryParams(t.mapStyle),e.getMap=e.getMap.bind(rr(e)),e.queryRenderedFeatures=e.queryRenderedFeatures.bind(rr(e)),e._getFeatures=e._getFeatures.bind(rr(e)),e._updateQueryParams=e._updateQueryParams.bind(rr(e)),e._onInteractiveStateChange=e._onInteractiveStateChange.bind(rr(e)),e._getPos=e._getPos.bind(rr(e)),e._eventCanvasLoaded=e._eventCanvasLoaded.bind(rr(e)),e._staticMapLoaded=e._staticMapLoaded.bind(rr(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(i,h["PureComponent"]),er(i,null,[{key:"supported",value:function(){return we.supported()}}]),er(i,[{key:"getChildContext",value:function(){return{viewport:new Xt(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function(){var t=this._eventManager;t.on({mousemove:this._onMouseMove.bind(this),click:this._onMouseClick.bind(this),contextmenu:this._onContextMenu.bind(this)}),this._mapControls.setOptions(Object.assign({},this.props,this.props.viewState,{onStateChange:this._onInteractiveStateChange,eventManager:t})),this._transitionManager=new Je(this.props)}},{key:"componentWillUpdate",value:function(t){this.props.mapStyle!==t.mapStyle&&this._updateQueryParams(t.mapStyle);var e=Object.assign({},t,t.viewState);this._mapControls.setOptions(e),this._transitionManager.processViewportChange(e)}},{key:"getMap",value:function(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function(t,e){return this._map.queryRenderedFeatures(t,e)}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius;if(r){var i=r,o=[[n[0]-i,n[1]+i],[n[0]+i,n[1]-i]];e=this._map.queryRenderedFeatures(o,this._queryParams)}else e=this._map.queryRenderedFeatures(n,this._queryParams);return e}},{key:"_updateQueryParams",value:function(t){var e,n,r=(n=null,a(e=t)&&e.has("layers")?n=e.get("layers").filter(function(t){return t.get("interactive")}).map(function(t){return t.get("id")}).toJS():Array.isArray(e.layers)&&(n=e.layers.filter(function(t){return t.interactive}).map(function(t){return t.id})),n);this._queryParams={layers:r}}},{key:"_onInteractiveStateChange",value:function(t){var e=t.isDragging,n=void 0!==e&&e;n!==this.state.isDragging&&this.setState({isDragging:n})}},{key:"_getPos",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_onMouseMove",value:function(t){if(!this.state.isDragging){var e=this._getPos(t),n=this._getFeatures({pos:e,radius:this.props.clickRadius}),r=n&&0<n.length;if(r!==this.state.isHovering&&this.setState({isHovering:r}),this.props.onHover){var i=new Xt(this.props);t.lngLat=i.unproject(e),t.features=n,this.props.onHover(t)}}}},{key:"_onMouseClick",value:function(t){if(this.props.onClick){var e=this._getPos(t),n=new Xt(this.props);t.lngLat=n.unproject(e),t.features=this._getFeatures({pos:e,radius:this.props.clickRadius}),this.props.onClick(t)}}},{key:"_onContextMenu",value:function(t){this.props.onContextMenu&&this.props.onContextMenu(t)}},{key:"_eventCanvasLoaded",value:function(t){this._eventManager.setElement(t)}},{key:"_staticMapLoaded",value:function(t){this._map=t}},{key:"render",value:function(){var t=this.props,e={width:t.width,height:t.height,position:"relative",cursor:(0,t.getCursor)(this.state)};return Object(h.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:e},Object(h.createElement)(we,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{ref:this._staticMapLoaded,children:this.props.children})))}}]),i}();function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function cr(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function fr(t,e){return(fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}sr.displayName="InteractiveMap",sr.propTypes=ir,sr.defaultProps=or,sr.childContextTypes=ar;var pr={captureScroll:i.a.bool,captureDrag:i.a.bool,captureClick:i.a.bool,captureDoubleClick:i.a.bool},dr={viewport:i.a.instanceOf(Xt),isDragging:i.a.bool,eventManager:i.a.object},mr=function(t){function i(t){var e,n,r;return lr(this,i),n=this,(e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==ur(r)&&"function"!=typeof r?hr(n):r)._events=null,e._onContainerLoad=e._onContainerLoad.bind(hr(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fr(t,e)}(i,h["Component"]),e=i,(n=[{key:"_onContainerLoad",value:function(t){var e=this.context.eventManager;if(e){var n=this._events;n&&(e.off(n),n=null),t&&(n={wheel:this._onScroll.bind(this),panstart:this._onDrag.bind(this),click:this._onClick.bind(this),dblclick:this._onDoubleClick.bind(this)},e.on(n,t)),this._events=n}}},{key:"_onScroll",value:function(t){this.props.captureScroll&&t.stopPropagation()}},{key:"_onDrag",value:function(t){this.props.captureDrag&&t.stopPropagation()}},{key:"_onClick",value:function(t){this.props.captureClick&&t.stopPropagation()}},{key:"_onDoubleClick",value:function(t){this.props.captureDoubleClick&&t.stopPropagation()}},{key:"render",value:function(){return null}}])&&cr(e.prototype,n),r&&cr(e,r),i;var e,n,r}();function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gr(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function _r(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function br(t,e){return!e||"object"!==yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xr(t,e){return(xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}mr.propTypes=pr,mr.defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},mr.contextTypes=dr;var wr=Object.assign({},mr.propTypes,{className:i.a.string,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,offsetLeft:i.a.number,offsetTop:i.a.number}),Er=Object.assign({},mr.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),Sr=function(t){function e(){return gr(this,e),br(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xr(t,e)}(e,mr),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.offsetLeft,o=t.offsetTop,a=vr(this.context.viewport.project([n,r]),2),s=a[0],u=a[1];return Object(h.createElement)("div",{className:"mapboxgl-marker ".concat(e),ref:this._onContainerLoad,style:{position:"absolute",left:s+i,top:u+o},children:this.props.children})}}])&&_r(n.prototype,r),i&&_r(n,i),e;var n,r,i}();Sr.displayName="Marker",Sr.propTypes=wr,Sr.defaultProps=Er;var kr={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}};function Mr(t){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Cr(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Pr(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Ar(t,e){return(Ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var zr=Object.assign({},mr.propTypes,{className:i.a.string,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,offsetLeft:i.a.number,offsetTop:i.a.number,tipSize:i.a.number,closeButton:i.a.bool,closeOnClick:i.a.bool,anchor:i.a.oneOf(Object.keys(kr)),dynamicPosition:i.a.bool,onClose:i.a.func}),Ir=Object.assign({},mr.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Rr=function(t){function i(t){var e,n,r;return Cr(this,i),n=this,(e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==Mr(r)&&"function"!=typeof r?Or(n):r)._getPosition=e._getPosition.bind(Or(e)),e._onClose=e._onClose.bind(Or(e)),e._contentLoaded=e._contentLoaded.bind(Or(e)),e._renderTip=e._renderTip.bind(Or(e)),e._renderContent=e._renderContent.bind(Or(e)),e._closeOnClick=!1,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ar(t,e)}(i,mr),e=i,(n=[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this.context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize;return this._content&&o?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,u=t.padding,l=void 0===u?0:u,c=kr[s],f=c.x,h=c.y,p=n-h*a,d=p+a;if(p<l)for(;p<l&&.5<=h;)h-=.5,p+=.5*a;else if(i-l<d)for(;i-l<d&&h<=.5;)h+=.5,d-=.5*a;var m=e-f*o,y=m+o,v=.5;if(.5===h&&(f=Math.floor(f),v=1),m<l)for(;m<l&&v<=f;)f-=v,m+=v*o;else if(r-l<y)for(;r-l<y&&f<=1-v;)f+=v,y-=v*o;return Object.keys(kr).find(function(t){var e=kr[t];return e.x===f&&e.y===h})}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):i}},{key:"_onClick",value:function(t){this.props.captureClick&&t.stopPropagation(),(this.props.closeOnClick||this._closeOnClick)&&this.props.onClose()}},{key:"_onClose",value:function(){this._closeOnClick=!0}},{key:"_contentLoaded",value:function(t){this._content=t}},{key:"_renderTip",value:function(){var t=this.props.tipSize;return Object(h.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:t}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children;return Object(h.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[e&&Object(h.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},"×"),n])}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.offsetLeft,o=t.offsetTop,a=Tr(this.context.viewport.project([n,r]),2),s=a[0],u=a[1],l=this._getPosition(s,u),c=kr[l],f={position:"absolute",left:s+i,top:u+o,transform:"translate(".concat(100*-c.x,"%, ").concat(100*-c.y,"%)")};return Object(h.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(l," ").concat(e),style:f,ref:this._onContainerLoad},[this._renderTip(),this._renderContent()])}}])&&Pr(e.prototype,n),r&&Pr(e,r),i;var e,n,r}();function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Lr(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Rr.displayName="Popup",Rr.propTypes=zr,Rr.defaultProps=Ir;var Br=Object.assign({},Je.defaultProps,{transitionDuration:300}),Ur=Object.assign({},mr.propTypes,{className:i.a.string,onViewStateChange:i.a.func,onViewportChange:i.a.func,showCompass:i.a.bool,showZoom:i.a.bool}),Vr=Object.assign({},mr.defaultProps,{className:"",onViewStateChange:function(){},onViewportChange:function(){},showCompass:!0,showZoom:!0}),qr=function(t){function i(t){var e,n,r;return Dr(this,i),n=this,e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==Nr(r)&&"function"!=typeof r?Fr(n):r,Kn(t),e._updateViewport=e._updateViewport.bind(Fr(e)),e._onZoomIn=e._onZoomIn.bind(Fr(e)),e._onZoomOut=e._onZoomOut.bind(Fr(e)),e._onResetNorth=e._onResetNorth.bind(Fr(e)),e._renderCompass=e._renderCompass.bind(Fr(e)),e._renderButton=e._renderButton.bind(Fr(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(i,mr),e=i,(n=[{key:"shouldComponentUpdate",value:function(t,e,n){return this.context.viewport.bearing!==n.viewport.bearing}},{key:"_updateViewport",value:function(t){var e=this.context.viewport,n=new le(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),Br);this.props.onViewStateChange({viewState:r}),(this.props.onChangeViewport||this.props.onViewportChange)(r)}},{key:"_onZoomIn",value:function(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function(){var t=this.context.viewport.bearing;return Object(h.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate(".concat(t,"deg)")}})}},{key:"_renderButton",value:function(t,e,n,r){return Object(h.createElement)("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n,children:r})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom;return Object(h.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._onContainerLoad},[r&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),r&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),n&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}])&&Lr(e.prototype,n),r&&Lr(e,r),i;var e,n,r}();qr.displayName="NavigationControl",qr.propTypes=Ur,qr.defaultProps=Vr;var Yr=n(69);function Wr(t){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function Hr(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function Zr(t,e){return(Zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Xr=Object.assign({},mr.propTypes,{redraw:i.a.func.isRequired}),Kr=function(t){function i(t){var e,n,r;return $r(this,i),n=this,(e=!(r=(i.__proto__||Object.getPrototypeOf(i)).call(this,t))||"object"!==Wr(r)&&"function"!=typeof r?Gr(n):r)._redraw=e._redraw.bind(Gr(e)),e._canvasLoaded=e._canvasLoaded.bind(Gr(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zr(t,e)}(i,mr),e=i,(n=[{key:"componentDidMount",value:function(){this._redraw()}},{key:"componentDidUpdate",value:function(){this._redraw()}},{key:"_redraw",value:function(){var t=Yr.window.devicePixelRatio||1,e=this._canvas.getContext("2d");e.save(),e.scale(t,t);var n=this.context,r=n.viewport,i=n.isDragging;this.props.redraw({width:r.width,height:r.height,ctx:e,isDragging:i,project:r.project.bind(r),unproject:r.unproject.bind(r)}),e.restore()}},{key:"_canvasLoaded",value:function(t){this._canvas=t,this._onContainerLoad(t)}},{key:"render",value:function(){var t=Yr.window.devicePixelRatio||1,e=this.context.viewport,n=e.width,r=e.height;return Object(h.createElement)("canvas",{ref:this._canvasLoaded,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}])&&Hr(e.prototype,n),r&&Hr(e,r),i;var e,n,r}();function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function ti(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function ei(t,e){return!e||"object"!==Jr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ni(t,e){return(ni=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Kr.displayName="CanvasOverlay",Kr.propTypes=Xr,Kr.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var ri=Object.assign({},mr.propTypes,{redraw:i.a.func.isRequired,style:i.a.object}),ii=function(t){function e(){return Qr(this,e),ei(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ni(t,e)}(e,mr),n=e,(r=[{key:"render",value:function(){var t=this.context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return Object(h.createElement)("div",{ref:this._onContainerLoad,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}])&&ti(n.prototype,r),i&&ti(n,i),e;var n,r,i}();function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){if(n=t,!(null!=(r=e)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function si(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function ui(t,e){return!e||"object"!==oi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function li(t,e){return(li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ii.displayName="HTMLOverlay",ii.propTypes=ri,ii.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var ci=Object.assign({},mr.propTypes,{redraw:i.a.func.isRequired,style:i.a.object}),fi=function(t){function e(){return ai(this,e),ui(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&li(t,e)}(e,mr),n=e,(r=[{key:"render",value:function(){var t=this.context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return Object(h.createElement)("svg",{width:e.width,height:e.height,ref:this._onContainerLoad,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}])&&si(n.prototype,r),i&&si(n,i),e;var n,r,i}();fi.displayName="SVGOverlay",fi.propTypes=ci,fi.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},n.d(e,"experimental",function(){return hi}),n.d(e,"default",function(){return sr}),n.d(e,"InteractiveMap",function(){return sr}),n.d(e,"StaticMap",function(){return we}),n.d(e,"BaseControl",function(){return mr}),n.d(e,"Marker",function(){return Sr}),n.d(e,"Popup",function(){return Rr}),n.d(e,"NavigationControl",function(){return qr}),n.d(e,"CanvasOverlay",function(){return Kr}),n.d(e,"HTMLOverlay",function(){return ii}),n.d(e,"SVGOverlay",function(){return fi}),n.d(e,"TRANSITION_EVENTS",function(){return Ge}),n.d(e,"TransitionInterpolator",function(){return ke}),n.d(e,"LinearInterpolator",function(){return We}),n.d(e,"FlyToInterpolator",function(){return je});var hi={MapControls:Wn}},function(t,n,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.a=e}).call(this,e(16))},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e,n){t.exports=function(){"use strict";return function(c){function f(t){if(t)try{c(t+"}")}catch(t){}}return function(t,e,n,r,i,o,a,s,u,l){switch(t){case 1:if(0===u&&64===e.charCodeAt(0))return c(e+";"),"";break;case 2:if(0===s)return e+"/*|*/";break;case 3:switch(s){case 102:case 112:return c(n[0]+e),"";default:return e+(0===l?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(f)}}}}()},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",function(){return r})},function(t,e){t.exports=function(n){function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i={};return r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(32)("wks"),i=n(9),o=n(0).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var m=n(0),y=n(2),v=n(8),g=n(22),_=n(10),b=function(t,e,n){var r,i,o,a,s=t&b.F,u=t&b.G,l=t&b.S,c=t&b.P,f=t&b.B,h=u?m:l?m[e]||(m[e]={}):(m[e]||{}).prototype,p=u?y:y[e]||(y[e]={}),d=p.prototype||(p.prototype={});for(r in u&&(n=e),n)o=((i=!s&&h&&void 0!==h[r])?h:n)[r],a=f&&i?_(o,m):c&&"function"==typeof o?_(Function.call,o):o,h&&g(h,r,o,t&b.U),p[r]!=o&&v(p,r,a),c&&d[r]!=o&&(d[r]=o)};m.core=y,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e,n){var r=n(16),i=n(21);t.exports=n(3)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var o=n(24);t.exports=function(r,i,t){if(o(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(28),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(function(t){var e=t.trim();return"."===e.charAt(0)?r.toLowerCase().endsWith(e.toLowerCase()):e.endsWith("/*")?o===e.replace(/\/.*$/,""):i===e})}return!0},n(14),n(34)},function(t,e,n){n(15),t.exports=n(2).Array.some},function(t,e,n){"use strict";var r=n(7),i=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(17),i=n(18),o=n(20),a=Object.defineProperty;e.f=n(3)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(3)&&!n(4)(function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(0).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var i=n(1);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(0),a=n(8),s=n(23),u=n(9)("src"),r=Function.toString,l=(""+r).split("toString");n(2).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",e)),t[e]!==n&&(i&&(s(n,u)||a(n,u,t[e]?""+t[e]:l.join(String(e)))),t===o?t[e]=n:r?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||r.call(this)})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var _=n(10),b=n(26),x=n(27),w=n(12),r=n(29);t.exports=function(f,t){var h=1==f,p=2==f,d=3==f,m=4==f,y=6==f,v=5==f||y,g=t||r;return function(t,e,n){for(var r,i,o=x(t),a=b(o),s=_(e,n,3),u=w(a.length),l=0,c=h?g(t,u):p?g(t,0):void 0;l<u;l++)if((v||l in a)&&(i=s(r=a[l],l,o),f))if(h)c[l]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return l;case 2:c.push(r)}else if(m)return!1;return y?-1:d||m?m:c}}},function(t,e,n){var r=n(5);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(11);t.exports=function(t){return Object(r(t))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(30);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(1),i=n(31),o=n(6)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(5);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(0),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){n(35),t.exports=n(2).String.endsWith},function(t,e,n){"use strict";var r=n(7),a=n(12),s=n(36),u="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(t){var e=s(this,t,"endsWith"),n=1<arguments.length?arguments[1]:void 0,r=a(e.length),i=void 0===n?r:Math.min(a(n),r),o=String(t);return u?u.call(e,o,i):e.slice(i-o.length,i)===o}})},function(t,e,n){var r=n(37),i=n(11);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(1),i=n(5),o=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(6)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,!"/./"[e](n)}catch(e){}}return!0}}])},function(t,e){t.exports=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,e,n){t.exports=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);a(n,n),a(r,r);var i=s(n,r);return 1<i?0:Math.acos(i)};var o=n(253),a=n(88),s=n(89)},function(t,e){t.exports=function(t,e,n,r){var i=n[1],o=n[2],a=e[1]-i,s=e[2]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=e[0],t[1]=i+a*l-s*u,t[2]=o+a*u+s*l,t}},function(t,e){t.exports=function(t,e,n,r){var i=n[0],o=n[2],a=e[0]-i,s=e[2]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=i+s*u+a*l,t[1]=e[1],t[2]=o+s*l-a*u,t}},function(t,e){t.exports=function(t,e,n,r){var i=n[0],o=n[1],a=e[0]-i,s=e[1]-o,u=Math.sin(r),l=Math.cos(r);return t[0]=i+a*l-s*u,t[1]=o+a*u+s*l,t[2]=e[2],t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],p=t[12],d=t[13],m=t[14],y=t[15];return(e*a-n*o)*(f*y-h*m)-(e*s-r*o)*(c*y-h*d)+(e*u-i*o)*(c*m-f*d)+(n*s-r*a)*(l*y-h*p)-(n*u-i*a)*(l*m-f*p)+(r*u-i*s)*(l*d-c*p)}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,f=r*s,h=i*a,p=i*s,d=i*u,m=o*a,y=o*s,v=o*u;return t[0]=1-f-d,t[1]=c+v,t[2]=h-y,t[3]=0,t[4]=c-v,t[5]=1-l-d,t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,n,r,i,o,a){var s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}},function(t,e,n){var E=n(254);t.exports=function(t,e,n,r){var i,o,a,s,u,l,c,f,h,p,d=e[0],m=e[1],y=e[2],v=r[0],g=r[1],_=r[2],b=n[0],x=n[1],w=n[2];if(Math.abs(d-b)<1e-6&&Math.abs(m-x)<1e-6&&Math.abs(y-w)<1e-6)return E(t);c=d-b,f=m-x,h=y-w,p=1/Math.sqrt(c*c+f*f+h*h),i=g*(h*=p)-_*(f*=p),o=_*(c*=p)-v*h,a=v*f-g*c,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):a=o=i=0;s=f*a-h*o,u=h*i-c*a,l=c*o-f*i,(p=Math.sqrt(s*s+u*u+l*l))?(s*=p=1/p,u*=p,l*=p):l=u=s=0;return t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=u,t[6]=f,t[7]=0,t[8]=a,t[9]=l,t[10]=h,t[11]=0,t[12]=-(i*d+o*m+a*y),t[13]=-(s*d+u*m+l*y),t[14]=-(c*d+f*m+h*y),t[15]=1,t}},function(t,e){t.exports=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}},function(t,e){t.exports=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function(t,e,n,r){var i,o,a,s,u,l,c,f,h,p,d,m,y,v,g,_,b,x,w,E,S,k,M,T,C=r[0],P=r[1],A=r[2],O=Math.sqrt(C*C+P*P+A*A);if(Math.abs(O)<1e-6)return null;C*=O=1/O,P*=O,A*=O,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],h=e[5],p=e[6],d=e[7],m=e[8],y=e[9],v=e[10],g=e[11],_=C*C*a+o,b=P*C*a+A*i,x=A*C*a-P*i,w=C*P*a-A*i,E=P*P*a+o,S=A*P*a+C*i,k=C*A*a+P*i,M=P*A*a-C*i,T=A*A*a+o,t[0]=s*_+f*b+m*x,t[1]=u*_+h*b+y*x,t[2]=l*_+p*b+v*x,t[3]=c*_+d*b+g*x,t[4]=s*w+f*E+m*S,t[5]=u*w+h*E+y*S,t[6]=l*w+p*E+v*S,t[7]=c*w+d*E+g*S,t[8]=s*k+f*M+m*T,t[9]=u*k+h*M+y*T,t[10]=l*k+p*M+v*T,t[11]=c*k+d*M+g*T,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=u*i-h*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=u*r+h*i,t}},function(t,e){t.exports=function(t,e){var n,r=e[0]+e[4]+e[8];if(0<r)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}},function(t,e){t.exports=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}},function(t,e,n){t.exports=n(255)},function(t,e,n){t.exports=n(256)},function(t,e,n){t.exports=n(257)},function(t,e,n){var i=n(89),o=n(61),a=n(62),s=n(88),u=n(63),l=n(64);t.exports=function(t,e,n){var r=i(e,n);return r<-.999999?(o(c,f,e),a(c)<1e-6&&o(c,h,e),s(c,c),l(t,c,Math.PI),t):.999999<r?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o(c,e,n),t[0]=c[0],t[1]=c[1],t[2]=c[2],t[3]=1+r,u(t,t))};var c=[0,0,0],f=[1,0,0],h=[0,1,0]},function(t,e,n){t.exports=n(259)},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}},function(t,e,n){t.exports=n(260)},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}},function(t,e){t.exports=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t}},function(t,e){t.exports=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t}},function(t,e){t.exports=function(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}},function(t,e,n){t.exports=n(65)},function(t,e,n){t.exports=n(261)},function(t,e){t.exports=function(t,e,n,r){var i,o,a,s,u,l=e[0],c=e[1],f=e[2],h=e[3],p=n[0],d=n[1],m=n[2],y=n[3];(o=l*p+c*d+f*m+h*y)<0&&(o=-o,p=-p,d=-d,m=-m,y=-y);u=1e-6<1-o?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,Math.sin(r*i)/a):(s=1-r,r);return t[0]=s*l+u*p,t[1]=s*c+u*d,t[2]=s*f+u*m,t[3]=s*h+u*y,t}},function(t,e){t.exports=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,i,o){"use strict";(function(t){var e=o(143);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=!("object"===(void 0===t?"undefined":n(t))&&"[object process]"==t+""&&!t.browser)||e.a;i.a=r}).call(this,o(24))},function(t,n,e){"use strict";(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.a=!("undefined"==typeof window||"object"!==e(window.process)||"renderer"!==window.process.type)||void 0!==t&&"object"===e(t.versions)&&t.versions.electron||!!("object"===("undefined"==typeof navigator?"undefined":e(navigator))&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron"))}).call(this,e(24))},function(t,n,e){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.a="undefined"!=typeof window&&"object"===e(window.process)&&"renderer"===window.process.type||!(void 0===t||"object"!==e(t.versions)||!Boolean(t.versions.electron))||"object"===("undefined"==typeof navigator?"undefined":e(navigator))&&"string"==typeof navigator.userAgent&&0<=navigator.userAgent.indexOf("Electron")}).call(this,e(24))},function(t,e,n){"use strict";var r=function(e){var n={};return function(t){return void 0===n[t]&&(n[t]=e(t)),n[t]}},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var E=function(t){for(var e,n=t.length,r=n^n,i=0;4<=n;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)},S=function o(t){function C(t,e,n){var r=e.trim().split(f),i=(e=r).length,o=t.length;switch(o){case 0:case 1:var a=0;for(t=0===o?"":t[0]+" ";a<i;++a)e[a]=l(t,e[a],n).trim();break;default:var s=a=0;for(e=[];a<i;++a)for(var u=0;u<o;++u)e[s++]=l(t[u]+" ",r[a],n).trim()}return e}function l(t,e,n){var r=e.charCodeAt(0);switch(r<33&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(i,"$1"+t.trim());case 58:return t.trim()+e.replace(i,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(i,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function P(t,e,n,r){var i=t+";",o=2*e+3*n+4*r;if(944===o){t=i.indexOf(":",9)+1;var a=i.substring(t,i.length-1).trim();return a=i.substring(0,t).trim()+a+";",1===V||2===V&&A(a,1)?"-webkit-"+a+a:a}if(0===V||2===V&&!A(i,1))return i;switch(o){case 1015:return 97===i.charCodeAt(10)?"-webkit-"+i+i:i;case 951:return 116===i.charCodeAt(3)?"-webkit-"+i+i:i;case 963:return 110===i.charCodeAt(5)?"-webkit-"+i+i:i;case 1009:if(100!==i.charCodeAt(4))break;case 969:case 942:return"-webkit-"+i+i;case 978:return"-webkit-"+i+"-moz-"+i+i;case 1019:case 983:return"-webkit-"+i+"-moz-"+i+"-ms-"+i+i;case 883:if(45===i.charCodeAt(8))return"-webkit-"+i+i;if(0<i.indexOf("image-set(",11))return i.replace(y,"$1-webkit-$2")+i;break;case 932:if(45===i.charCodeAt(4))switch(i.charCodeAt(5)){case 103:return"-webkit-box-"+i.replace("-grow","")+"-webkit-"+i+"-ms-"+i.replace("grow","positive")+i;case 115:return"-webkit-"+i+"-ms-"+i.replace("shrink","negative")+i;case 98:return"-webkit-"+i+"-ms-"+i.replace("basis","preferred-size")+i}return"-webkit-"+i+"-ms-"+i+i;case 964:return"-webkit-"+i+"-ms-flex-"+i+i;case 1023:if(99!==i.charCodeAt(8))break;return"-webkit-box-pack"+(a=i.substring(i.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+i+"-ms-flex-pack"+a+i;case 1005:return u.test(i)?i.replace(s,":-webkit-")+i.replace(s,":-moz-")+i:i;case 1e3:switch(e=(a=i.substring(13).trim()).indexOf("-")+1,a.charCodeAt(0)+a.charCodeAt(e)){case 226:a=i.replace(h,"tb");break;case 232:a=i.replace(h,"tb-rl");break;case 220:a=i.replace(h,"lr");break;default:return i}return"-webkit-"+i+"-ms-"+a+i;case 1017:if(-1===i.indexOf("sticky",9))break;case 975:switch(e=(i=t).length-10,o=(a=(33===i.charCodeAt(e)?i.substring(0,e):i).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|a.charCodeAt(7))){case 203:if(a.charCodeAt(8)<111)break;case 115:i=i.replace(a,"-webkit-"+a)+";"+i;break;case 207:case 102:i=i.replace(a,"-webkit-"+(102<o?"inline-":"")+"box")+";"+i.replace(a,"-webkit-"+a)+";"+i.replace(a,"-ms-"+a+"box")+";"+i}return i+";";case 938:if(45===i.charCodeAt(5))switch(i.charCodeAt(6)){case 105:return a=i.replace("-items",""),"-webkit-"+i+"-webkit-box-"+a+"-ms-flex-"+a+i;case 115:return"-webkit-"+i+"-ms-flex-item-"+i.replace(d,"")+i;default:return"-webkit-"+i+"-ms-flex-line-pack"+i.replace("align-content","").replace(d,"")+i}break;case 973:case 989:if(45!==i.charCodeAt(3)||122===i.charCodeAt(4))break;case 931:case 953:if(!0===m.test(t))return 115===(a=t.substring(t.indexOf(":")+1)).charCodeAt(0)?P(t.replace("stretch","fill-available"),e,n,r).replace(":fill-available",":stretch"):i.replace(a,"-webkit-"+a)+i.replace(a,"-moz-"+a.replace("fill-",""))+i;break;case 962:if(i="-webkit-"+i+(102===i.charCodeAt(5)?"-ms-"+i:"")+i,211===n+r&&105===i.charCodeAt(13)&&0<i.indexOf("transform",10))return i.substring(0,i.indexOf(";",27)+1).replace(c,"$1-webkit-$2")+i}return i}function A(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),g(2!==e?r:r.replace(a,"$1"),n,e)}function O(t,e){var n=P(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(r," or ($1)").substring(4):"("+e+")"}function z(t,e,n,r,i,o,a,s,u,l){for(var c,f=0,h=e;f<Y;++f)switch(c=v[f].call(p,t,h,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:h=c}if(h!==e)return h}function e(t){return void 0!==(t=t.prefix)&&(g=null,t?"function"!=typeof t?V=1:(V=2,g=t):V=0),e}function p(t,e){if(void 0!==this&&this.constructor===p)return o(t);var n=t;if(n.charCodeAt(0)<33&&(n=n.trim()),n=[n],0<Y){var r=z(-1,e,n,n,B,F,0,0,0,0);void 0!==r&&"string"==typeof r&&(e=r)}var i=function t(e,n,r,i,o){for(var a,s,u,l,c,f=0,h=0,p=0,d=0,m=0,y=0,v=u=a=0,g=0,_=0,b=0,x=0,w=r.length,E=w-1,S="",k="",M="",T="";g<w;){if(s=r.charCodeAt(g),g===E&&0!==h+d+p+f&&(0!==h&&(s=47===h?10:47),d=p=f=0,w++,E++),0===h+d+p+f){if(g===E&&(0<_&&(S=S.replace(R,"")),0<S.trim().length)){switch(s){case 32:case 9:case 59:case 13:case 10:break;default:S+=r.charAt(g)}s=59}switch(s){case 123:for(a=(S=S.trim()).charCodeAt(0),u=1,x=++g;g<w;){switch(s=r.charCodeAt(g)){case 123:u++;break;case 125:u--;break;case 47:switch(s=r.charCodeAt(g+1)){case 42:case 47:t:{for(v=g+1;v<E;++v)switch(r.charCodeAt(v)){case 47:if(42!==s||42!==r.charCodeAt(v-1)||g+2===v)break;g=v+1;break t;case 10:if(47===s){g=v+1;break t}}g=v}}break;case 91:s++;case 40:s++;case 34:case 39:for(;g++<E&&r.charCodeAt(g)!==s;);}if(0===u)break;g++}switch(u=r.substring(x,g),0===a&&(a=(S=S.replace(I,"").trim()).charCodeAt(0)),a){case 64:switch(0<_&&(S=S.replace(R,"")),s=S.charCodeAt(1)){case 100:case 109:case 115:case 45:_=n;break;default:_=q}if(x=(u=t(n,_,u,s,o+1)).length,0<Y&&(c=z(3,u,_=C(q,S,b),n,B,F,x,s,o,i),S=_.join(""),void 0!==c&&0===(x=(u=c.trim()).length)&&(s=0,u="")),0<x)switch(s){case 115:S=S.replace(j,O);case 100:case 109:case 45:u=S+"{"+u+"}";break;case 107:u=(S=S.replace(N,"$1 $2"))+"{"+u+"}",u=1===V||2===V&&A("@"+u,3)?"@-webkit-"+u+"@"+u:"@"+u;break;default:u=S+u,112===i&&(k+=u,u="")}else u="";break;default:u=t(n,C(n,S,b),u,i,o+1)}M+=u,u=b=_=v=a=0,S="",s=r.charCodeAt(++g);break;case 125:case 59:if(1<(x=(S=(0<_?S.replace(R,""):S).trim()).length))switch(0===v&&(a=S.charCodeAt(0),45===a||96<a&&a<123)&&(x=(S=S.replace(" ",":")).length),0<Y&&void 0!==(c=z(1,S,n,e,B,F,k.length,i,o,i))&&0===(x=(S=c.trim()).length)&&(S="\0\0"),a=S.charCodeAt(0),s=S.charCodeAt(1),a){case 0:break;case 64:if(105===s||99===s){T+=S+r.charAt(g);break}default:58!==S.charCodeAt(x-1)&&(k+=P(S,a,s,S.charCodeAt(2)))}b=_=v=a=0,S="",s=r.charCodeAt(++g)}}switch(s){case 13:case 10:47===h?h=0:0===1+a&&107!==i&&0<S.length&&(_=1,S+="\0"),0<Y*W&&z(0,S,n,e,B,F,k.length,i,o,i),F=1,B++;break;case 59:case 125:if(0===h+d+p+f){F++;break}default:switch(F++,l=r.charAt(g),s){case 9:case 32:if(0===d+f+h)switch(m){case 44:case 58:case 9:case 32:l="";break;default:32!==s&&(l=" ")}break;case 0:l="\\0";break;case 12:l="\\f";break;case 11:l="\\v";break;case 38:0===d+h+f&&(_=b=1,l="\f"+l);break;case 108:if(0===d+h+f+U&&0<v)switch(g-v){case 2:112===m&&58===r.charCodeAt(g-3)&&(U=m);case 8:111===y&&(U=y)}break;case 58:0===d+h+f&&(v=g);break;case 44:0===h+p+d+f&&(_=1,l+="\r");break;case 34:case 39:0===h&&(d=d===s?0:0===d?s:d);break;case 91:0===d+h+p&&f++;break;case 93:0===d+h+p&&f--;break;case 41:0===d+h+f&&p--;break;case 40:if(0===d+h+f){if(0===a)switch(2*m+3*y){case 533:break;default:a=1}p++}break;case 64:0===h+p+d+f+v+u&&(u=1);break;case 42:case 47:if(!(0<d+f+p))switch(h){case 0:switch(2*s+3*r.charCodeAt(g+1)){case 235:h=47;break;case 220:x=g,h=42}break;case 42:47===s&&42===m&&x+2!==g&&(33===r.charCodeAt(x+2)&&(k+=r.substring(x,g+1)),l="",h=0)}}0===h&&(S+=l)}y=m,m=s,g++}if(0<(x=k.length)){if(_=n,0<Y&&void 0!==(c=z(2,k,_,e,B,F,x,i,o,i))&&0===(k=c).length)return T+k+M;if(k=_.join(",")+"{"+k+"}",0!=V*U){switch(2!==V||A(k,2)||(U=0),U){case 111:k=k.replace(L,":-moz-$1")+k;break;case 112:k=k.replace(D,"::-webkit-input-$1")+k.replace(D,"::-moz-$1")+k.replace(D,":-ms-input-$1")+k}U=0}}return T+k+M}(q,n,e,0,0);return 0<Y&&void 0!==(r=z(-2,i,n,n,B,F,i.length,0,0,0))&&(i=r),U=0,F=B=1,i}var I=/^\0+/g,R=/[\0\r\f]/g,s=/: */g,u=/zoo|gra/,c=/([,: ])(transform)/g,f=/,\r+?/g,i=/([\t\r\n ])*\f?&/g,N=/@(k\w+)\s*(\S*)\s*/,D=/::(place)/g,L=/:(read-only)/g,h=/[svh]\w+-[tblr]{2}/,j=/\(\s*(.*)\s*\)/g,r=/([\s\S]*?);/g,d=/-self|flex-/g,a=/[^]*?(:[rp][el]a[\w-]+)[^]*/,m=/stretch|:\s*\w+\-(?:conte|avail)/,y=/([^-])(image-set\()/,F=1,B=1,U=0,V=1,q=[],v=[],Y=0,g=null,W=0;return p.use=function t(e){switch(e){case void 0:case null:Y=v.length=0;break;default:switch(e.constructor){case Array:for(var n=0,r=e.length;n<r;++n)t(e[n]);break;case Function:v[Y++]=e;break;case Boolean:W=0|!!e}}return t},p.set=e,void 0!==t&&e(t),p},o=n(104),k=n.n(o),a=/[A-Z]|^ms/g,M=r(function(t){return t.replace(a,"-$&").toLowerCase()}),T=function(t,e){return null==e||"boolean"==typeof e?"":1===i[t]||45===t.charCodeAt(1)||isNaN(e)||0===e?e:e+"px"},C="undefined"!=typeof document;function s(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key||""),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),(void 0!==t.container?t.container:document.head).appendChild(e),e}var P=function(){function t(t){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=t}var e=t.prototype;return e.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=s(this.opts),this.injected=!0},e.speedy=function(t){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!t},e.insert=function(t,e){if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(this.tags[this.tags.length-1]);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else{var r=s(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(t+(e||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(s(this.opts))},e.flush=function(){this.tags.forEach(function(t){return t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0,this.injected=!1},t}();e.a=function(t,e){if(void 0!==t.__SECRET_EMOTION__)return t.__SECRET_EMOTION__;void 0===e&&(e={});var n,r,i=e.key||"css",o=k()(function(t){n+=t,C&&s.insert(t,l)});void 0!==e.prefix&&(r={prefix:e.prefix});var a={registered:{},inserted:{},nonce:e.nonce,key:i},s=new P(e);C&&s.inject();var u=new S(r);u.use(e.stylisPlugins)(o);var l="";function c(t,e){if(null==t)return"";switch(typeof t){case"boolean":return"";case"function":if(void 0===t.__emotion_styles)return c.call(this,void 0===this?t():t(this.mergedProps,this.context),e);var n=t.toString();return n;case"object":return function(t){if(p.has(t))return p.get(t);var n="";return Array.isArray(t)?t.forEach(function(t){n+=c.call(this,t,!1)},this):Object.keys(t).forEach(function(e){"object"!=typeof t[e]?void 0!==a.registered[t[e]]?n+=e+"{"+a.registered[t[e]]+"}":n+=M(e)+":"+T(e,t[e])+";":Array.isArray(t[e])&&"string"==typeof t[e][0]&&void 0===a.registered[t[e][0]]?t[e].forEach(function(t){n+=M(e)+":"+T(e,t)+";"}):n+=e+"{"+c.call(this,t[e],!1)+"}"},this),p.set(t,n),n}.call(this,t);default:var r=a.registered[t];return!1===e&&void 0!==r?r:t}}var f,h,p=new WeakMap,d=/label:\s*([^\s;\n{]+)\s*;/g,m=function(n){var t,r=!0,i="",o="";null==n||void 0===n.raw?i+=c.call(this,n,r=!1):i+=n[0];for(var e=arguments.length,a=new Array(1<e?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return a.forEach(function(t,e){i+=c.call(this,t,46===i.charCodeAt(i.length-1)),!0===r&&void 0!==n[e+1]&&(i+=n[e+1])},this),i=(h=i).replace(d,function(t,e){return o+="-"+e,""}),f=E(i+(t=o))+t,i};function y(t,e){void 0===a.inserted[f]&&(n="",u(t,e),a.inserted[f]=n)}var v=function(){var t=m.apply(this,arguments),e=i+"-"+f;return void 0===a.registered[e]&&(a.registered[e]=h),y("."+e,t),e};function g(e,t){var n="";return t.split(" ").forEach(function(t){void 0!==a.registered[t]?e.push(t):n+=t+" "}),n}function _(t,e){var n=[],r=g(n,t);return n.length<2?t:r+v(n,e)}function b(t){a.inserted[t]=!0}if(C){var x=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(x,function(t){s.tags[0].parentNode.insertBefore(t,s.tags[0]),t.getAttribute("data-emotion-"+i).split(" ").forEach(b)})}var w={flush:function(){C&&(s.flush(),s.inject()),a.inserted={},a.registered={}},hydrate:function(t){t.forEach(b)},cx:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _(function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":a=t([o()]);break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i}(e))},merge:_,getRegisteredStyles:g,injectGlobal:function(){y("",m.apply(this,arguments))},keyframes:function(){var t=m.apply(this,arguments),e="animation-"+f;return y("","@keyframes "+e+"{"+t+"}"),e},css:v,sheet:s,caches:a};return t.__SECRET_EMOTION__=w}},function(t,e,n){"use strict";var r=u(n(1)),i=n(148),o=n(9);n(154);var a=u(n(156));n(317);var s=n(23);function u(t){return t&&t.__esModule?t:{default:t}}(0,i.render)(r.default.createElement(o.Provider,{store:s.store},r.default.createElement(a.default,null)),document.getElementById("root"))},function(t,e,n){"use strict";
/** @license React v16.5.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=n(70),r="function"==typeof Symbol&&Symbol.for,f=r?Symbol.for("react.element"):60103,l=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112;r&&Symbol.for("react.placeholder");var d="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if((t=void 0)===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||y}function _(){}function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||y}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t&&m("85"),this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=g.prototype;var x=b.prototype=new _;x.constructor=b,c(x,g.prototype),x.isPureReactComponent=!0;var w={current:null,currentDispatcher:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r=void 0,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,r)&&!S.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:f,type:t,key:o,ref:a,props:i,_owner:w.current}}function M(t){return"object"==typeof t&&null!==t&&t.$$typeof===f}var T=/\/+/g,C=[];function P(t,e,n,r){if(C.length){var i=C.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function A(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,C.length<10&&C.push(t)}function O(t,e,n){return null==t?0:function t(e,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case f:case l:a=!0}}if(a)return r(i,e,""===n?"."+z(e,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){var u=n+z(o=e[s],s);a+=t(o,u,r,i)}else if("function"==typeof(u=null===e||"object"!=typeof e?null:"function"==typeof(u=d&&e[d]||e["@@iterator"])?u:null))for(e=u.call(e),s=0;!(o=e.next()).done;)a+=t(o=o.value,u=n+z(o,s++),r,i);else"object"===o&&m("31","[object Object]"==(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return a}(t,"",e,n)}function z(t,e){return"object"==typeof t&&null!==t&&null!=t.key?(n=t.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(t){return r[t]})):e.toString(36);var n,r}function I(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,n){var r,i,o=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?N(t,o,n,function(t){return t}):null!=t&&(M(t)&&(i=a+(!(r=t).key||e&&e.key===t.key?"":(""+t.key).replace(T,"$&/")+"/")+n,t={$$typeof:f,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}),o.push(t))}function N(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(T,"$&/")+"/"),O(t,R,e=P(e,o,r,i)),A(e)}var D={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return N(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;O(t,I,e=P(null,null,e,n)),A(e)},count:function(t){return O(t,function(){return null},null)},toArray:function(t){var e=[];return N(t,e,null,function(t){return t}),e},only:function(t){return M(t)||m("143"),t}},createRef:function(){return{current:null}},Component:g,PureComponent:b,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:u,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null,unstable_read:null}).Provider={$$typeof:s,_context:t},(t.Consumer=t).unstable_read=function(t,e){var n=w.currentDispatcher;return null===n&&m("277"),n.readContext(t,e)}.bind(null,t),t},forwardRef:function(t){return{$$typeof:p,render:t}},Fragment:i,StrictMode:o,unstable_AsyncMode:h,unstable_Profiler:a,createElement:k,cloneElement:function(t,e,n){null==t&&m("267",t);var r=void 0,i=c({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,s=w.current),void 0!==e.key&&(o=""+e.key);var u=void 0;for(r in t.type&&t.type.defaultProps&&(u=t.type.defaultProps),e)E.call(e,r)&&!S.hasOwnProperty(r)&&(i[r]=void 0===e[r]&&void 0!==u?u[r]:e[r])}if(1===(r=arguments.length-2))i.children=n;else if(1<r){u=Array(r);for(var l=0;l<r;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:f,type:t.type,key:o,ref:a,props:i,_owner:s}},createFactory:function(t){var e=k.bind(null,t);return e.type=t,e},isValidElement:M,version:"16.5.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:c}},L=D;t.exports=L.default||L},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(149)},function(t,e,n){"use strict";
/** @license React v16.5.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(1),g=n(70),r=n(150);function L(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,i,o,a,s){if(!t){if((t=void 0)===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(t=Error(e.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||L("227");var c=!1,f=null,h=!1,p=null,l={onError:function(t){c=!0,f=t}};function d(t,e,n,r,i,o,a,s,u){c=!1,f=null,function(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}.apply(l,arguments)}var m=null,y={};function o(){if(m)for(var t in y){var e=y[t],n=m.indexOf(t);if(-1<n||L("96",t),!_[n])for(var r in e.extractEvents||L("97",t),n=(_[n]=e).eventTypes){var i=void 0,o=n[r],a=e,s=r;b.hasOwnProperty(s)&&L("99",s);var u=(b[s]=o).phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&v(u[i],a,s);i=!0}else i=!!o.registrationName&&(v(o.registrationName,a,s),!0);i||L("98",r,t)}}}function v(t,e,n){x[t]&&L("100",t),x[t]=e,u[t]=e.eventTypes[n].dependencies}var _=[],b={},x={},u={},a=null,s=null,w=null;function E(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=w(r),function(t,e,n,r,i,o,a,s,u){if(d.apply(this,arguments),c){if(c){var l=f;c=!1,f=null}else L("198"),l=void 0;h||(h=!0,p=l)}}(e,n,void 0,t),t.currentTarget=null}function S(t,e){return null==e&&L("30"),null==t?e:Array.isArray(t)?(Array.isArray(e)?t.push.apply(t,e):t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function k(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var M=null;function T(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)E(t,e,n[i],r[i]);else n&&E(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function C(t){return T(t,!0)}function P(t){return T(t,!1)}var A={injectEventPluginOrder:function(t){m&&L("101"),m=Array.prototype.slice.call(t),o()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];y.hasOwnProperty(e)&&y[e]===r||(y[e]&&L("102",e),y[e]=r,n=!0)}n&&o()}};function O(t,e){var n=t.stateNode;if(!n)return null;var r=a(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!=typeof n&&L("231",e,typeof n),n)}function z(t,e){if(null!==t&&(M=S(M,t)),t=M,M=null,t&&(k(t,e?C:P),M&&L("95"),h))throw e=p,h=!1,p=null,e}var I=Math.random().toString(36).slice(2),R="__reactInternalInstance$"+I,N="__reactEventHandlers$"+I;function D(t){if(t[R])return t[R];for(;!t[R];){if(!t.parentNode)return null;t=t.parentNode}return 7===(t=t[R]).tag||8===t.tag?t:null}function j(t){return!(t=t[R])||7!==t.tag&&8!==t.tag?null:t}function F(t){if(7===t.tag||8===t.tag)return t.stateNode;L("33")}function B(t){return t[N]||null}function U(t){for(;(t=t.return)&&7!==t.tag;);return t||null}function V(t,e,n){(e=O(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function q(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=U(e);for(e=n.length;0<e--;)V(n[e],"captured",t);for(e=0;e<n.length;e++)V(n[e],"bubbled",t)}}function Y(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=O(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,e),n._dispatchInstances=S(n._dispatchInstances,t))}function W(t){t&&t.dispatchConfig.registrationName&&Y(t._targetInst,null,t)}function $(t){k(t,q)}var H=!("undefined"==typeof window||!window.document||!window.document.createElement);function Z(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var G={animationend:Z("Animation","AnimationEnd"),animationiteration:Z("Animation","AnimationIteration"),animationstart:Z("Animation","AnimationStart"),transitionend:Z("Transition","TransitionEnd")},X={},K={};function J(t){if(X[t])return X[t];if(!G[t])return t;var e,n=G[t];for(e in n)if(n.hasOwnProperty(e)&&e in K)return X[t]=n[e];return t}H&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete G.animationend.animation,delete G.animationiteration.animation,delete G.animationstart.animation),"TransitionEvent"in window||delete G.transitionend.transition);var Q=J("animationend"),tt=J("animationiteration"),et=J("animationstart"),nt=J("transitionend"),rt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),it=null,ot=null,at=null;function st(){if(at)return at;var t,e,n=ot,r=n.length,i="value"in it?it.value:it.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return at=i.slice(t,1<e?1-e:void 0)}function ut(){return!0}function lt(){return!1}function ct(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ut:lt,this.isPropagationStopped=lt,this}function ft(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ht(t){t instanceof this||L("279"),t.destructor(),this.eventPool.length<10&&this.eventPool.push(t)}function pt(t){t.eventPool=[],t.getPooled=ft,t.release=ht}g(ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ut)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ut)},persist:function(){this.isPersistent=ut},isPersistent:lt,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lt,this._dispatchInstances=this._dispatchListeners=null}}),ct.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ct.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return g(i,n.prototype),((n.prototype=i).constructor=n).Interface=g({},r.Interface,t),n.extend=r.extend,pt(n),n},pt(ct);var dt=ct.extend({data:null}),mt=ct.extend({data:null}),yt=[9,13,27,32],vt=H&&"CompositionEvent"in window,gt=null;H&&"documentMode"in document&&(gt=document.documentMode);var _t=H&&"TextEvent"in window&&!gt,bt=H&&(!vt||gt&&8<gt&&gt<=11),xt=String.fromCharCode(32),wt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Et=!1;function St(t,e){switch(t){case"keyup":return-1!==yt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kt(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Mt=!1;var Tt={eventTypes:wt,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(vt)t:{switch(t){case"compositionstart":i=wt.compositionStart;break t;case"compositionend":i=wt.compositionEnd;break t;case"compositionupdate":i=wt.compositionUpdate;break t}i=void 0}else Mt?St(t,n)&&(i=wt.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=wt.compositionStart);return o=i?(bt&&"ko"!==n.locale&&(Mt||i!==wt.compositionStart?i===wt.compositionEnd&&Mt&&(o=st()):(ot="value"in(it=r)?it.value:it.textContent,Mt=!0)),i=dt.getPooled(i,e,n,r),o?i.data=o:null!==(o=kt(n))&&(i.data=o),$(i),i):null,(t=_t?function(t,e){switch(t){case"compositionend":return kt(e);case"keypress":return 32!==e.which?null:(Et=!0,xt);case"textInput":return(t=e.data)===xt&&Et?null:t;default:return null}}(t,n):function(t,e){if(Mt)return"compositionend"===t||!vt&&St(t,e)?(t=st(),at=ot=it=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=mt.getPooled(wt.beforeInput,e,n,r)).data=t,$(e)):e=null,null===o?e:null===e?o:[o,e]}},Ct=null,Pt=null,At=null;function Ot(t){if(t=s(t)){"function"!=typeof Ct&&L("280");var e=a(t.stateNode);Ct(t.stateNode,t.type,e)}}function zt(t){Pt?At?At.push(t):At=[t]:Pt=t}function It(){if(Pt){var t=Pt,e=At;if(At=Pt=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(t,e){return t(e)}function Nt(t,e,n){return t(e,n)}function Dt(){}var Lt=!1;function jt(t,e){if(Lt)return t(e);Lt=!0;try{return Rt(t,e)}finally{Lt=!1,(null!==Pt||null!==At)&&(Dt(),It())}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Ft[t.type]:"textarea"===e}function Ut(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Vt(t){if(!H)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}function qt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Yt(t){t._valueTracker||(t._valueTracker=function(t){var e=qt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var $t=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ht=/^(.*)[\\\/]/,Zt="function"==typeof Symbol&&Symbol.for,Gt=Zt?Symbol.for("react.element"):60103,Xt=Zt?Symbol.for("react.portal"):60106,Kt=Zt?Symbol.for("react.fragment"):60107,Jt=Zt?Symbol.for("react.strict_mode"):60108,Qt=Zt?Symbol.for("react.profiler"):60114,te=Zt?Symbol.for("react.provider"):60109,ee=Zt?Symbol.for("react.context"):60110,ne=Zt?Symbol.for("react.async_mode"):60111,re=Zt?Symbol.for("react.forward_ref"):60112,ie=Zt?Symbol.for("react.placeholder"):60113,oe="function"==typeof Symbol&&Symbol.iterator;function ae(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=oe&&t[oe]||t["@@iterator"])?t:null}function se(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case ne:return"AsyncMode";case Kt:return"Fragment";case Xt:return"Portal";case Qt:return"Profiler";case Jt:return"StrictMode";case ie:return"Placeholder"}if("object"==typeof t){switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case re:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef")}if("function"==typeof t.then&&(t=1===t._reactStatus?t._reactResult:null))return se(t)}return null}function ue(t){var e="";do{t:switch(t.tag){case 4:case 0:case 1:case 2:case 3:case 7:case 10:var n=t._debugOwner,r=t._debugSource,i=se(t.type),o=null;n&&(o=se(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(Ht,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break t;default:o=""}e+=o,t=t.return}while(t);return e}var le=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce=Object.prototype.hasOwnProperty,fe={},he={};function pe(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){de[t]=new pe(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];de[e]=new pe(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){de[t]=new pe(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){de[t]=new pe(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){de[t]=new pe(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){de[t]=new pe(t,3,!0,t,null)}),["capture","download"].forEach(function(t){de[t]=new pe(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){de[t]=new pe(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){de[t]=new pe(t,5,!1,t.toLowerCase(),null)});var me=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}function ve(t,e,n,r){var i,o=de.hasOwnProperty(e)?de[e]:null;(null!==o?0===o.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}return!1}(e,n,o,r)&&(n=null),r||null===o?(i=e,(ce.call(he,i)||!ce.call(fe,i)&&(le.test(i)?he[i]=!0:!(fe[i]=!0)))&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n))):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function ge(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function _e(t,e){var n=e.checked;return g({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function be(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=ge(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function xe(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function we(t,e){xe(t,e);var n=ge(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Se(t,e.type,n):e.hasOwnProperty("defaultValue")&&Se(t,e.type,ge(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ee(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Se(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(me,ye);de[e]=new pe(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(me,ye);de[e]=new pe(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(me,ye);de[e]=new pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),de.tabIndex=new pe("tabIndex",1,!1,"tabindex",null);var ke={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Me(t,e,n){return(t=ct.getPooled(ke.change,t,e,n)).type="change",zt(n),$(t),t}var Te=null,Ce=null;function Pe(t){z(t,!1)}function Ae(t){if(Wt(F(t)))return t}function Oe(t,e){if("change"===t)return e}var ze=!1;function Ie(){Te&&(Te.detachEvent("onpropertychange",Re),Ce=Te=null)}function Re(t){"value"===t.propertyName&&Ae(Ce)&&jt(Pe,t=Me(Ce,t,Ut(t)))}function Ne(t,e,n){"focus"===t?(Ie(),Ce=n,(Te=e).attachEvent("onpropertychange",Re)):"blur"===t&&Ie()}function De(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ae(Ce)}function Le(t,e){if("click"===t)return Ae(e)}function je(t,e){if("input"===t||"change"===t)return Ae(e)}H&&(ze=Vt("input")&&(!document.documentMode||9<document.documentMode));var Fe={eventTypes:ke,_isInputEventSupported:ze,extractEvents:function(t,e,n,r){var i=e?F(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Oe:Bt(i)?ze?o=je:(o=De,a=Ne):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Le),o&&(o=o(t,e)))return Me(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Be=ct.extend({view:null,detail:null}),Ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ue[t])&&!!e[t]}function qe(){return Ve}var Ye=0,We=0,$e=!1,He=!1,Ze=Be.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qe,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ye;return Ye=t.screenX,$e?"mousemove"===t.type?t.screenX-e:0:($e=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=We;return We=t.screenY,He?"mousemove"===t.type?t.screenY-e:0:(He=!0,0)}}),Ge=Ze.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xe={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ke={eventTypes:Xe,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?D(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(a=Ze,s=Xe.mouseLeave,u=Xe.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=Ge,s=Xe.pointerLeave,u=Xe.pointerEnter,l="pointer");var c=null==o?i:F(o);if(i=null==e?i:F(e),(t=a.getPooled(s,o,n,r)).type=l+"leave",t.target=c,t.relatedTarget=i,(n=a.getPooled(u,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=c,r=e,o&&r)t:{for(i=r,l=0,a=e=o;a;a=U(a))l++;for(a=0,u=i;u;u=U(u))a++;for(;0<l-a;)e=U(e),l--;for(;0<a-l;)i=U(i),a--;for(;l--;){if(e===i||e===i.alternate)break t;e=U(e),i=U(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(l=o.alternate)||l!==i);)e.push(o),o=U(o);for(o=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)o.push(r),r=U(r);for(r=0;r<e.length;r++)Y(e[r],"bubbled",t);for(r=o.length;0<r--;)Y(o[r],"captured",n);return[t,n]}},Je=Object.prototype.hasOwnProperty;function Qe(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function tn(t,e){if(Qe(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Je.call(e,n[r])||!Qe(t[n[r]],e[n[r]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!=(2&e.effectTag))return 1;for(;e.return;)if(0!=(2&(e=e.return).effectTag))return 1}return 5===e.tag?2:3}function nn(t){2!==en(t)&&L("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&L("188"),1===e?null:t;for(var n=t,r=e;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return nn(i),t;if(a===r)return nn(i),e;a=a.sibling}L("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||L("189")}}n.alternate!==r&&L("190")}return 5!==n.tag&&L("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(7===e.tag||8===e.tag)return e;if(e.child)e=(e.child.return=e).child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=ct.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ct.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sn=Be.extend({relatedTarget:null});function un(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Be.extend({key:function(t){if(t.key){var e=ln[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=un(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?cn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qe,charCode:function(t){return"keypress"===t.type?un(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?un(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),hn=Ze.extend({dataTransfer:null}),pn=Be.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qe}),dn=ct.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Ze.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),yn=[["abort","abort"],[Q,"animationEnd"],[tt,"animationIteration"],[et,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[nt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},gn={};function _n(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},vn[t]=e,gn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){_n(t,!0)}),yn.forEach(function(t){_n(t,!1)});var bn={eventTypes:vn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=gn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=gn[t];if(!i)return null;switch(t){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":t=fn;break;case"blur":case"focus":t=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ze;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=pn;break;case Q:case tt:case et:t=on;break;case nt:t=dn;break;case"scroll":t=Be;break;case"wheel":t=mn;break;case"copy":case"cut":case"paste":t=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Ge;break;default:t=ct}return $(e=t.getPooled(i,e,n,r)),e}},xn=bn.isInteractiveTopLevelEventType,wn=[];function En(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=5!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=D(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Ut(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<_.length;s++){var u=_[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=S(a,u))}z(a,!1)}}var Sn=!0;function kn(t,e){if(!e)return null;var n=(xn(t)?Tn:Cn).bind(null,t);e.addEventListener(t,n,!1)}function Mn(t,e){if(!e)return null;var n=(xn(t)?Tn:Cn).bind(null,t);e.addEventListener(t,n,!0)}function Tn(t,e){Nt(Cn,t,e)}function Cn(t,e){if(Sn){var n=Ut(e);if(null===(n=D(n))||"number"!=typeof n.tag||2===en(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{jt(En,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,wn.length<10&&wn.push(t)}}}var Pn={},An=0,On="_reactListenersID"+(""+Math.random()).slice(2);function zn(t){return Object.prototype.hasOwnProperty.call(t,On)||(t[On]=An++,Pn[t[On]]={}),Pn[t[On]]}function In(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Rn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nn(t,e){var n,r=Rn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&e<=n)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rn(r)}}function Dn(){for(var t=window,e=In();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=In(t.document)}return e}function Ln(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var jn=H&&"documentMode"in document&&document.documentMode<=11,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,Un=null,Vn=null,qn=!1;function Yn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return qn||null==Bn||Bn!==In(n)?null:(n="selectionStart"in(n=Bn)&&Ln(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&tn(Vn,n)?null:(Vn=n,(t=ct.getPooled(Fn.select,Un,t,e)).type="select",t.target=Bn,$(t),t))}var Wn={eventTypes:Fn,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=zn(o),i=u.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?F(e):window,t){case"focus":(Bt(o)||"true"===o.contentEditable)&&(Bn=o,Un=e,Vn=null);break;case"blur":Vn=Un=Bn=null;break;case"mousedown":qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return qn=!1,Yn(n,r);case"selectionchange":if(jn)break;case"keydown":case"keyup":return Yn(n,r)}return null}};function $n(t,e){var n,r;return t=g({children:void 0},e),n=e.children,r="",i.Children.forEach(n,function(t){null!=t&&(r+=t)}),(e=r)&&(t.children=e),t}function Hn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ge(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Zn(t,e){return null!=e.dangerouslySetInnerHTML&&L("91"),g({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gn(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&L("92"),Array.isArray(e)&&(e.length<=1||L("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ge(n)}}function Xn(t,e){var n=ge(e.value),r=ge(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Kn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}A.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),a=B,s=j,w=F,A.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Ke,ChangeEventPlugin:Fe,SelectEventPlugin:Wn,BeforeInputEventPlugin:Tt});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Qn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Qn(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var er,nr=void 0,rr=(er=function(t,e){if(t.namespaceURI!==Jn.svg||"innerHTML"in t)t.innerHTML=e;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return er(t,e)})}:er);function ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function sr(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||or.hasOwnProperty(i)&&or[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(or).forEach(function(e){ar.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var ur=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(t,e){e&&(ur[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&L("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&L("60"),"object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||L("61")),null!=e.style&&"object"!=typeof e.style&&L("62",""))}function cr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fr(t,e){var n=zn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=u[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Mn("scroll",t);break;case"focus":case"blur":Mn("focus",t),Mn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Vt(i)&&Mn(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===rt.indexOf(i)&&kn(i,t)}n[i]=!0}}}function hr(){}var pr=null,dr=null;function mr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function vr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function gr(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var _r=[],br=-1;function xr(t){br<0||(t.current=_r[br],_r[br]=null,br--)}function wr(t,e){_r[++br]=t.current,t.current=e}var Er={},Sr={current:Er},kr={current:!1},Mr=Er;function Tr(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Cr(t){return null!=(t=t.childContextTypes)}function Pr(t){xr(kr),xr(Sr)}function Ar(t){xr(kr),xr(Sr)}function Or(t,e,n){Sr.current!==Er&&L("168"),wr(Sr,e),wr(kr,n)}function zr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in t||L("108",se(e)||"Unknown",i);return g({},n,r)}function Ir(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Er,Mr=Sr.current,wr(Sr,e),wr(kr,kr.current),!0}function Rr(t,e,n){var r=t.stateNode;r||L("169"),n?(e=zr(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=e,xr(kr),xr(Sr),wr(Sr,e)):xr(kr),wr(kr,n)}var Nr=null,Dr=null;function Lr(e){return function(t){try{return e(t)}catch(t){}}}function jr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Fr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Br(t,e,n){var r=t.alternate;return null===r?((r=new jr(t.tag,e,t.key,t.mode)).type=t.type,r.stateNode=t.stateNode,(r.alternate=t).alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=t.childExpirationTime,r.expirationTime=e!==t.pendingProps?n:t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,r.firstContextDependency=t.firstContextDependency,r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ur(t,e,n){var r=t.type,i=t.key;t=t.props;var o=void 0;if("function"==typeof r)o=Fr(r)?2:4;else if("string"==typeof r)o=7;else t:switch(r){case Kt:return Vr(t.children,e,n,i);case ne:o=10,e|=3;break;case Jt:o=10,e|=2;break;case Qt:return(r=new jr(15,t,i,4|e)).type=Qt,r.expirationTime=n,r;case ie:o=16;break;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case te:o=12;break t;case ee:o=11;break t;case re:o=13;break t;default:if("function"==typeof r.then){o=4;break t}}L("130",null==r?r:typeof r,"")}return(e=new jr(o,t,i,e)).type=r,e.expirationTime=n,e}function Vr(t,e,n,r){return(t=new jr(9,t,r,e)).expirationTime=n,t}function qr(t,e,n){return(t=new jr(8,t,null,e)).expirationTime=n,t}function Yr(t,e,n){return(e=new jr(6,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:e<n?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),$r(e,t)}function $r(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;0===(i=0!==i?i:o)&&(0===t||t<r)&&(i=r),0!==(t=i)&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}var Hr=!1;function Zr(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Gr(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xr(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Kr(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Jr(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=Zr(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=Zr(t.memoizedState),i=n.updateQueue=Zr(n.memoizedState)):r=t.updateQueue=Gr(i):null===i&&(i=n.updateQueue=Gr(r));null===i||r===i?Kr(r,e):null===r.lastUpdate||null===i.lastUpdate?(Kr(r,e),Kr(i,e)):(Kr(r,e),i.lastUpdate=e)}function Qr(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Zr(t.memoizedState):ti(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ti(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Gr(e)),e}function ei(t,e,n,r,i,o){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(o,r,i):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null==(i="function"==typeof(t=n.payload)?t.call(o,r,i):t))break;return g({},r,i);case 2:Hr=!0}return r}function ni(t,e,n,r,i){Hr=!1;for(var o=(e=ti(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;i<c?(null===a&&(a=u,o=l),(0===s||c<s)&&(s=c)):(l=ei(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,(u.nextEffect=null)===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;i<f?(null===c&&(c=u,null===a&&(o=l)),(0===s||f<s)&&(s=f)):(l=ei(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,(u.nextEffect=null)===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=l}function ri(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),ii(e.firstEffect,n),e.firstEffect=e.lastEffect=null,ii(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function ii(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!=typeof n&&L("191",n),n.call(r)}t=t.nextEffect}}function oi(t,e){return{value:t,source:e,stack:ue(e)}}var ai={current:null},si=null,ui=null,li=null;function ci(t,e){var n=t.type._context;wr(ai,n._currentValue),n._currentValue=e}function fi(t){var e=ai.current;xr(ai),t.type._context._currentValue=e}function hi(t){li=ui=null,(si=t).firstContextDependency=null}function pi(t,e){return li!==t&&!1!==e&&0!==e&&("number"==typeof e&&1073741823!==e||(li=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ui?(null===si&&L("277"),si.firstContextDependency=ui=e):ui=ui.next=e),t._currentValue}var di={},mi={current:di},yi={current:di},vi={current:di};function gi(t){return t===di&&L("174"),t}function _i(t,e){wr(vi,e),wr(yi,t),wr(mi,di);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tr(null,"");break;default:e=tr(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}xr(mi),wr(mi,e)}function bi(t){xr(mi),xr(yi),xr(vi)}function xi(t){gi(vi.current);var e=gi(mi.current),n=tr(e,t.type);e!==n&&(wr(yi,t),wr(mi,n))}function wi(t){yi.current===t&&(xr(mi),xr(yi))}var Ei=(new i.Component).refs;function Si(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:g({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var ki={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=sa(),i=Xr(r=Io(r,t));i.payload=e,null!=n&&(i.callback=n),Jr(t,i),Ro(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=sa(),i=Xr(r=Io(r,t));i.tag=1,i.payload=e,null!=n&&(i.callback=n),Jr(t,i),Ro(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=sa(),r=Xr(n=Io(n,t));r.tag=2,null!=e&&(r.callback=e),Jr(t,r),Ro(t,n)}};function Mi(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,r)||!tn(i,o))}function Ti(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ki.enqueueReplaceState(e,e.state,null)}function Ci(t,e,n,r){var i=t.stateNode,o=Cr(e)?Mr:Sr.current;i.props=n,i.state=t.memoizedState,i.refs=Ei,i.context=Tr(t,o),null!==(o=t.updateQueue)&&(ni(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Si(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ki.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(ni(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Pi=Array.isArray;function Ai(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(2!==n.tag&&3!==n.tag&&L("110"),r=n.stateNode),r||L("147",t);var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===Ei&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}"string"!=typeof t&&L("284"),n._owner||L("254",t)}return t}function Oi(t,e){"textarea"!==t.type&&L("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function zi(f){function h(t,e){if(f){var n=t.lastEffect;null!==n?(n.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function p(t,e){if(!f)return null;for(;null!==e;)h(t,e),e=e.sibling;return null}function d(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e,n){return(t=Br(t,e,n)).index=0,t.sibling=null,t}function m(t,e,n){return t.index=n,f?null!==(n=t.alternate)?(n=n.index)<e?(t.effectTag=2,e):n:(t.effectTag=2,e):e}function s(t){return f&&null===t.alternate&&(t.effectTag=2),t}function o(t,e,n,r){return null===e||8!==e.tag?(e=qr(n,t.mode,r)).return=t:(e=a(e,n,r)).return=t,e}function u(t,e,n,r){return null!==e&&e.type===n.type?(r=a(e,n.props,r)).ref=Ai(t,e,n):(r=Ur(n,t.mode,r)).ref=Ai(t,e,n),r.return=t,r}function l(t,e,n,r){return null===e||6!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Yr(n,t.mode,r)).return=t:(e=a(e,n.children||[],r)).return=t,e}function c(t,e,n,r,i){return null===e||9!==e.tag?(e=Vr(n,t.mode,r,i)).return=t:(e=a(e,n,r)).return=t,e}function y(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=qr(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case Gt:return(n=Ur(e,t.mode,n)).ref=Ai(t,null,e),n.return=t,n;case Xt:return(e=Yr(e,t.mode,n)).return=t,e}if(Pi(e)||ae(e))return(e=Vr(e,t.mode,n,null)).return=t,e;Oi(t,e)}return null}function v(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Gt:return n.key===i?n.type===Kt?c(t,e,n.props.children,r,i):u(t,e,n,r):null;case Xt:return n.key===i?l(t,e,n,r):null}if(Pi(n)||ae(n))return null!==i?null:c(t,e,n,r,null);Oi(t,n)}return null}function g(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return o(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Gt:return t=t.get(null===r.key?n:r.key)||null,r.type===Kt?c(e,t,r.props.children,i,r.key):u(e,t,r,i);case Xt:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Pi(r)||ae(r))return c(e,t=t.get(n)||null,r,i,null);Oi(e,r)}return null}return function(t,e,n,r){var i="object"==typeof n&&null!==n&&n.type===Kt&&null===n.key;i&&(n=n.props.children);var o="object"==typeof n&&null!==n;if(o)switch(n.$$typeof){case Gt:t:{for(o=n.key,i=e;null!==i;){if(i.key===o){if(9===i.tag?n.type===Kt:i.type===n.type){p(t,i.sibling),(e=a(i,n.type===Kt?n.props.children:n.props,r)).ref=Ai(t,i,n),e.return=t,t=e;break t}p(t,i);break}h(t,i),i=i.sibling}t=n.type===Kt?((e=Vr(n.props.children,t.mode,r,n.key)).return=t,e):((r=Ur(n,t.mode,r)).ref=Ai(t,e,n),r.return=t,r)}return s(t);case Xt:t:{for(i=n.key;null!==e;){if(e.key===i){if(6===e.tag&&e.stateNode.containerInfo===n.containerInfo&&e.stateNode.implementation===n.implementation){p(t,e.sibling),(e=a(e,n.children||[],r)).return=t,t=e;break t}p(t,e);break}h(t,e),e=e.sibling}(e=Yr(n,t.mode,r)).return=t,t=e}return s(t)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(t=((e=null!==e&&8===e.tag?(p(t,e.sibling),a(e,n,r)):(p(t,e),qr(n,t.mode,r))).return=t,e));if(Pi(n))return function(e,t,n,r){for(var i=null,o=null,a=t,s=t=0,u=null;null!==a&&s<n.length;s++){a.index>s?(u=a,a=null):u=a.sibling;var l=v(e,a,n[s],r);if(null===l){null===a&&(a=u);break}f&&a&&null===l.alternate&&h(e,a),t=m(l,t,s),null===o?i=l:o.sibling=l,o=l,a=u}if(s===n.length)return p(e,a),i;if(null===a){for(;s<n.length;s++)(a=y(e,n[s],r))&&(t=m(a,t,s),null===o?i=a:o.sibling=a,o=a);return i}for(a=d(e,a);s<n.length;s++)(u=g(a,e,s,n[s],r))&&(f&&null!==u.alternate&&a.delete(null===u.key?s:u.key),t=m(u,t,s),null===o?i=u:o.sibling=u,o=u);return f&&a.forEach(function(t){return h(e,t)}),i}(t,e,n,r);if(ae(n))return function(e,t,n,r){var i=ae(n);"function"!=typeof i&&L("150"),null==(n=i.call(n))&&L("151");for(var o=i=null,a=t,s=t=0,u=null,l=n.next();null!==a&&!l.done;s++,l=n.next()){a.index>s?(u=a,a=null):u=a.sibling;var c=v(e,a,l.value,r);if(null===c){a||(a=u);break}f&&a&&null===c.alternate&&h(e,a),t=m(c,t,s),null===o?i=c:o.sibling=c,o=c,a=u}if(l.done)return p(e,a),i;if(null===a){for(;!l.done;s++,l=n.next())null!==(l=y(e,l.value,r))&&(t=m(l,t,s),null===o?i=l:o.sibling=l,o=l);return i}for(a=d(e,a);!l.done;s++,l=n.next())null!==(l=g(a,e,s,l.value,r))&&(f&&null!==l.alternate&&a.delete(null===l.key?s:l.key),t=m(l,t,s),null===o?i=l:o.sibling=l,o=l);return f&&a.forEach(function(t){return h(e,t)}),i}(t,e,n,r);if(o&&Oi(t,n),void 0===n&&!i)switch(t.tag){case 2:case 3:case 0:L("152",(r=t.type).displayName||r.name||"Component")}return p(t,e)}}var Ii=zi(!0),Ri=zi(!1),Ni=null,Di=null,Li=!1;function ji(t,e){var n=new jr(7,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Fi(t,e){switch(t.tag){case 7:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 8:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Bi(t){if(Li){var e=Di;if(e){var n=e;if(!Fi(t,e)){if(!(e=vr(n))||!Fi(t,e))return t.effectTag|=2,Li=!1,void(Ni=t);ji(Ni,n)}Ni=t,Di=gr(e)}else t.effectTag|=2,Li=!1,Ni=t}}function Ui(t){for(t=t.return;null!==t&&7!==t.tag&&5!==t.tag;)t=t.return;Ni=t}function Vi(t){if(t!==Ni)return!1;if(!Li)return Ui(t),!(Li=!0);var e=t.type;if(7!==t.tag||"head"!==e&&"body"!==e&&!yr(e,t.memoizedProps))for(e=Di;e;)ji(t,e),e=vr(e);return Ui(t),Di=Ni?vr(t.stateNode):null,!0}function qi(){Di=Ni=null,Li=!1}var Yi=$t.ReactCurrentOwner;function Wi(t,e,n,r){e.child=null===t?Ri(e,null,n,r):Ii(e,t.child,n,r)}function $i(t,e,n,r,i){n=n.render;var o=e.ref;return kr.current||e.memoizedProps!==r||o!==(null!==t?t.ref:null)?(Wi(t,e,n=n(r,o),i),e.memoizedProps=r,e.child):Qi(t,e,i)}function Hi(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Zi(t,e,n,r,i){var o=Cr(n)?Mr:Sr.current;return o=Tr(e,o),hi(e),n=n(r,o),e.effectTag|=1,Wi(t,e,n,i),e.memoizedProps=r,e.child}function Gi(t,e,n,r,i){if(Cr(n)){var o=!0;Ir(e)}else o=!1;if(hi(e),null===t)if(null===e.stateNode){var a=Cr(n)?Mr:Sr.current,s=n.contextTypes,u=null!=s,l=new n(r,s=u?Tr(e,a):Er);e.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=ki,(e.stateNode=l)._reactInternalFiber=e,u&&((u=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,u.__reactInternalMemoizedMaskedChildContext=s),Ci(e,n,r,i),r=!0}else{a=e.stateNode,s=e.memoizedProps,a.props=s;var c=a.context;u=Tr(e,u=Cr(n)?Mr:Sr.current);var f=n.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Ti(e,a,r,u),Hr=!1;var h=e.memoizedState;c=a.state=h;var p=e.updateQueue;null!==p&&(ni(e,p,r,a,i),c=e.memoizedState),r=s!==r||h!==c||kr.current||Hr?("function"==typeof f&&(Si(e,n,f,r),c=e.memoizedState),(s=Hr||Mi(e,n,s,r,h,c,u))?(l||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,c=a.context,u=Tr(e,u=Cr(n)?Mr:Sr.current),(l="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Ti(e,a,r,u),Hr=!1,c=e.memoizedState,h=a.state=c,null!==(p=e.updateQueue)&&(ni(e,p,r,a,i),h=e.memoizedState),r=s!==r||c!==h||kr.current||Hr?("function"==typeof f&&(Si(e,n,f,r),h=e.memoizedState),(f=Hr||Mi(e,n,s,r,c,h,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=u,f):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),!1);return Xi(t,e,n,r,o,i)}function Xi(t,e,n,r,i,o){Hi(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Rr(e,n,!1),Qi(t,e,o);r=e.stateNode,Yi.current=e;var s=a?null:r.render();return e.effectTag|=1,null!==t&&a&&(Wi(t,e,null,o),e.child=null),Wi(t,e,s,o),e.memoizedState=r.state,e.memoizedProps=r.props,i&&Rr(e,n,!0),e.child}function Ki(t){var e=t.stateNode;e.pendingContext?Or(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Or(0,e.context,!1),_i(t,e.containerInfo)}function Ji(t,e){if(t&&t.defaultProps)for(var n in e=g({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}function Qi(t,e,n){null!==t&&(e.firstContextDependency=t.firstContextDependency);var r=e.childExpirationTime;if(0===r||n<r)return null;if(null!==t&&e.child!==t.child&&L("153"),null!==e.child){for(n=Br(t=e.child,t.pendingProps,t.expirationTime),(e.child=n).return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Br(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function to(t,e,n){var r=e.expirationTime;if(!kr.current&&(0===r||n<r)){switch(e.tag){case 5:Ki(e),qi();break;case 7:xi(e);break;case 2:Cr(e.type)&&Ir(e);break;case 3:Cr(e.type._reactResult)&&Ir(e);break;case 6:_i(e,e.stateNode.containerInfo);break;case 12:ci(e,e.memoizedProps.value)}return Qi(t,e,n)}switch(e.expirationTime=0,e.tag){case 4:return function(t,e,n,r){null!==t&&L("155");var i=e.pendingProps;if("object"==typeof n&&null!==n&&"function"==typeof n.then){var o=n=function(n){switch(n._reactStatus){case 1:return n._reactResult;case 2:throw n._reactResult;case 0:throw n;default:throw n._reactStatus=0,n.then(function(t){if(0===n._reactStatus){if(n._reactStatus=1,"object"==typeof t&&null!==t){var e=t.default;t=null!=e?e:t}n._reactResult=t}},function(t){0===n._reactStatus&&(n._reactStatus=2,n._reactResult=t)}),n}}(n);o="function"==typeof o?Fr(o)?3:1:null!=o&&o.$$typeof?14:4,o=e.tag=o;var a=Ji(n,i);switch(o){case 1:return Zi(t,e,n,a,r);case 3:return Gi(t,e,n,a,r);case 14:return $i(t,e,n,a,r);default:L("283",n)}}if(o=Tr(e,Sr.current),hi(e),o=n(i,o),e.effectTag|=1,"object"!=typeof o||null===o||"function"!=typeof o.render||void 0!==o.$$typeof)return e.tag=0,Wi(t,e,o,r),e.memoizedProps=i,e.child;e.tag=2,Cr(n)?(a=!0,Ir(e)):a=!1,e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=n.getDerivedStateFromProps;return"function"==typeof s&&Si(e,n,s,i),o.updater=ki,Ci((e.stateNode=o)._reactInternalFiber=e,n,i,r),Xi(t,e,n,!0,a,r)}(t,e,e.type,n);case 0:return Zi(t,e,e.type,e.pendingProps,n);case 1:var i=e.type._reactResult;return t=Zi(t,e,i,Ji(i,r=e.pendingProps),n),e.memoizedProps=r,t;case 2:return Gi(t,e,e.type,e.pendingProps,n);case 3:return t=Gi(t,e,i=e.type._reactResult,Ji(i,r=e.pendingProps),n),e.memoizedProps=r,t;case 5:return Ki(e),null===(r=e.updateQueue)&&L("282"),i=null!==(i=e.memoizedState)?i.element:null,ni(e,r,e.pendingProps,null,n),e=(r=e.memoizedState.element)===i?(qi(),Qi(t,e,n)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(Di=gr(e.stateNode.containerInfo),Ni=e,i=Li=!0),i?(e.effectTag|=2,e.child=Ri(e,null,r,n)):(Wi(t,e,r,n),qi()),e.child);case 7:xi(e),null===t&&Bi(e),r=e.type,i=e.pendingProps;var o=null!==t?t.memoizedProps:null,a=i.children;return yr(r,i)?a=null:null!==o&&yr(r,o)&&(e.effectTag|=16),Hi(t,e),e=1073741823!==n&&1&e.mode&&i.hidden?(e.expirationTime=1073741823,e.memoizedProps=i,null):(Wi(t,e,a,n),e.memoizedProps=i,e.child);case 8:return null===t&&Bi(e),e.memoizedProps=e.pendingProps,null;case 16:return null;case 6:return _i(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ii(e,null,r,n):Wi(t,e,r,n),e.memoizedProps=r,e.child;case 13:return $i(t,e,e.type,e.pendingProps,n);case 14:return t=$i(t,e,i=e.type._reactResult,Ji(i,r=e.pendingProps),n),e.memoizedProps=r,t;case 9:return Wi(t,e,r=e.pendingProps,n),e.memoizedProps=r,e.child;case 10:return Wi(t,e,r=e.pendingProps.children,n),e.memoizedProps=r,e.child;case 15:return Wi(t,e,(r=e.pendingProps).children,n),e.memoizedProps=r,e.child;case 12:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,e.memoizedProps=i,ci(e,o),null!==a){var s=a.value;if(0===(o=s===o&&(0!==s||1/s==1/o)||s!=s&&o!=o?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!kr.current){e=Qi(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){if(null!==(s=a.firstContextDependency))do{if(s.context===r&&0!=(s.observedBits&o)){if(2===a.tag||3===a.tag){var u=Xr(n);u.tag=2,Jr(a,u)}(0===a.expirationTime||a.expirationTime>n)&&(a.expirationTime=n),null!==(u=a.alternate)&&(0===u.expirationTime||u.expirationTime>n)&&(u.expirationTime=n);for(var l=a.return;null!==l;){if(u=l.alternate,0===l.childExpirationTime||l.childExpirationTime>n)l.childExpirationTime=n,null!==u&&(0===u.childExpirationTime||u.childExpirationTime>n)&&(u.childExpirationTime=n);else{if(null===u||!(0===u.childExpirationTime||u.childExpirationTime>n))break;u.childExpirationTime=n}l=l.return}}u=a.child,s=s.next}while(null!==s);else u=12===a.tag&&a.type===e.type?null:a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===e){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}}Wi(t,e,i.children,n),e=e.child}return e;case 11:return o=e.type,i=(r=e.pendingProps).children,hi(e),i=i(o=pi(o,r.unstable_observedBits)),e.effectTag|=1,Wi(t,e,i,n),e.memoizedProps=r,e.child;default:L("156")}}function eo(t){t.effectTag|=4}var no=void 0,ro=void 0,io=void 0;function oo(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=ue(n)),null!==n&&se(n.type),e=e.value,null!==t&&2===t.tag&&se(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function ao(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){zo(e,t)}else t.current=null}function so(e){switch("function"==typeof Dr&&Dr(e),e.tag){case 2:case 3:ao(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){zo(e,t)}break;case 7:ao(e);break;case 6:co(e)}}function uo(t){return 7===t.tag||5===t.tag||6===t.tag}function lo(t){t:{for(var e=t.return;null!==e;){if(uo(e)){var n=e;break t}e=e.return}L("160"),n=void 0}var r=e=void 0;switch(n.tag){case 7:e=n.stateNode,r=!1;break;case 5:case 6:e=n.stateNode.containerInfo,r=!0;break;default:L("161")}16&n.effectTag&&(ir(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||uo(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;7!==n.tag&&8!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||6===n.tag)continue e;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){if(7===i.tag||8===i.tag)if(n)if(r){var o=e,a=i.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else e.insertBefore(i.stateNode,n);else r?(o=e,a=i.stateNode,8===o.nodeType?(s=o.parentNode).insertBefore(a,o):(s=o).appendChild(a),null===s.onclick&&(s.onclick=hr)):e.appendChild(i.stateNode);else if(6!==i.tag&&null!==i.child){i=(i.child.return=i).child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function co(t){for(var e=t,n=!1,r=void 0,i=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&L("160"),n.tag){case 7:r=n.stateNode,i=!1;break t;case 5:case 6:r=n.stateNode.containerInfo,i=!0;break t}n=n.return}n=!0}if(7===e.tag||8===e.tag){t:for(var o=e,a=o;;)if(so(a),null!==a.child&&6!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=e.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(e.stateNode)}else if(6===e.tag?(r=e.stateNode.containerInfo,i=!0):so(e),null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;6===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function fo(t,e){switch(e.tag){case 2:case 3:break;case 7:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if((e.updateQueue=null)!==o){for(n[N]=r,"input"===t&&"radio"===r.type&&null!=r.name&&xe(n,r),cr(t,i),e=cr(t,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?sr(n,s):"dangerouslySetInnerHTML"===a?rr(n,s):"children"===a?ir(n,s):ve(n,a,s,e)}switch(t){case"input":we(n,r);break;case"textarea":Xn(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?Hn(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?Hn(n,!!r.multiple,r.defaultValue,!0):Hn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 8:null===e.stateNode&&L("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 5:case 15:case 16:break;default:L("163")}}function ho(t,e,n){(n=Xr(n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){da(r),oo(t,e)},n}function po(n,r,t){(t=Xr(t)).tag=3;var e=n.stateNode;return null!==e&&"function"==typeof e.componentDidCatch&&(t.callback=function(){null===To?To=new Set([this]):To.add(this);var t=r.value,e=r.stack;oo(n,r),this.componentDidCatch(t,{componentStack:null!==e?e:""})}),t}function mo(t){switch(t.tag){case 2:Cr(t.type)&&Pr();var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return Cr(t.type._reactResult)&&Pr(),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return bi(),Ar(),0!=(64&(e=t.effectTag))&&L("285"),t.effectTag=-1025&e|64,t;case 7:return wi(t),null;case 16:return 1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 6:return bi(),null;case 12:return fi(t),null;default:return null}}no=function(){},ro=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a=e.stateNode;switch(gi(mi.current),t=null,n){case"input":o=_e(a,o),r=_e(a,r),t=[];break;case"option":o=$n(a,o),r=$n(a,r),t=[];break;case"select":o=g({},o,{value:void 0}),r=g({},r,{value:void 0}),t=[];break;case"textarea":o=Zn(a,o),r=Zn(a,r),t=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(a.onclick=hr)}lr(n,r),a=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(x.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var l=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(s||(s={}),s[a]=l[a])}else s||(t||(t=[]),t.push(n,s)),s=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(t=t||[]).push(n,""+l)):"children"===n?u===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(x.hasOwnProperty(n)?(null!=l&&fr(i,n),t||u===l||(t=[])):(t=t||[]).push(n,l))}s&&(t=t||[]).push("style",s),i=t,(e.updateQueue=i)&&eo(e)}},io=function(t,e,n,r){n!==r&&eo(e)};var yo={readContext:pi},vo=$t.ReactCurrentOwner,go=0,_o=0,bo=!1,xo=null,wo=null,Eo=0,So=!1,ko=null,Mo=!1,To=null;function Co(){if(null!==xo)for(var t=xo.return;null!==t;){var e=t;switch(e.tag){case 2:var n=e.type.childContextTypes;null!=n&&Pr();break;case 3:null!=(n=e.type._reactResult.childContextTypes)&&Pr();break;case 5:bi(),Ar();break;case 7:wi(e);break;case 6:bi();break;case 12:fi(e)}t=t.return}Eo=0,So=!1,xo=wo=null}function Po(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0==(512&t.effectTag)){var i=e,o=(e=t).pendingProps;switch(e.tag){case 0:case 1:break;case 2:Cr(e.type)&&Pr();break;case 3:Cr(e.type._reactResult)&&Pr();break;case 5:bi(),Ar(),(o=e.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==i&&null!==i.child||(Vi(e),e.effectTag&=-3),no(e);break;case 7:wi(e);var a=gi(vi.current),s=e.type;if(null!==i&&null!=e.stateNode)ro(i,e,s,o,a),i.ref!==e.ref&&(e.effectTag|=128);else if(o){var u=gi(mi.current);if(Vi(e)){i=(o=e).stateNode;var l=o.type,c=o.memoizedProps,f=a;switch(i[R]=o,i[N]=c,s=void 0,a=l){case"iframe":case"object":kn("load",i);break;case"video":case"audio":for(l=0;l<rt.length;l++)kn(rt[l],i);break;case"source":kn("error",i);break;case"img":case"image":case"link":kn("error",i),kn("load",i);break;case"form":kn("reset",i),kn("submit",i);break;case"details":kn("toggle",i);break;case"input":be(i,c),kn("invalid",i),fr(f,"onChange");break;case"select":i._wrapperState={wasMultiple:!!c.multiple},kn("invalid",i),fr(f,"onChange");break;case"textarea":Gn(i,c),kn("invalid",i),fr(f,"onChange")}for(s in lr(a,c),l=null,c)c.hasOwnProperty(s)&&(u=c[s],"children"===s?"string"==typeof u?i.textContent!==u&&(l=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(l=["children",""+u]):x.hasOwnProperty(s)&&null!=u&&fr(f,s));switch(a){case"input":Yt(i),Ee(i,c,!0);break;case"textarea":Yt(i),Kn(i);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(i.onclick=hr)}s=l,o.updateQueue=s,(o=null!==s)&&eo(e)}else{c=e,i=s,f=o,l=9===a.nodeType?a:a.ownerDocument,u===Jn.html&&(u=Qn(i)),u===Jn.html?"script"===i?((i=l.createElement("div")).innerHTML="<script><\/script>",l=i.removeChild(i.firstChild)):"string"==typeof f.is?l=l.createElement(i,{is:f.is}):(l=l.createElement(i),"select"===i&&f.multiple&&(l.multiple=!0)):l=l.createElementNS(u,i),(i=l)[R]=c,i[N]=o;t:for(c=i,f=e,l=f.child;null!==l;){if(7===l.tag||8===l.tag)c.appendChild(l.stateNode);else if(6!==l.tag&&null!==l.child){l=(l.child.return=l).child;continue}if(l===f)break;for(;null===l.sibling;){if(null===l.return||l.return===f)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}f=i;var h=a,p=cr(l=s,c=o);switch(l){case"iframe":case"object":kn("load",f),a=c;break;case"video":case"audio":for(a=0;a<rt.length;a++)kn(rt[a],f);a=c;break;case"source":kn("error",f),a=c;break;case"img":case"image":case"link":kn("error",f),kn("load",f),a=c;break;case"form":kn("reset",f),kn("submit",f),a=c;break;case"details":kn("toggle",f),a=c;break;case"input":be(f,c),a=_e(f,c),kn("invalid",f),fr(h,"onChange");break;case"option":a=$n(f,c);break;case"select":f._wrapperState={wasMultiple:!!c.multiple},a=g({},c,{value:void 0}),kn("invalid",f),fr(h,"onChange");break;case"textarea":Gn(f,c),a=Zn(f,c),kn("invalid",f),fr(h,"onChange");break;default:a=c}lr(l,a),u=void 0;var d=l,m=f,y=a;for(u in y)if(y.hasOwnProperty(u)){var v=y[u];"style"===u?sr(m,v):"dangerouslySetInnerHTML"===u?null!=(v=v?v.__html:void 0)&&rr(m,v):"children"===u?"string"==typeof v?("textarea"!==d||""!==v)&&ir(m,v):"number"==typeof v&&ir(m,""+v):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(x.hasOwnProperty(u)?null!=v&&fr(h,u):null!=v&&ve(m,u,v,p))}switch(l){case"input":Yt(f),Ee(f,c,!1);break;case"textarea":Yt(f),Kn(f);break;case"option":null!=c.value&&f.setAttribute("value",""+ge(c.value));break;case"select":(a=f).multiple=!!c.multiple,null!=(f=c.value)?Hn(a,!!c.multiple,f,!1):null!=c.defaultValue&&Hn(a,!!c.multiple,c.defaultValue,!0);break;default:"function"==typeof a.onClick&&(f.onclick=hr)}(o=mr(s,o))&&eo(e),e.stateNode=i}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&L("166");break;case 8:i&&null!=e.stateNode?io(i,e,i.memoizedProps,o):("string"!=typeof o&&(null===e.stateNode&&L("166")),i=gi(vi.current),gi(mi.current),Vi(e)?(s=(o=e).stateNode,i=o.memoizedProps,s[R]=o,(o=s.nodeValue!==i)&&eo(e)):(s=e,(o=(9===i.nodeType?i:i.ownerDocument).createTextNode(o))[R]=s,e.stateNode=o));break;case 13:case 14:case 16:case 9:case 10:case 15:break;case 6:bi(),no(e);break;case 12:fi(e);break;case 11:break;case 4:L("167");default:L("156")}if(e=xo=null,o=t,1073741823===Eo||1073741823!==o.childExpirationTime){for(s=0,i=o.child;null!==i;)a=i.expirationTime,c=i.childExpirationTime,(0===s||0!==a&&a<s)&&(s=a),(0===s||0!==c&&c<s)&&(s=c),i=i.sibling;o.childExpirationTime=s}if(null!==e)return e;null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=mo(t)))return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;t=n}return null}function Ao(t){var e=to(t.alternate,t,Eo);return null===e&&(e=Po(t)),vo.current=null,e}function Oo(t,e,n){bo&&L("243"),bo=!0,vo.currentDispatcher=yo;var r=t.nextExpirationTimeToWorkOn;r===Eo&&t===wo&&null!==xo||(Co(),Eo=r,xo=Br((wo=t).current,null,Eo),t.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(e)for(;null!==xo&&!pa();)xo=Ao(xo);else for(;null!==xo;)xo=Ao(xo)}catch(t){if(null===xo)i=!0,da(t);else{null===xo&&L("271");var o=xo,a=o.return;if(null!==a){t:{var s=a,u=o,l=t;a=Eo,u.effectTag|=512,u.firstEffect=u.lastEffect=null,So=!0,l=oi(l,u);do{switch(s.tag){case 5:s.effectTag|=1024,s.expirationTime=a,Qr(s,a=ho(s,l,a));break t;case 2:case 3:u=l;var c=s.stateNode;if(0==(64&s.effectTag)&&null!==c&&"function"==typeof c.componentDidCatch&&(null===To||!To.has(c))){s.effectTag|=1024,s.expirationTime=a,Qr(s,a=po(s,u,a));break t}}s=s.return}while(null!==s)}xo=Po(o);continue}i=!0,da(t)}}break}if(bo=!1,li=ui=si=vo.currentDispatcher=null,i)wo=null,t.finishedWork=null;else if(null!==xo)t.finishedWork=null;else{if(null===(e=t.current.alternate)&&L("281"),wo=null,So){if(i=t.latestPendingTime,o=t.latestSuspendedTime,a=t.latestPingedTime,0!==i&&r<i||0!==o&&r<o||0!==a&&r<a)return t.didError=!1,0!==(n=t.latestPingedTime)&&n<=r&&(t.latestPingedTime=0),n=t.earliestPendingTime,e=t.latestPendingTime,n===r?t.earliestPendingTime=e===r?t.latestPendingTime=0:e:e===r&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,e=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=r:r<n?t.earliestSuspendedTime=r:e<r&&(t.latestSuspendedTime=r),$r(r,t),void(t.expirationTime=t.expirationTime);if(!t.didError&&!n)return t.didError=!0,t.nextExpirationTimeToWorkOn=r,r=t.expirationTime=1,void(t.expirationTime=r)}t.pendingCommitExpirationTime=r,t.finishedWork=e}}function zo(t,e){var n;t:{for(bo&&!Mo&&L("263"),n=t.return;null!==n;){switch(n.tag){case 2:case 3:var r=n.stateNode;if("function"!=typeof n.type.getDerivedStateFromCatch&&("function"!=typeof r.componentDidCatch||null!==To&&To.has(r)))break;Jr(n,t=po(n,t=oi(e,t),1)),Ro(n,1),n=void 0;break t;case 5:Jr(n,t=ho(n,t=oi(e,t),1)),Ro(n,1),n=void 0;break t}n=n.return}5===t.tag&&(Jr(t,n=ho(t,n=oi(e,t),1)),Ro(t,1)),n=void 0}return n}function Io(t,e){return 0!==_o?t=_o:bo?t=Mo?1:Eo:1&e.mode?(t=Xo?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==wo&&t===Eo&&(t+=1)):t=1,Xo&&(0===qo||qo<t)&&(qo=t),t}function Ro(t,e){t:{(0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e);var n=t.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>e)&&(n.expirationTime=e);var r=t.return;if(null===r&&5===t.tag)t=t.stateNode;else{for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>e)&&(r.childExpirationTime=e),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>e)&&(n.childExpirationTime=e),null===r.return&&5===r.tag){t=r.stateNode;break t}r=r.return}t=null}}null!==t&&(!bo&&0!==Eo&&e<Eo&&Co(),Wr(t,e),bo&&!Mo&&wo===t||(t=(e=t).expirationTime,null===e.nextScheduledRoot?(e.expirationTime=t,null===Lo?(Do=Lo=e,e.nextScheduledRoot=e):(Lo=Lo.nextScheduledRoot=e).nextScheduledRoot=Do):(0===(n=e.expirationTime)||t<n)&&(e.expirationTime=t),Bo||(Zo?Go&&fa(Uo=e,Vo=1,!0):1===t?ca(1,null):aa(e,t))),ea<na&&(na=0,L("185")))}function No(t,e,n,r,i){var o=_o;_o=1;try{return t(e,n,r,i)}finally{_o=o}}var Do=null,Lo=null,jo=0,Fo=void 0,Bo=!1,Uo=null,Vo=0,qo=0,Yo=!1,Wo=!1,$o=null,Ho=null,Zo=!1,Go=!1,Xo=!1,Ko=null,Jo=r.unstable_now(),Qo=2+(Jo/10|0),ta=Qo,ea=50,na=0,ra=null,ia=1;function oa(){Qo=2+((r.unstable_now()-Jo)/10|0)}function aa(t,e){if(0!==jo){if(jo<e)return;null!==Fo&&r.unstable_cancelScheduledWork(Fo)}jo=e,t=r.unstable_now()-Jo,Fo=r.unstable_scheduleWork(la,{timeout:10*(e-2)-t})}function sa(){return Bo||(ua(),0!==Vo&&1073741823!==Vo||(oa(),ta=Qo)),ta}function ua(){var t=0,e=null;if(null!==Lo)for(var n=Lo,r=Do;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Lo)&&L("244"),r===r.nextScheduledRoot){Do=Lo=r.nextScheduledRoot=null;break}if(r===Do)Do=i=r.nextScheduledRoot,Lo.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Lo){(Lo=n).nextScheduledRoot=Do,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||i<t)&&(t=i,e=r),r===Lo)break;if(1===t)break;r=(n=r).nextScheduledRoot}}Uo=e,Vo=t}function la(t){if(t.didTimeout&&null!==Do){oa();var e=Do;do{var n=e.expirationTime;0!==n&&n<=Qo&&(e.nextExpirationTimeToWorkOn=Qo),e=e.nextScheduledRoot}while(e!==Do)}ca(0,t)}function ca(t,e){if(Ho=e,ua(),null!==Ho)for(oa(),ta=Qo;null!==Uo&&0!==Vo&&(0===t||Vo<=t)&&(!Yo||Vo<=Qo);)fa(Uo,Vo,Vo<=Qo),ua(),oa(),ta=Qo;else for(;null!==Uo&&0!==Vo&&(0===t||Vo<=t);)fa(Uo,Vo,!0),ua();if(null!==Ho&&(jo=0,Fo=null),0!==Vo&&aa(Uo,Vo),Yo=!1,na=0,(ra=Ho=null)!==Ko)for(t=Ko,Ko=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Wo||(Wo=!0,$o=t)}}if(Wo)throw t=$o,$o=null,Wo=!1,t}function fa(t,e,n){if(Bo&&L("245"),Bo=!0,null===Ho||n){var r=t.finishedWork;null!==r?ha(t,r,e):(t.finishedWork=null,Oo(t,!1,n),null!==(r=t.finishedWork)&&ha(t,r,e))}else null!==(r=t.finishedWork)?ha(t,r,e):(t.finishedWork=null,Oo(t,!0,n),null!==(r=t.finishedWork)&&(pa()?t.finishedWork=r:ha(t,r,e)));Bo=!1}function ha(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ko?Ko=[r]:Ko.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===ra?na++:(ra=t,na=0),Mo=bo=!0,t.current===e&&L("177"),0===(n=t.pendingCommitExpirationTime)&&L("261"),t.pendingCommitExpirationTime=0,r=e.expirationTime;var i=e.childExpirationTime;if(r=0===r||0!==i&&i<r?i:r,t.didError=!1,0===r?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(0!==(i=t.latestPendingTime)&&(i<r?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime<r&&(t.earliestPendingTime=t.latestPendingTime)),0===(i=t.earliestSuspendedTime)?Wr(t,r):r>t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Wr(t,r)):r<i&&Wr(t,r)),$r(0,t),vo.current=null,r=1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e).firstEffect:e:e.firstEffect,pr=Sn,Ln(i=Dn())){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{var a=(o=(o=i.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(a&&0!==a.rangeCount){o=a.anchorNode;var s=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{o.nodeType,u.nodeType}catch(t){o=null;break t}var l=0,c=-1,f=-1,h=0,p=0,d=i,m=null;e:for(;;){for(var y;d!==o||0!==s&&3!==d.nodeType||(c=l+s),d!==u||0!==a&&3!==d.nodeType||(f=l+a),3===d.nodeType&&(l+=d.nodeValue.length),null!==(y=d.firstChild);)m=d,d=y;for(;;){if(d===i)break e;if(m===o&&++h===s&&(c=l),m===u&&++p===a&&(f=l),null!==(y=d.nextSibling))break;m=(d=m).parentNode}d=y}o=-1===c||-1===f?null:{start:c,end:f}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sn=!(dr={focusedElem:i,selectionRange:o}),ko=r;null!==ko;){i=!1,o=void 0;try{for(;null!==ko;){if(256&ko.effectTag){var v=ko.alternate;t:switch(s=ko,s.tag){case 2:case 3:if(256&s.effectTag&&null!==v){var g=v.memoizedProps,_=v.memoizedState,b=s.stateNode;b.props=s.memoizedProps,b.state=s.memoizedState;var x=b.getSnapshotBeforeUpdate(g,_);b.__reactInternalSnapshotBeforeUpdate=x}break t;case 5:case 7:case 8:case 6:break t;default:L("163")}}ko=ko.nextEffect}}catch(t){i=!0,o=t}i&&(null===ko&&L("178"),zo(ko,o),null!==ko&&(ko=ko.nextEffect))}for(ko=r;null!==ko;){v=!1,g=void 0;try{for(;null!==ko;){var w=ko.effectTag;if(16&w&&ir(ko.stateNode,""),128&w){var E=ko.alternate;if(null!==E){var S=E.ref;null!==S&&("function"==typeof S?S(null):S.current=null)}}switch(14&w){case 2:lo(ko),ko.effectTag&=-3;break;case 6:lo(ko),ko.effectTag&=-3,fo(ko.alternate,ko);break;case 4:fo(ko.alternate,ko);break;case 8:co(_=ko),_.return=null,_.child=null,_.alternate&&(_.alternate.child=null,_.alternate.return=null)}ko=ko.nextEffect}}catch(t){v=!0,g=t}v&&(null===ko&&L("178"),zo(ko,g),null!==ko&&(ko=ko.nextEffect))}if(S=dr,E=Dn(),w=S.focusedElem,g=S.selectionRange,E!==w&&w&&w.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==g&&Ln(w)&&(E=g.start,void 0===(S=g.end)&&(S=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(S,w.value.length)):(E=((v=w.ownerDocument||document)&&v.defaultView||window).getSelection(),_=w.textContent.length,S=Math.min(g.start,_),g=void 0===g.end?S:Math.min(g.end,_),!E.extend&&g<S&&(_=g,g=S,S=_),_=Nn(w,S),b=Nn(w,g),_&&b&&(1!==E.rangeCount||E.anchorNode!==_.node||E.anchorOffset!==_.offset||E.focusNode!==b.node||E.focusOffset!==b.offset)&&((v=v.createRange()).setStart(_.node,_.offset),E.removeAllRanges(),g<S?(E.addRange(v),E.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),E.addRange(v))))),E=[];for(S=w;S=S.parentNode;)1===S.nodeType&&E.push({element:S,left:S.scrollLeft,top:S.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<E.length;w++)(S=E[w]).element.scrollLeft=S.left,S.element.scrollTop=S.top}for(Sn=!!pr,pr=dr=null,t.current=e,ko=r;null!==ko;){r=!1,w=void 0;try{for(E=n;null!==ko;){var k=ko.effectTag;if(36&k){var M=ko.alternate;switch(v=E,(S=ko).tag){case 2:case 3:var T=S.stateNode;if(4&S.effectTag)if(null===M)T.props=S.memoizedProps,T.state=S.memoizedState,T.componentDidMount();else{var C=M.memoizedProps,P=M.memoizedState;T.props=S.memoizedProps,T.state=S.memoizedState,T.componentDidUpdate(C,P,T.__reactInternalSnapshotBeforeUpdate)}var A=S.updateQueue;null!==A&&(T.props=S.memoizedProps,T.state=S.memoizedState,ri(0,A,T));break;case 5:var O=S.updateQueue;if(null!==O){if((g=null)!==S.child)switch(S.child.tag){case 7:g=S.child.stateNode;break;case 2:case 3:g=S.child.stateNode}ri(0,O,g)}break;case 7:var z=S.stateNode;null===M&&4&S.effectTag&&mr(S.type,S.memoizedProps)&&z.focus();break;case 8:case 6:case 15:case 16:break;default:L("163")}}if(128&k){var I=ko.ref;if(null!==I){var R=ko.stateNode;switch(ko.tag){case 7:var N=R;break;default:N=R}"function"==typeof I?I(N):I.current=N}}var D=ko.nextEffect;ko.nextEffect=null,ko=D}}catch(t){r=!0,w=t}r&&(null===ko&&L("178"),zo(ko,w),null!==ko&&(ko=ko.nextEffect))}bo=Mo=!1,"function"==typeof Nr&&Nr(e.stateNode),k=e.expirationTime,e=e.childExpirationTime,0===(e=0===k||0!==e&&e<k?e:k)&&(To=null),t.expirationTime=e,t.finishedWork=null}function pa(){return!!Yo||!(null===Ho||Ho.timeRemaining()>ia)&&(Yo=!0)}function da(t){null===Uo&&L("246"),Uo.expirationTime=0,Wo||(Wo=!0,$o=t)}function ma(t,e){var n=Zo;Zo=!0;try{return t(e)}finally{(Zo=n)||Bo||ca(1,null)}}function ya(t,e){if(Zo&&!Go){Go=!0;try{return t(e)}finally{Go=!1}}return t(e)}function va(t,e,n){if(Xo)return t(e,n);Zo||Bo||0===qo||(ca(qo,null),qo=0);var r=Xo,i=Zo;Zo=Xo=!0;try{return t(e,n)}finally{Xo=r,(Zo=i)||Bo||ca(1,null)}}function ga(t,e,n,r,i){var o=e.current;return n=function(t){if(!t)return Er;t:{(2!==en(t=t._reactInternalFiber)||2!==t.tag&&3!==t.tag)&&L("170");var e=t;do{switch(e.tag){case 5:e=e.stateNode.context;break t;case 2:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}break;case 3:if(Cr(e.type._reactResult)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);L("171"),e=void 0}if(2===t.tag){var n=t.type;if(Cr(n))return zr(t,n,e)}else if(3===t.tag&&Cr(n=t.type._reactResult))return zr(t,n,e);return e}(n),null===e.context?e.context=n:e.pendingContext=n,e=i,(i=Xr(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(i.callback=e),Jr(o,i),Ro(o,r),r}function _a(t,e,n,r){var i=e.current;return ga(t,e,n,i=Io(sa(),i),r)}function ba(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 7:default:return t.child.stateNode}}function xa(t){var e=2+25*(1+((sa()-2+500)/25|0));e<=go&&(e=go+1),this._expirationTime=go=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function wa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ea(t,e,n){t={current:e=new jr(5,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Sa(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ka(t,e,n,r,i){Sa(n)||L("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var t=ba(o._internalRoot);a.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ea(t,!1,e)}(n,r),"function"==typeof i){var s=i;i=function(){var t=ba(o._internalRoot);s.call(t)}}ya(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,i):o.render(e,i)})}return ba(o._internalRoot)}function Ma(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Sa(e)||L("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Ct=function(t,e,n){switch(e){case"input":if(we(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=B(r);i||L("90"),Wt(r),we(r,i)}}}break;case"textarea":Xn(t,n);break;case"select":null!=(e=n.value)&&Hn(t,!!n.multiple,e,!1)}},xa.prototype.render=function(t){this._defer||L("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new wa;return ga(t,e,null,n,r._onCommit),r},xa.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},xa.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||L("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,i=e;i!==this;)i=(r=i)._next;null===r&&L("251"),r._next=i._next,this._next=e,t.firstBatch=this}this._defer=!1,e=n,Bo&&L("253"),fa(Uo=t,Vo=e,!0),ca(1,null),e=this._next,(this._next=null)!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},xa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},wa.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},wa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!=typeof n&&L("191",n),n()}}},Ea.prototype.render=function(t,e){var n=this._internalRoot,r=new wa;return null!==(e=void 0===e?null:e)&&r.then(e),_a(t,n,null,r._onCommit),r},Ea.prototype.unmount=function(t){var e=this._internalRoot,n=new wa;return null!==(t=void 0===t?null:t)&&n.then(t),_a(null,e,null,n._onCommit),n},Ea.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new wa;return null!==(n=void 0===n?null:n)&&i.then(n),_a(e,r,t,i._onCommit),i},Ea.prototype.createBatch=function(){var t=new xa(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)(n.firstBatch=t)._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)r=(n=r)._next;t._next=r,null!==n&&(n._next=t)}return t},Dt=function(){Bo||0===qo||(ca(qo,null),qo=0)};var Ta,Ca,Pa={createPortal:Ma,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"==typeof t.render?L("188"):L("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return ka(null,t,e,!0,n)},render:function(t,e,n){return ka(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&L("38"),ka(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Sa(t)||L("40"),!!t._reactRootContainer&&(ya(function(){ka(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ma.apply(void 0,arguments)},unstable_batchedUpdates:Rt=ma,unstable_interactiveUpdates:Nt=va,flushSync:function(t,e){Bo&&L("187");var n=Zo;Zo=!0;try{return No(t,e)}finally{Zo=n,ca(1,null)}},unstable_flushControlled:function(t){var e=Zo;Zo=!0;try{No(t)}finally{(Zo=e)||Bo||ca(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,F,B,A.injectEventPluginsByName,b,$,function(t){k(t,W)},zt,It,Cn,z]},unstable_createRoot:function(t,e){return Sa(t)||L("278"),new Ea(t,!0,null!=e&&!0===e.hydrate)}};Ca=(Ta={findFiberByHostInstance:D,bundleType:0,version:"16.5.2",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return;try{var n=e.inject(t);Nr=Lr(function(t){return e.onCommitFiberRoot(n,t)}),Dr=Lr(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}}(g({},Ta,{findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Ca?Ca(t):null}}));var Aa=Pa;t.exports=Aa.default||Aa},function(t,e,n){"use strict";t.exports=n(151)},function(t,i,e){"use strict";
/** @license React v16.5.2
 * schedule.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(i,"__esModule",{value:!0});var o=null,n=!1,r=!1,a="object"==typeof performance&&"function"==typeof performance.now,s={timeRemaining:a?function(){var t=m()-performance.now();return 0<t?t:0}:function(){var t=m()-Date.now();return 0<t?t:0},didTimeout:!1};function u(){if(!n){var t=o.timesOutAt;r?d():r=!0,p(c,t)}}function l(){var t=o,e=o.next;if(o===e)o=null;else{var n=o.previous;o=n.next=e,e.previous=n}t.next=t.previous=null,(t=t.callback)(s)}function c(t){n=!0,s.didTimeout=t;try{if(t)for(;null!==o;){var e=i.unstable_now();if(!(o.timesOutAt<=e))break;for(;l(),null!==o&&o.timesOutAt<=e;);}else if(null!==o)for(;l(),null!==o&&0<m()-i.unstable_now(););}finally{n=!1,null!==o?u():r=!1}}var f,h,p,d,m,y=Date,v="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,_="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function x(e){f=_(function(t){g(h),e(t)}),h=v(function(){b(f),e(i.unstable_now())},100)}if(a){var w=performance;i.unstable_now=function(){return w.now()}}else i.unstable_now=function(){return y.now()};if("undefined"==typeof window){var E=-1;p=function(t){E=setTimeout(t,0,!0)},d=function(){clearTimeout(E)},m=function(){return 0}}else if(window._schedMock){var S=window._schedMock;p=S[0],d=S[1],m=S[2]}else{"undefined"!=typeof console&&("function"!=typeof _&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,M=!1,T=-1,C=!1,P=!1,A=0,O=33,z=33;m=function(){return A};var I="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===I){M=!1;var e=i.unstable_now();if(t=!1,A-e<=0){if(!(-1!==T&&T<=e))return void(C||(C=!0,x(R)));t=!0}if(T=-1,e=k,(k=null)!==e){P=!0;try{e(t)}finally{P=!1}}}},!1);var R=function(t){C=!1;var e=t-A+z;e<z&&O<z?(e<8&&(e=8),z=e<O?O:e):O=e,A=t+z,M||(M=!0,window.postMessage(I,"*"))};p=function(t,e){k=t,T=e,P?window.postMessage(I,"*"):C||(C=!0,x(R))},d=function(){k=null,M=!1,T=-1}}i.unstable_scheduleWork=function(t,e){var n=i.unstable_now();if(t={callback:t,timesOutAt:e=null!=e&&null!==e.timeout&&void 0!==e.timeout?n+e.timeout:n+5e3,next:null,previous:null},null===o)o=t.next=t.previous=t,u();else{n=null;var r=o;do{if(r.timesOutAt>e){n=r;break}r=r.next}while(r!==o);null===n?n=o:n===o&&(o=t,u()),(e=n.previous).next=n.previous=t,t.next=n,t.previous=e}return t},i.unstable_cancelScheduledWork=function(t){var e=t.next;if(null!==e){if(e===t)o=null;else{t===o&&(o=e);var n=t.previous;(n.next=e).previous=n}t.next=t.previous=null}}},function(t,e,n){"use strict";var s=n(153);function r(){}t.exports=function(){function t(t,e,n,r,i,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}var n={array:t.isRequired=t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=h(n(1)),o=n(11),a=n(9),s=n(23),u=h(n(194)),l=h(n(315)),c=h(n(316)),f=n(17);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));e.props.dispatch;return s.history.listen(function(t,e){}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.default.Component),r(n,[{key:"render",value:function(){var t=this.props.user;return i.default.createElement(o.Router,{history:s.history,basename:"/app/"},i.default.createElement("div",{className:"page"},i.default.createElement(o.Route,{exact:!0,path:"/",render:function(){return t?i.default.createElement(o.Redirect,{to:"/portfolio"}):i.default.createElement(o.Redirect,{to:"/login"})}}),i.default.createElement(f.PrivateRoute,{path:"/portfolio",component:u.default}),i.default.createElement(o.Route,{path:"/login",component:l.default}),i.default.createElement(o.Route,{path:"/register",component:c.default}),i.default.createElement(f.Footer,null)))}}]),n}();var d=(0,a.connect)(function(t){return{user:t.authentication.user}})(p);e.default=d},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.key?{Authorization:"Token "+t.key}:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,n(6).createBrowserHistory)({basename:"/app/"});e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(37),i=n(161),o=s(n(162)),a=s(n(163));function s(t){return t&&t.__esModule?t:{default:t}}var u=(0,i.createLogger)(),l=(0,r.createStore)(a.default,(0,r.applyMiddleware)(o.default,u));e.default=l},function(t,e,n){(function(k){!function(t){"use strict";function e(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function n(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function y(t,e,n){y.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function v(t,e){v.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function g(t,e){g.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function _(t,e,n){_.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function b(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function x(t){var e=void 0===t?"undefined":E(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function w(r,i,o,a,t,e,s){s=s||[];var u=(t=t||[]).slice(0);if(void 0!==e){if(a){if("function"==typeof a&&a(u,e))return;if("object"===(void 0===a?"undefined":E(a))){if(a.prefilter&&a.prefilter(u,e))return;if(a.normalize){var n=a.normalize(u,e,r,i);n&&(r=n[0],i=n[1])}}}u.push(e)}"regexp"===x(r)&&"regexp"===x(i)&&(r=r.toString(),i=i.toString());var l=void 0===r?"undefined":E(r),c=void 0===i?"undefined":E(i),f="undefined"!==l||s&&s[s.length-1].lhs&&s[s.length-1].lhs.hasOwnProperty(e),h="undefined"!==c||s&&s[s.length-1].rhs&&s[s.length-1].rhs.hasOwnProperty(e);if(!f&&h)o(new v(u,i));else if(!h&&f)o(new g(u,r));else if(x(r)!==x(i))o(new y(u,r,i));else if("date"===x(r)&&r-i!=0)o(new y(u,r,i));else if("object"===l&&null!==r&&null!==i)if(s.filter(function(t){return t.lhs===r}).length)r!==i&&o(new y(u,r,i));else{if(s.push({lhs:r,rhs:i}),Array.isArray(r)){var p;for(r.length,p=0;p<r.length;p++)p>=i.length?o(new _(u,p,new g(void 0,r[p]))):w(r[p],i[p],o,a,u,p,s);for(;p<i.length;)o(new _(u,p,new v(void 0,i[p++])))}else{var d=Object.keys(r),m=Object.keys(i);d.forEach(function(t,e){var n=m.indexOf(t);0<=n?(w(r[t],i[t],o,a,u,t,s),m=b(m,n)):w(r[t],void 0,o,a,u,t,s)}),m.forEach(function(t){w(void 0,i[t],o,a,u,t,s)})}s.length=s.length-1}else r!==i&&("number"===l&&isNaN(r)&&isNaN(i)||o(new y(u,r,i)))}function o(t,e,n,r){return r=r||[],w(t,e,function(t){t&&r.push(t)},n),r.length?r:void 0}function i(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function t(e,n,r){if(r.path&&r.path.length){var i,o=e[n],a=r.path.length-1;for(i=0;i<a;i++)o=o[r.path[i]];switch(r.kind){case"A":t(o[r.path[i]],r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}else switch(r.kind){case"A":t(e[n],r.index,r.item);break;case"D":e=b(e,n);break;case"E":case"N":e[n]=r.rhs}return e}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function a(t,e,n){if(n.path&&n.path.length){var r,i=t[e],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":a(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":a(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=b(t,e)}return t}function R(t,e,i,n){var r=o(t,e);try{n?i.groupCollapsed("diff"):i.group("diff")}catch(t){i.log("diff")}r?r.forEach(function(t){var e,n=t.kind,r=function(t){var e=t.kind,n=t.path,r=t.lhs,i=t.rhs,o=t.index,a=t.item;switch(e){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",a];default:return[]}}(t);i.log.apply(i,["%c "+h[n].text,(e=n,"color: "+h[e].color+"; font-weight: bold")].concat(c(r)))}):i.log("—— no diff ——");try{i.groupEnd()}catch(t){i.log("—— diff end —— ")}}function N(t,e,n,r){switch(void 0===t?"undefined":E(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,c(n)):t[r];case"function":return t(e);default:return t}}function p(S,k){var t,i,o,M=k.logger,T=k.actionTransformer,e=k.titleFormatter,C=void 0===e?(i=(t=k).timestamp,o=t.duration,function(t,e,n){var r=["action"];return r.push("%c"+String(t.type)),i&&r.push("%c@ "+e),o&&r.push("%c(in "+n.toFixed(2)+" ms)"),r.join(" ")}):e,P=k.collapsed,A=k.colors,O=k.level,z=k.diff,I=void 0===k.titleFormatter;S.forEach(function(t,e){var n=t.started,r=t.startedTime,i=t.action,o=t.prevState,a=t.error,s=t.took,u=t.nextState,l=S[e+1];l&&(u=l.prevState,s=l.started-n);var c=T(i),f="function"==typeof P?P(function(){return u},i,t):P,h=D(r),p=A.title?"color: "+A.title(c)+";":"",d=["color: gray; font-weight: lighter;"];d.push(p),k.timestamp&&d.push("color: gray; font-weight: lighter;"),k.duration&&d.push("color: gray; font-weight: lighter;");var m=C(c,h,s);try{f?A.title&&I?M.groupCollapsed.apply(M,["%c "+m].concat(d)):M.groupCollapsed(m):A.title&&I?M.group.apply(M,["%c "+m].concat(d)):M.group(m)}catch(t){M.log(m)}var y=N(O,c,[o],"prevState"),v=N(O,c,[c],"action"),g=N(O,c,[a,o],"error"),_=N(O,c,[u],"nextState");if(y)if(A.prevState){var b="color: "+A.prevState(o)+"; font-weight: bold";M[y]("%c prev state",b,o)}else M[y]("prev state",o);if(v)if(A.action){var x="color: "+A.action(c)+"; font-weight: bold";M[v]("%c action    ",x,c)}else M[v]("action    ",c);if(a&&g)if(A.error){var w="color: "+A.error(a,o)+"; font-weight: bold;";M[g]("%c error     ",w,a)}else M[g]("error     ",a);if(_)if(A.nextState){var E="color: "+A.nextState(u)+"; font-weight: bold";M[_]("%c next state",E,u)}else M[_]("next state",u);z&&R(o,u,M,f);try{M.groupEnd()}catch(t){M.log("—— log end ——")}})}function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},m,t),e=a.logger,s=a.stateTransformer,u=a.errorTransformer,l=a.predicate,c=a.logErrors,f=a.diffPredicate;if(void 0===e)return function(){return function(e){return function(t){return e(t)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var h=[];return function(t){var o=t.getState;return function(i){return function(t){if("function"==typeof l&&!l(o,t))return i(t);var e={};h.push(e),e.started=d.now(),e.startedTime=new Date,e.prevState=s(o()),e.action=t;var n=void 0;if(c)try{n=i(t)}catch(t){e.error=u(t)}else n=i(t);e.took=d.now()-e.started,e.nextState=s(o());var r=a.diff&&"function"==typeof f?f(o,t):a.diff;if(p(h,Object.assign({},a,{diff:r})),h.length=0,e.error)throw e.error;return n}}}}var s,u,l=function(t,e){return n="0",r=e-t.toString().length,new Array(r+1).join(n)+t;var n,r},D=function(t){return l(t.getHours(),2)+":"+l(t.getMinutes(),2)+":"+l(t.getSeconds(),2)+"."+l(t.getMilliseconds(),3)},d="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},f=[];s="object"===(void 0===k?"undefined":E(k))&&k?k:"undefined"!=typeof window?window:{},(u=s.DeepDiff)&&f.push(function(){void 0!==u&&s.DeepDiff===o&&(s.DeepDiff=u,u=void 0)}),e(y,n),e(v,n),e(g,n),e(_,n),Object.defineProperties(o,{diff:{value:o,enumerable:!0},observableDiff:{value:w,enumerable:!0},applyDiff:{value:function(e,n,r){if(e&&n){var t=function(t){r&&!r(e,n,t)||i(e,n,t)};w(e,n,t)}},enumerable:!0},applyChange:{value:i,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,i,o=t;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":a(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==u},enumerable:!0},noConflict:{value:function(){return f&&(f.forEach(function(t){t()}),f=null),o},enumerable:!0}});var h={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},m={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},S=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?r()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=m,t.createLogger=r,t.logger=S,t.default=S,Object.defineProperty(t,"__esModule",{value:!0})}(e)}).call(this,n(16))},function(t,e,n){"use strict";function r(i){return function(t){var n=t.dispatch,r=t.getState;return function(e){return function(t){return"function"==typeof t?t(n,r,i):e(t)}}}}n.r(e);var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(37),i=c(n(164)),o=c(n(165)),a=c(n(166)),s=c(n(167)),u=c(n(168)),l=c(n(169));function c(t){return t&&t.__esModule?t:{default:t}}var f=(0,r.combineReducers)({authentication:a.default,registration:l.default,account:i.default,alert:o.default,portfolio:u.default,loans:s.default});e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(30),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case o.default.ME_REQUEST:return{loading:!0};case o.default.ME_SUCCESS:return{account:e.account};case o.default.ME_FAILURE:return{error:e.error};default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(47),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case o.default.SUCCESS:return{type:"alert-success",message:e.message};case o.default.ERROR:return{type:"alert-danger",message:e.message};case o.default.CLEAR:return{};default:return Object.assign(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(30),o=(r=i)&&r.__esModule?r:{default:r};var a=JSON.parse(localStorage.getItem("user")),s=a?{loggedIn:!0,user:a}:{};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s,e=arguments[1];switch(e.type){case o.default.LOGIN_REQUEST:return{loggingIn:!0,user:e.user};case o.default.LOGIN_SUCCESS:return{loggedIn:!0,user:e.user};case o.default.LOGIN_FAILURE:return{loggingError:e.errors};case o.default.LOGOUT:return{};default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(48),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case o.default.LOANS_REQUEST:return{loading:!0};case o.default.LOANS_SUCCESS:return{loading:!1,loans:e.loans};case o.default.LOANS_FAILURE:return{loading:!1,errors:e.errors};default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(48),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case o.default.CREATE_REQUEST:return{createLoading:!0};case o.default.CREATE_SUCCESS:return{createPortfolio:e.portfolio};case o.default.CREATE_FAILURE:return{createErrors:e.errors};case o.default.DETAIL_REQUEST:return{detailLoading:!0};case o.default.DETAIL_SUCCESS:return{detailLoading:!1,detailPortfolio:e.portfolio};case o.default.DETAIL_FAILURE:return{detailLoading:!1,detailErrors:e.errors};case o.default.CLEAR:return{};default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(30),o=(r=i)&&r.__esModule?r:{default:r};var a={registering:!1,errors:{}};e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,e=arguments[1];switch(e.type){case o.default.REGISTER_REQUEST:return{registering:!0,errors:{}};case o.default.REGISTER_SUCCESS:return{registering:!1,errors:{}};case o.default.REGISTER_FAILURE:return{registering:!1,errors:e.errors};default:return t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleResponse=function(t){return t.data},e.handleErrors=function(t,e){401===e.response.status&&(localStorage.removeItem("user"),location.reload(!0));500===e.response.status&&t(r.alertActions.error(i));return e};var r=n(13),i="We are experiencing some difficulties with our service. Our technical team has been told about this. Sorry for the inconvenience."},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(49),o=n(23),a=n(50),s=n(78),u=(r=s)&&r.__esModule?r:{default:r};var l={login:function(e,n){return function(r){var t;r((t={username:e},{type:i.accountConstants.LOGIN_REQUEST,user:t})),a.accountService.login(e,n).then(function(t){var e,n=t.data;r((e=n,{type:i.accountConstants.LOGIN_SUCCESS,user:e})),o.history.push("/portfolio")},function(t){var e;r((e=t.response.data,{type:i.accountConstants.LOGIN_FAILURE,errors:e})),(0,o.handleErrors)(r,t)})}},logout:function(){return function(t){a.accountService.logout(),t({type:i.accountConstants.LOGOUT}),o.history.push("/login")}},register:function(e){return function(r){var t;r((t=e,{type:i.accountConstants.REGISTER_REQUEST,response:t})),a.accountService.register(e).then(function(t){var e,n=t.data;o.history.push("/login"),r(u.default.success("In a few moments you'll receive an email from us. Please press the link provided, and that will tell us, that it's really your email and not an impostor.")),r((e=n,{type:i.accountConstants.REGISTER_SUCCESS,response:e}))},function(t){var e;r((e=t.response.data,{type:i.accountConstants.REGISTER_FAILURE,errors:e})),(0,o.handleErrors)(r,t)})}},me:function(e){return function(r){var t;r((t=e,{type:i.accountConstants.ME_REQUEST,meUser:t})),a.accountService.me(e).then(function(t){var e,n=t.data;r((e=n,{type:i.accountConstants.ME_SUCCESS,account:e}))},function(t){var e;r((e=t.response.data,{type:i.accountConstants.ME_FAILURE,error:e})),(0,o.handleErrors)(r,t)})}}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(72),a=(r=o)&&r.__esModule?r:{default:r},s=n(23);var u={login:function(t,e){return(0,a.default)({method:"post",url:"https://poc.nplxplatform.com/api/accounts/auth/login/",headers:{"Content-Type":"application/json"},data:{email:t,password:e}}).then(function(t){var e=t.data;return e.key&&localStorage.setItem("user",JSON.stringify(e)),e})},logout:function(){localStorage.removeItem("user")},register:function(t){return(0,a.default)({method:"post",url:"https://poc.nplxplatform.com/api/accounts/auth/register/",headers:{"Content-Type":"application/json"},data:t})},me:function(t){return(0,a.default)({method:"get",url:"https://poc.nplxplatform.com/api/accounts/me/",headers:i({},(0,s.authHeader)(),{"Content-Type":"application/json"}),data:t})}};e.default=u},function(t,e,n){"use strict";var r=n(10),i=n(73),o=n(175),a=n(51);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(77),u.CancelToken=n(189),u.isCancel=n(76),u.all=function(t){return Promise.all(t)},u.spread=n(190),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},function(t,e,n){"use strict";var r=n(51),i=n(10),o=n(184),a=n(185);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(t,e){return this.request(i.merge(e||{},{method:n,url:t}))}}),i.forEach(["post","put","patch"],function(r){s.prototype[r]=function(t,e,n){return this.request(i.merge(n||{},{method:r,url:t,data:e}))}}),t.exports=s},function(t,e,n){"use strict";var i=n(10);t.exports=function(n,r){i.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}},function(t,e,n){"use strict";var i=n(75);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var o=n(10);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(o.isURLSearchParams(e))r=e.toString();else{var i=[];o.forEach(e,function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),i.push(a(e)+"="+a(t))}))}),r=i.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t}},function(t,e,n){"use strict";var o=n(10),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,i={};return t&&o.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=o.trim(t.substr(0,r)).toLowerCase(),n=o.trim(t.substr(r+1)),e){if(i[e]&&0<=a.indexOf(e))return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([n]):i[e]?i[e]+", "+n:n}}),i}},function(t,e,n){"use strict";var a=n(10);t.exports=a.isStandardBrowserEnv()?function(){var n,r=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function o(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return n=o(window.location.href),function(t){var e=a.isString(t)?o(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0}},function(t,e,n){"use strict";function s(){this.message="String contains an invalid character"}(s.prototype=new Error).code=5,s.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,r=String(t),i="",o=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&e>>8-o%1*8)){if(255<(n=r.charCodeAt(o+=.75)))throw new s;e=e<<8|n}return i}},function(t,e,n){"use strict";var s=n(10);t.exports=s.isStandardBrowserEnv()?{write:function(t,e,n,r,i,o){var a=[];a.push(t+"="+encodeURIComponent(e)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(10);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=i},function(t,e,n){"use strict";var r=n(10),i=n(186),o=n(76),a=n(51),s=n(187),u=n(188);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return l(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return l(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(e,n,t){return r.forEach(t,function(t){e=t(e,n)}),e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(77);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},t.exports=i},function(t,e,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(72),a=(r=o)&&r.__esModule?r:{default:r},s=n(23);var u={create:function(t,e){var n=new FormData;return n.append("file",t[0]),(0,a.default)({method:"post",url:"https://poc.nplxplatform.com/api/portfolios/",headers:i({},(0,s.authHeader)(),{"Content-Type":"application/json"}),data:n})},list:function(){return(0,a.default)({method:"get",url:"https://poc.nplxplatform.com/api/portfolios/",headers:i({},(0,s.authHeader)(),{"Content-Type":"application/json"})})},detail:function(t){return(0,a.default)({method:"get",url:"https://poc.nplxplatform.com/api/portfolios/"+t+"/",headers:i({},(0,s.authHeader)(),{"Content-Type":"application/json"})})},loans:function(t){return(0,a.default)({method:"get",url:"https://poc.nplxplatform.com/api/portfolios/"+t+"/loans/",headers:i({},(0,s.authHeader)(),{"Content-Type":"application/json"})})}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(60)),o=n(49),a=n(50),s=n(23),u=n(52);(r=u)&&r.__esModule;var l={create:function(t,e){return function(r){r({type:o.portfolioConstants.CREATE_REQUEST}),a.portfolioService.create(t,e).then(function(t){var e,n=t.data;r((e=n,{type:o.portfolioConstants.CREATE_SUCCESS,portfolio:e}))},function(t){var e;r((e=t.response.data,{type:o.portfolioConstants.CREATE_FAILURE,errors:e})),(0,s.handleErrors)(r,t)})}},fetchDetail:function(t){return function(r){r({type:o.portfolioConstants.DETAIL_REQUEST}),a.portfolioService.detail(t).then(function(t){var e,n=t.data;r((e=n,{type:o.portfolioConstants.DETAIL_SUCCESS,portfolio:e}))},function(t){var e;r((e=t.response.data,{type:o.portfolioConstants.DETAIL_FAILURE,errors:e})),(0,s.handleErrors)(r,t)})}},fetchLoans:function(t){return function(r){r({type:o.portfolioConstants.LOANS_REQUEST}),a.portfolioService.loans(t).then(function(t){var e,n=i.csvParse(t.data,function(t){return{ngr_cd:t.ngr_cd,status:t.status,num_events:t.num_events,prediction:t.prediction,confidence_score:t.confidence_score,im_acc_cassa:t.im_acc_cassa,im_util_cassa:t.im_util_cassa,util_rate:t.util_rate,latitude:+t.latitude,longitude:+t.longitude}});r((e=n,{type:o.portfolioConstants.LOANS_SUCCESS,loans:e}))},function(t){var e;r((e=t.response.data,{type:o.portfolioConstants.LOANS_FAILURE,errors:e})),(0,s.handleErrors)(r,t)})}}};e.default=l},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=d(i),a=n(0),s=n(9),u=n(11),l=d(n(195)),c=d(n(313)),f=d(n(314)),h=n(13),p=n(17);function d(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.closeAlert=e.closeAlert.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.Component),r(n,[{key:"closeAlert",value:function(){(0,this.props.dispatch)(h.alertActions.clear())}},{key:"componentDidMount",value:function(){var t=this.props,e=t.user;(0,t.dispatch)(h.accountActions.me(e))}},{key:"render",value:function(){var t=this.props.alert;return o.default.createElement("div",{className:"page-main"},o.default.createElement(p.Header,null),t.message&&o.default.createElement("div",{className:"alert "+t.type},o.default.createElement("div",{className:"container"},o.default.createElement("button",{onClick:this.closeAlert,type:"button",className:"close","data-dismiss":"alert"}),t.message)),o.default.createElement(u.Route,{path:"/portfolio/upload",component:c.default}),o.default.createElement(u.Route,{path:"/portfolio/i/:code([0-9a-z-]*)",component:l.default}),o.default.createElement(u.Route,{path:"/portfolio",exact:!0,component:f.default}))}}]),n}();m.defaultProp={user:{loggedIn:!1,user:{key:null}}},m.propTypes={user:a.PropTypes.shape({loggedIn:a.PropTypes.bool,user:a.PropTypes.shape({key:a.PropTypes.string})}).isRequired,dispatch:a.PropTypes.func.isRequired},e.default=(0,s.connect)(function(t){var e=t.authentication,n=t.alert;return{user:e.user,alert:n}})(m)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(9),u=n(11),l=n(17),c=n(13);var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.dispatch,n=t.match;e(c.portfolioActions.fetchDetail(n.params.code))}},{key:"render",value:function(){var t=this.props,e=t.portfolio,n=t.loading,r=t.dispatch,i=t.match;return!1===n&&e&&!e.code?a.default.createElement(u.Redirect,{to:"/portfolio"}):!0===n||void 0===e?a.default.createElement("h1",null,"Loading..."):"UPLOADED"===e.state?(r(c.portfolioActions.fetchLoans(i.params.code)),a.default.createElement("div",null,a.default.createElement(u.Route,{path:"/portfolio/i/:code([0-9a-z-]*)",exact:!0,component:l.PortfolioDashboard}))):a.default.createElement("div",{className:"container"},a.default.createElement(l.PageTitle,{title:e.name,subtitle:e.code}),a.default.createElement("div",{className:"alert alert-primary"},"We are in the proccess of analyzing your portfolio. We will let you know by email when this is done."))}}]),e}();e.default=(0,s.connect)(function(t){var e=t.portfolio,n=e.detailLoading;return{portfolio:e.detailPortfolio,loading:n}})(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=s(i),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=u(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i)))).defaultProp={tabIndex:1},u(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i.Component),r(a,[{key:"render",value:function(){var t=this.props,e=t.text,n=t.isLoading,r=t.tabIndex;return o.default.createElement("button",{type:"submit",tabIndex:r,className:"btn btn-primary btn-block",disabled:n},e,n?o.default.createElement("span",null," ",o.default.createElement("i",{className:"fe fe-loader spinner"})):null)}}]),a}();l.propTypes={text:a.default.string.isRequired,isLoading:a.default.bool.isRequired,tabIndex:a.default.number},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonFieldErrors=e.FormField=void 0;var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=s(i),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.FormField=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,i.Component),r(e,[{key:"render",value:function(){var t=this.props.name+"_field",e=null;return this.props.errors&&(e=this.props.errors.map(function(t,e){return o.default.createElement("div",{className:"invalid-feedback",key:e},t)})),o.default.createElement("div",{className:"form-group"},o.default.createElement("label",{className:"form-label",htmlFor:t},this.props.label),o.default.createElement("input",{id:t,type:this.props.type,className:this.props.submitted&&e?"form-control is-invalid":"form-control",name:this.props.name,tabIndex:this.props.tabIndex,value:this.props.value,onChange:this.props.onChange}),e)}}]),e}();f.propTypes={type:a.default.oneOf(["password","email","text"]).isRequired,name:a.default.string.isRequired,label:a.default.string.isRequired,submitted:a.default.bool.isRequired,value:a.default.oneOfType([a.default.string,a.default.number]).isRequired,tabIndex:a.default.number,isRequired:a.default.bool,onChange:a.default.func.isRequired,errors:a.default.array},f.defaultPropTypes={tabIndex:"1",isRequired:!0};e.NonFieldErrors=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,i.Component),r(e,[{key:"render",value:function(){var t=this.props.errors,e=null;return t&&t.hasOwnProperty("non_field_errors")&&(e=t.non_field_errors.map(function(t,e){return o.default.createElement("div",{className:"alert alert-danger",key:e},t)})),e}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){return o.default.createElement("footer",{className:"footer"},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"row align-items-center flex-row-reverse"},o.default.createElement("div",{className:"col-auto ml-lg-auto"},o.default.createElement("div",{className:"row align-items-center"},o.default.createElement("div",{className:"col-auto"},o.default.createElement("ul",{className:"list-inline list-inline-dots mb-0"},o.default.createElement("li",{className:"list-inline-item"},o.default.createElement("a",{href:"https://nplx.com"},"Terms of service")),o.default.createElement("li",{className:"list-inline-item"},o.default.createElement("a",{href:"https://nplx.com"},"Privacy policy")))),o.default.createElement("div",{className:"col-auto"},o.default.createElement("a",{href:"https://nplx.com",className:"btn btn-outline-primary btn-sm"},"Contact us")))),o.default.createElement("div",{className:"col-12 col-lg-auto mt-3 mt-lg-0 text-center"},"Copyright © 2018",o.default.createElement("a",{href:"https://nplx.com"},"Zarathustra Technologies"),". All rights reserved."))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=f(i),a=f(n(0)),s=n(9),u=n(11),l=n(13),c=f(n(200));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"onLogoutClicked",value:function(){(0,this.props.dispatch)(l.accountActions.logout())}},{key:"render",value:function(){var t=this.props.account,e=t.first_name,n=t.last_name,r=t.company,i="";return e&&(i+=e.charAt(0)),n&&(i+=n.charAt(0)),o.default.createElement("div",{className:"header"},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"d-flex"},o.default.createElement(u.Link,{to:"/portfolio",className:"header-brand"},o.default.createElement("img",{src:c.default,alt:"Zarathustra Technologies",className:"dashboard-logo"})),o.default.createElement("div",{className:"d-flex order-lg-2 ml-auto"},o.default.createElement("div",{className:"dropdown"},o.default.createElement("a",{className:"nav-link pr-0 leading-none","data-toggle":"dropdown","aria-expanded":"false"},o.default.createElement("span",{className:"avatar"},i),o.default.createElement("span",{className:"ml-2 d-none d-lg-block"},o.default.createElement("span",{className:"text-default"},e," ",n),o.default.createElement("small",{className:"text-muted d-block mt-1"},r)))),o.default.createElement("div",{className:"dropdown d-none d-md-flex"},o.default.createElement("a",{onClick:this.onLogoutClicked.bind(this),className:"nav-link icon log-out-btn"},o.default.createElement("i",{className:"fe fe-log-out"})))))))}}]),e}();h.propTypes={dispatch:a.default.func.isRequired,account:a.default.shape({first_name:a.default.string,last_name:a.default.string,company:a.default.string})},h.defaultProps={account:{first_name:"",last_name:"",company:""}};var p=(0,s.connect)(function(t){var e=t.account;return{account:e.account?e.account:{}}})(h);e.default=p},function(t,e,n){t.exports=n.p+"images/logo_wide.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){return o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"page-header"},o.default.createElement("h1",{className:"page-title"},"Loading",o.default.createElement("i",{className:"fe fe-loader"}))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(11),u=n(9);var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),i(e,[{key:"render",value:function(){var t=this.props,e=t.portfolio,n=t.loading;t.errors;return n||null==e?null:a.default.createElement("div",{className:"header collapse d-lg-flex p-0",id:"headerMenuCollapse"},a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"row align-items-center"},a.default.createElement("div",{className:"col-lg order-lg-first"},a.default.createElement("ul",{className:"nav nav-tabs border-0 flex-column flex-lg-row"},a.default.createElement("li",{className:"nav-item"},a.default.createElement(s.NavLink,{to:"/portfolio/"+e.code+"/",className:"nav-link",activeClassName:"active"},a.default.createElement("i",{className:"fe fe-home"})," Dashboard")),a.default.createElement("li",{className:"nav-item"},a.default.createElement(s.NavLink,{to:"/portfolio/"+e.code+"/map/",className:"nav-link",activeClassName:"active"},a.default.createElement("i",{className:"fe fe-map"})," Map")),a.default.createElement("li",{className:"nav-item"},a.default.createElement(s.NavLink,{to:"/portfolio/"+e.code+"/loans/",className:"nav-link",activeClassName:"active"},a.default.createElement("i",{className:"fe fe-dollar-sign"})," Loans")),a.default.createElement("li",{className:"nav-item"},a.default.createElement(s.NavLink,{to:"/portfolio/"+e.code+"/borrowers/",className:"nav-link",activeClassName:"active"},a.default.createElement("i",{className:"fe fe-users"})," Borrowers")))))))}}]),e}();var c=(0,u.connect)(function(t){var e=t.portfolio,n=e.detailLoading;return{portfolio:e.detailPortfolio,loading:n,errors:e.detailErrors}})(l);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),a=(r=o)&&r.__esModule?r:{default:r},s=n(11);e.default=function(t){var e=t.component,n=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["component"]);return a.default.createElement(s.Route,i({},n,{render:function(t){return localStorage.getItem("user")?a.default.createElement(e,t):a.default.createElement(s.Redirect,{to:{pathname:"/login",state:{from:t.location}}})}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},a=n(80);var s={marginTop:20,marginLeft:"-65px",paddingLeft:"50%",marginBottom:50};e.default=function(){return o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-body"},o.default.createElement("div",{style:s},o.default.createElement(a.RingLoader,{color:"#467fcf",size:130,margin:"30px"})),o.default.createElement("h5",{className:"text-center"},"Upload in progress"),o.default.createElement("p",{className:"text-center"},"We are processing your request and should take no longer than a minute.")))}},function(t,e,n){var r,i,o;i=[t,n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(224),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(214)],void 0===(o="function"==typeof(r=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p,d,m,y,v,g,_){"use strict";var b=F(e),x=F(n),w=F(r),E=F(i),S=F(o),k=F(a),M=F(s),T=F(u),C=F(l),P=F(c),A=F(f),O=F(h),z=F(p),I=F(d),R=F(m),N=F(y),D=F(v),L=F(g),j=F(_);function F(t){return t&&t.__esModule?t:{default:t}}t.exports={BarLoader:b.default,BeatLoader:x.default,BounceLoader:w.default,CircleLoader:E.default,ClipLoader:S.default,ClimbingBoxLoader:k.default,DotLoader:M.default,FadeLoader:T.default,GridLoader:C.default,HashLoader:P.default,MoonLoader:A.default,PacmanLoader:O.default,PropagateLoader:z.default,PulseLoader:I.default,RingLoader:R.default,RiseLoader:N.default,RotateLoader:D.default,ScaleLoader:L.default,SyncLoader:j.default}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{left:-35%;right:100%}60%{left:100%;right:-90%}100%{left:100%;right:-90%}"),h=(0,s.keyframes)("0%{left:-200%;right:100%}60%{left:107%;right:-8%}100%{left:107%;right:-8%}"),p=t.Loader=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;height:",n.props.height+n.props.heightUnit,";overflow:hidden;background-color:",n.props.color,";background-clip:padding-box;display:block;border-radius:2px;will-change:left,right;animation-fill-mode:forwards;animation:",1===t?f:h," 2.1s ",2===t?"1.15s":""," ",1===t?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",n.props.width+n.props.widthUnit,";height:",n.props.height+n.props.heightUnit,";overflow:hidden;background-color:",(0,u.calculateRgba)(n.props.color,.2),";background-clip:padding-box;}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?i.default.createElement("div",{className:(0,u.styleLoader)(this.wrapper(),this.props.loaderStyle)},i.default.createElement("div",{className:this.style(1)}),i.default.createElement("div",{className:this.style(2)})):null}}]),a}(i.default.Component);p.propTypes={loaderStyle:o.default.shape(),loading:o.default.bool,color:o.default.string,width:o.default.number,widthUnit:o.default.string,height:o.default.number,heightUnit:o.default.string},p.defaultProps={loaderStyle:{},loading:!0,color:"#000000",width:100,widthUnit:"px",height:4,heightUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","width","height","heightUnit","widthUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("50%{transform:scale(0.75);opacity:0.2}100%{transform:scale(1);opacity:1}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{display:inline-block;background-color:",n.props.color,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;animation:",f," 0.7s ",t%2?"0s":"0.35s"," infinite linear;animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string,margin:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,sizeUnit:"px",margin:"2px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%,100%{transform:scale(0)}50%{transform:scale(1.0)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";background-color:",n.props.color,";border-radius:100%;opacity:0.6;top:0;left:0;animation-fill-mode:both;animation:",f," 2.1s ",1===t?"1s":"0s"," infinite ease-in-out;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:60,sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;height:",(n.props.size*(1-t/10)).toString()+n.props.sizeUnit,";width:",(n.props.size*(1-t/10)).toString()+n.props.sizeUnit,";border:1px solid ",n.props.color,";border-radius:100%;transition:2s;border-bottom:none;border-right:none;top:",.7*t*2.5,"%;left:",.35*t*2.5,"%;animation-fill-mode:'';animation:",f," 1s ",.2*t,"s infinite linear;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",n.props.size.toString()+n.props.sizeUnit,";height:",n.props.size.toString()+n.props.sizeUnit,";}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(0)}),o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)}),o.default.createElement("div",{className:this.style(4)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:50,sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(0.8)}100%{transform:rotate(360deg) scale(1)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(){return(0,s.css)("background:transparent !important;width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";border-radius:100%;border:2px solid;border-color:",n.props.color,";border-bottom-color:transparent;display:inline-block;animation:",f," 0.75s 0s infinite linear;animation-fill-mode:both;")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.style(),this.props.loaderStyle)}):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:35,sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:translate(0,-1em) rotate(-45deg)}5%{transform:translate(0,-1em) rotate(-50deg)}20%{transform:translate(1em,-2em) rotate(47deg)}25%{transform:translate(1em,-2em) rotate(45deg)}30%{transform:translate(1em,-2em) rotate(40deg)}45%{transform:translate(2em,-3em) rotate(137deg)}50%{transform:translate(2em,-3em) rotate(135deg)}55%{transform:translate(2em,-3em) rotate(130deg)}70%{transform:translate(3em,-4em) rotate(217deg)}75%{transform:translate(3em,-4em) rotate(220deg)}100%{transform:translate(0,-1em) rotate(-225deg)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(){return(0,s.css)("{position:absolute;left:0;bottom:-0.1em;height:1em;width:1em;background-color:transparent;border-radius:15%;border:0.25em solid ",n.props.color,";transform:translate(0,-1em) rotate(-45deg);animation-fill-mode:both;animation:",f," 2.5s infinite cubic-bezier(.79,0,.47,.97);}")},n.wrapper=function(){return(0,s.css)("{position:absolute;top:50%;left:50%;margin-top:-2.7em;margin-left:-2.7em;width:5.4em;height:5.4em;font-size:",n.props.size+n.props.sizeUnit,";}")},n.hill=function(){return(0,s.css)("{position:absolute;width:7.1em;height:7.1em;top:1.7em;left:1.7em;border-left:0.25em solid ",n.props.color,";transform:rotate(45deg);}")},n.container=(0,s.css)("{position:relative;width:7.1em;height:7.1em;}"),c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:this.container},o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style()}),o.default.createElement("div",{className:this.hill()}))):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("100%{transform:rotate(360deg)}"),h=(0,s.keyframes)("0%,100%{transform:scale(0)}50%{transform:scale(1.0)}"),p=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;top:",t%2?"0":"auto",";bottom:",t%2?"auto":"0",";height:",(n.props.size/2).toString()+n.props.sizeUnit,";width:",(n.props.size/2).toString()+n.props.sizeUnit,";background-color:",n.props.color,";border-radius:100%;animation-fill-mode:forwards;animation:",h," 2s ",2===t?"-1s":"0s"," infinite linear;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";animation-fill-mode:forwards;animation:",f," 2s 0s infinite linear;}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)})):null}}]),a}(o.default.Component);p.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},p.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:60,sizeUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("50%{opacity:0.3}100%{opacity:1}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;width:",n.props.width.toString()+n.props.widthUnit,";height:",n.props.height.toString()+n.props.heightUnit,";margin:",n.props.margin,";background-color:",n.props.color,";border-radius:",n.props.radius.toString()+n.props.radiusUnit,";transition:2s;animation-fill-mode:'both';animation:",f," 1.2s ",.12*t,"s infinite ease-in-out;}")},n.radius=20,n.quarter=n.radius/2+n.radius/5.5,n.wrapper=function(){return(0,s.css)("{position:relative;font-size:0;top:",n.radius,"px;left:",n.radius,"px;width:",3*n.radius,"px;height:",3*n.radius,"px;}")},n.a=function(){return(0,s.css)(n.style(1),";top:",n.radius,"px;left:0;")},n.b=function(){return(0,s.css)(n.style(2),";top:",n.quarter,"px;left:",n.quarter,"px;transform:rotate(-45deg);")},n.c=function(){return(0,s.css)(n.style(3),";top:0;left:",n.radius,"px;transform:rotate(90deg);")},n.d=function(){return(0,s.css)(n.style(4),";top:",-n.quarter,"px;left:",n.quarter,"px;transform:rotate(45deg);")},n.e=function(){return(0,s.css)(n.style(5),";top:",-n.radius,"px;left:0;")},n.f=function(){return(0,s.css)(n.style(6),";top:",-n.quarter,"px;left:",-n.quarter,"px;transform:rotate(-45deg);")},n.g=function(){return(0,s.css)(n.style(7),";top:0;left:",-n.radius,"px;transform:rotate(90deg);")},n.h=function(){return(0,s.css)(n.style(8),";top:",n.quarter,"px;left:",-n.quarter,"px;transform:rotate(45deg);")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.a()}),o.default.createElement("div",{className:this.b()}),o.default.createElement("div",{className:this.c()}),o.default.createElement("div",{className:this.d()}),o.default.createElement("div",{className:this.e()}),o.default.createElement("div",{className:this.f()}),o.default.createElement("div",{className:this.g()}),o.default.createElement("div",{className:this.h()})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,height:a.default.number,width:a.default.number,margin:a.default.string,radius:a.default.number,heightUnit:a.default.string,widthUnit:a.default.string,radiusUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",height:15,width:5,margin:"2px",radius:2,widthUnit:"px",heightUnit:"px",radiusUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","height","width","margin","radius","widthUnit","heightUnit","radiusUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("33%{transform:translateY(10px)}66%{transform:translateY(-10px)}100%{transform:translateY(0)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{background-color:",n.props.color,";width:",n.props.size.toString()+n.props.sizeUnit,";height:",n.props.size.toString()+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;display:inline-block;animation:",f," 0.6s ",.07*t,"s infinite ease-in-out;animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,margin:"2px",sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(e),o=a(n);function a(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).thickness=function(){return n.props.size/5},n.lat=function(){return(n.props.size-n.thickness())/2},n.offset=function(){return n.lat()-n.thickness()},n.color=function(){return(0,u.calculateRgba)(n.props.color,.75)},n.before=function(){return(0,s.keyframes)("0%{width:",n.thickness(),"px;box-shadow:",n.lat(),"px ",-n.offset(),"px ",n.color(),",",-n.lat(),"px ",n.offset(),"px ",n.color(),"}35%{width:",n.props.size+n.props.sizeUnit,";box-shadow:0 ",-n.offset(),"px ",n.color(),",0 ",n.offset(),"px ",n.color(),"}70%{width:",n.thickness(),"px;box-shadow:",-n.lat(),"px ",-n.offset(),"px ",n.color(),",",n.lat(),"px ",n.offset(),"px ",n.color(),"}100%{box-shadow:",n.lat(),"px ",-n.offset(),"px ",n.color(),",",-n.lat(),"px ",n.offset(),"px ",n.color(),"}")},n.after=function(){return(0,s.keyframes)("0%{height:",n.thickness(),"px;box-shadow:",n.offset(),"px ",n.lat(),"px ",n.color(),",",-n.offset(),"px ",-n.lat(),"px ",n.color(),"}35%{height:",n.props.size+n.props.sizeUnit,";box-shadow:",n.offset(),"px 0 ",n.color(),",",-n.offset(),"px 0 ",n.color(),"}70%{height:",n.thickness(),"px;box-shadow:",n.offset(),"px ",-n.lat(),"px ",n.color(),",",-n.offset(),"px ",n.lat(),"px ",n.color(),"}100%{box-shadow:",n.offset(),"px ",n.lat(),"px ",n.color(),",",-n.offset(),"px ",-n.lat(),"px ",n.color(),"}")},n.style=function(t){return(0,s.css)("{position:absolute;content:'';top:50%;left:50%;display:block;width:",n.props.size/5+n.props.sizeUnit,";height:",n.props.size/5+n.props.sizeUnit,";border-radius:",n.props.size/10+n.props.sizeUnit,";transform:translate(-50%,-50%);animation-fill-mode:none;animation:",1===t?n.before():n.after()," 2s infinite;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";transform:rotate(165deg);}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?i.default.createElement("div",{className:(0,u.styleLoader)(this.wrapper(),this.props.loaderStyle)},i.default.createElement("div",{className:this.style(1)}),i.default.createElement("div",{className:this.style(2)})):null}}]),a}(i.default.Component);f.propTypes={loaderStyle:o.default.shape(),loading:o.default.bool,size:o.default.number,color:o.default.string,sizeUnit:o.default.string},f.defaultProps={loaderStyle:{},loading:!0,size:50,color:"#000000",sizeUnit:"px"};var h=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(f);h.defaultProps=f.defaultProps,t.default=h})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("100%{transform:rotate(360deg)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).moonSize=function(){return n.props.size/7},n.ballStyle=function(t){return(0,s.css)("{width:",t.toString()+n.props.sizeUnit,";height:",t.toString()+n.props.sizeUnit,";border-radius:100%;}")},n.wrapper=function(){return(0,s.css)("{position:relative;width:",(n.props.size+2*n.moonSize()).toString()+n.props.sizeUnit,";height:",(n.props.size+2*n.moonSize()).toString()+n.props.sizeUnit,";animation:",f," 0.6s 0s infinite linear;animation-fill-mode:forwards;}")},n.ball=function(){return(0,s.css)(n.ballStyle(n.moonSize()),";background-color:",n.props.color,";opacity:0.8;position:absolute;top:",(n.props.size/2-n.moonSize()/2).toString()+n.props.sizeUnit,";animation:",f," 0.6s 0s infinite linear;animation-fill-mode:forwards;")},n.circle=function(){return(0,s.css)(n.ballStyle(n.props.size),";border:",n.moonSize(),"px solid ",n.props.color,";opacity:0.1;")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.ball()}),o.default.createElement("div",{className:this.circle()})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:60,sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=[(0,s.keyframes)("0%{transform:rotate(0deg)}50%{transform:rotate(-44deg)}"),(0,s.keyframes)("0%{transform:rotate(0deg)}50%{transform:rotate(44deg)}")],h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).ball=function(){return(0,s.keyframes)("75%{opacity:0.7}100%{transform:translate(",(-4*n.props.size).toString()+n.props.sizeUnit,",",(-n.props.size/4).toString()+n.props.sizeUnit,")}")},n.ballStyle=function(t){return(0,s.css)("{width:",(n.props.size/2.5).toString()+n.props.sizeUnit,";height:",(n.props.size/2.5).toString()+n.props.sizeUnit,";background-color:",n.props.color,";margin:",n.props.margin,";border-radius:100%;transform:translate(0,",(-n.props.size/4).toString()+n.props.sizeUnit,");position:absolute;top:",n.props.size.toString()+n.props.sizeUnit,";left:",(4*n.props.size).toString()+n.props.sizeUnit,";animation:",n.ball()," 1s ",.25*t,"s infinite linear;animation-fill-mode:both;}")},n.s1=function(){return n.props.size.toString()+n.props.sizeUnit+" solid transparent"},n.s2=function(){return n.props.size.toString()+n.props.sizeUnit+" solid "+n.props.color},n.pacmanStyle=function(t){return(0,s.css)("{width:0;height:0;border-right:",n.s1(),";border-top:",0===t?n.s1():n.s2(),";border-left:",n.s2(),";border-bottom:",0===t?n.s2():n.s1(),";border-radius:",n.props.size.toString()+n.props.sizeUnit,";position:absolute;animation:",f[t]," 0.8s infinite ease-in-out;animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{position:relative;font-size:0;height:",n.props.size.toString()+n.props.sizeUnit,";width:",n.props.size.toString()+n.props.sizeUnit,";}")},n.pac=function(){return n.pacmanStyle(0)},n.man=function(){return n.pacmanStyle(1)},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.pac()}),o.default.createElement("div",{className:this.man()}),o.default.createElement("div",{className:this.ballStyle(2)}),o.default.createElement("div",{className:this.ballStyle(3)}),o.default.createElement("div",{className:this.ballStyle(4)}),o.default.createElement("div",{className:this.ballStyle(5)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:25,margin:"2px",sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=[1,3,5],h=[(0,s.keyframes)("25%{transform:translateX(-",f[0],"rem) scale(0.75)}50%{transform:translateX(-",f[1],"rem) scale(0.6)}75%{transform:translateX(-",f[2],"rem) scale(0.5)}95%{transform:translateX(0rem) scale(1)}"),(0,s.keyframes)("25%{transform:translateX(-",f[0],"rem) scale(0.75)}50%{transform:translateX(-",f[1],"rem) scale(0.6)}75%{transform:translateX(-",f[1],"rem) scale(0.6)}95%{transform:translateX(0rem) scale(1)}"),(0,s.keyframes)("25%{transform:translateX(-",f[0],"rem) scale(0.75)}75%{transform:translateX(-",f[0],"rem) scale(0.75)}95%{transform:translateX(0rem) scale(1)}"),(0,s.keyframes)("25%{transform:translateX(",f[0],"rem) scale(0.75)}75%{transform:translateX(",f[0],"rem) scale(0.75)}95%{transform:translateX(0rem) scale(1)}"),(0,s.keyframes)("25%{transform:translateX(",f[0],"rem) scale(0.75)}50%{transform:translateX(",f[1],"rem) scale(0.6)}75%{transform:translateX(",f[1],"rem) scale(0.6)}95%{transform:translateX(0rem) scale(1)}"),(0,s.keyframes)("25%{transform:translateX(",f[0],"rem) scale(0.75)}50%{transform:translateX(",f[1],"rem) scale(0.6)}75%{transform:translateX(",f[2],"rem) scale(0.5)}95%{transform:translateX(0rem) scale(1)}")],p=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;font-size:",n.props.size/3," ",n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";background:",n.props.color,";border-radius:50%;animation:",h[t]," 1.5s  infinite;animation-fill-mode:forwards;}")},n.wrapper=function(){return(0,s.css)("{position:relative;}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(0)}),o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)}),o.default.createElement("div",{className:this.style(4)}),o.default.createElement("div",{className:this.style(5)})):null}}]),a}(o.default.Component);p.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,size:a.default.number,color:a.default.string,sizeUnit:a.default.string},p.defaultProps={loaderStyle:{},loading:!0,size:15,color:"#000000",sizeUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","sizeUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:scale(1);opacity:1}45%{transform:scale(0.1);opacity:0.7}80%{transform:scale(1);opacity:1}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{background-color:",n.props.color,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;display:inline-block;animation:",f," 0.75s ",.12*t,"s infinite cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,margin:"2px",sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg)}100%{transform:rotateX(180deg) rotateY(360deg) rotateZ(360deg)}"),h=(0,s.keyframes)("0%{transform:rotateX(0deg) rotateY(0deg) rotateZ(0deg)}100%{transform:rotateX(360deg) rotateY(180deg) rotateZ(360deg)}"),p=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{position:absolute;top:0;left:0;width:",n.props.size.toString()+n.props.sizeUnit,";height:",n.props.size.toString()+n.props.sizeUnit,";border:",(n.props.size/10).toString()+n.props.sizeUnit," solid ",n.props.color,";opacity:0.4;border-radius:100%;animation-fill-mode:forwards;perspective:800px;animation:",1===t?f:h," 2s 0s infinite linear;}")},n.wrapper=function(){return(0,s.css)("{width:",n.props.size.toString()+n.props.sizeUnit,";height:",n.props.size.toString()+n.props.sizeUnit,";position:relative;}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)})):null}}]),a}(o.default.Component);p.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,sizeUnit:a.default.string},p.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:60,sizeUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loading","color","size","sizeUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:scale(1.1)}25%{translateY(-",30,"px)}50%{transform:scale(0.4)}75%{transform:translateY(",30,"px)}100%{transform:translateY(0) scale(1.0)}"),h=(0,s.keyframes)("0%{transform:scale(0.4)}25%{translateY(",30,"px)}50%{transform:scale(1.1)}75%{transform:translateY(",-30,"px)}100%{transform:translateY(0) scale(0.75)}"),p=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{background-color:",n.props.color,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;display:inline-block;animation:",t%2==0?f:h," 1s 0s infinite cubic-bezier(.15,.46,.9,.6);animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)}),o.default.createElement("div",{className:this.style(4)}),o.default.createElement("div",{className:this.style(5)})):null}}]),a}(o.default.Component);p.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},p.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,margin:"2px",sizeUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{opacity:0.8;position:absolute;top:0;left:",t%2?-28:25,"px;}")},n.ball=function(){return(0,s.css)("{background-color:",n.props.color,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;}")},n.wrapper=function(){return(0,s.css)(n.ball(),";display:inline-block;position:relative;animation-fill-mode:both;animation:",f," 1s 0s infinite cubic-bezier(.7,-.13,.22,.86);")},n.long=function(){return(0,s.css)(n.ball(),";",n.style(1),";")},n.short=function(){return(0,s.css)(n.ball(),";",n.style(2),";")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.long()}),o.default.createElement("div",{className:this.short()})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,margin:"2px",sizeUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:scaley(1.0)}50%{transform:scaley(0.4)}100%{transform:scaley(1.0)}"),h=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{background-color:",n.props.color,";width:",n.props.width+n.props.widthUnit,";height:",n.props.height+n.props.heightUnit,";margin:",n.props.margin,";border-radius:",n.props.radius.toString()+n.props.radiusUnit,";display:inline-block;animation:",f," 1s ",.1*t,"s infinite cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;}")},n.wrapper=function(){return(0,s.css)("{}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(1)}),o.default.createElement("div",{className:this.style(2)}),o.default.createElement("div",{className:this.style(3)}),o.default.createElement("div",{className:this.style(4)}),o.default.createElement("div",{className:this.style(5)})):null}}]),a}(o.default.Component);h.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,height:a.default.number,width:a.default.number,margin:a.default.string,radius:a.default.number,heightUnit:a.default.string,widthUnit:a.default.string,radiusUnit:a.default.string},h.defaultProps={loaderStyle:{},loading:!0,color:"#000000",height:35,width:4,margin:"2px",radius:2,heightUnit:"px",widthUnit:"px",radiusUnit:"px"};var p=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","height","width","margin","radius","heightUnit","widthUnit","radiusUnit"])(h);p.defaultProps=h.defaultProps,t.default=p})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[e,n(1),n(0),n(3),n(4),n(5)],void 0===(o="function"==typeof(r=function(t,e,n,s,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(e),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=(0,s.keyframes)("0%{transform:scale(1)}50%{transform:scale(0.5);opacity:0.7}100%{transform:scale(1);opacity:1}"),h=function(t){return Math.random()*t},p=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),(e=n).style=function(t){return(0,s.css)("{display:inline-block;background-color:",n.props.color,";width:",n.props.size+n.props.sizeUnit,";height:",n.props.size+n.props.sizeUnit,";margin:",n.props.margin,";border-radius:100%;animation-fill-mode:'both';animation:",f," ",t/100+.6,"s ",t/100-.2,"s infinite ease;}")},n.wrapper=function(){return(0,s.css)("{width:",(3*parseFloat(n.props.size)+6*parseFloat(n.props.margin)).toString()+n.props.sizeUnit,";font-size:0;}")},c(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,t),l(a,[{key:"render",value:function(){return this.props.loading?o.default.createElement("div",{className:(0,i.styleLoader)(this.wrapper(),this.props.loaderStyle)},o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))}),o.default.createElement("div",{className:this.style(h(100))})):null}}]),a}(o.default.Component);p.propTypes={loaderStyle:a.default.shape(),loading:a.default.bool,color:a.default.string,size:a.default.number,margin:a.default.string,sizeUnit:a.default.string},p.defaultProps={loaderStyle:{},loading:!0,color:"#000000",size:15,margin:"2px",sizeUnit:"px"};var d=(0,r.onlyUpdateForKeys)(["loaderStyle","loading","color","size","margin","sizeUnit"])(p);d.defaultProps=p.defaultProps,t.default=d})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=c(i),a=c(n(0)),s=n(9),u=c(n(319)),l=n(13);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.onDrop=e.onDrop.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.Component),r(n,[{key:"onDrop",value:function(t,e){(0,this.props.dispatch)(l.portfolioActions.create(t,""))}},{key:"render",value:function(){var t=this.props.errors,e=null;if(null!=t){var n=function(t){var e=Object.values(t).join(", ");return o.default.createElement("div",{className:"alert alert-danger"},e)};t instanceof Array&&(e=t.map(function(t){return n(t)})),t instanceof Object&&(e=n(t))}return o.default.createElement("div",{className:"card"},o.default.createElement("div",{className:"card-body"},e,o.default.createElement(u.default,{onDrop:this.onDrop,className:"dropzone"},o.default.createElement("p",{className:"big-text"},"Upload file"),o.default.createElement("p",{className:"dragndrop-icon"},o.default.createElement("i",{className:"fe fe-upload-cloud"})),o.default.createElement("p",{className:"dragndrop-legend color-primary"},"Drag & drop"),o.default.createElement("p",{className:"big-text"},"or"),o.default.createElement("button",{type:"submit",className:"btn btn-outline-primary dragndrop-btn"},"Browse file"))))}}]),n}();f.propTypes={dispatch:a.default.func.isRequired,errors:a.default.object},f.defaultProps={errors:null},e.default=(0,s.connect)(function(t){return{errors:t.portfolio.createErrors}})(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=l(i),a=n(9),s=l(n(79)),u=n(227);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={filterBounds:{}},e.onMarkerClicked=e.onMarkerClicked.bind(e),e.onBoundsChange=e.onBoundsChange.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,i.Component),r(n,[{key:"onMarkerClicked",value:function(t){}},{key:"onBoundsChange",value:function(t){this.setState({filterBounds:t});this.props.loans}},{key:"render",value:function(){var t=this.props.portfolio;return null==t||t==={}?o.default.createElement("div",{className:"my-3 my-md-5"},o.default.createElement("div",{className:"container"},o.default.createElement("h1",null,"Loading data ..."))):o.default.createElement("div",{className:"container"},o.default.createElement(s.default,{title:t.name,subtitle:t.code}),o.default.createElement("div",{className:"row row-cards"},o.default.createElement("div",{className:"col-6"},o.default.createElement(u.LoanMapCard,{onMarkerClicked:this.onMarkerClicked,onBoundsChange:this.onBoundsChange})),o.default.createElement("div",{className:"col-6"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-6"},o.default.createElement(u.PerformSubjectsCard,null)),o.default.createElement("div",{className:"col-6"},o.default.createElement(u.DefaultSubjectsCard,null)))),o.default.createElement("div",{className:"col-12"},o.default.createElement(u.LoansTableCard,null))))}}]),n}();e.default=(0,a.connect)(function(t){var e=t.portfolio;return{portfolio:e.detailPortfolio,loading:e.detailLoading}})(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoansTableCard=e.LoanMapCard=e.PerformSubjectsCard=e.DefaultSubjectsCard=e.AnomaliaCard=void 0;var r=u(n(228)),i=u(n(246)),o=u(n(247)),a=u(n(248)),s=u(n(269));function u(t){return t&&t.__esModule?t:{default:t}}e.AnomaliaCard=r.default,e.DefaultSubjectsCard=i.default,e.PerformSubjectsCard=o.default,e.LoanMapCard=a.default,e.LoansTableCard=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),c=o(n(1)),i=n(9),f=o(n(27)),h=o(n(229));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t.loans,n=t.loading,r=t.selectedCd;if(n||0==r)return c.default.createElement(f.default,null);for(var i=e.filter(function(t){return t.ngr_cd===r}),o=i.map(function(t){return t.cd_anomalia}).filter(function(t,e,n){return n.indexOf(t)===e}),a=[],s=o.length,u=function(t){var e=o[t],n=i.filter(function(t){return t.cd_anomalia===e}),r=n[0];a.push({text:r.ds_anomalia,value:n.length})},l=0;l<s;l++)u(l);return c.default.createElement("div",null,c.default.createElement("div",{style:{width:"50%"}},c.default.createElement(h.default,{ylabel:"Num Events",margin:{top:20,right:20,bottom:30,left:40},width:800,height:500,data:a})))};a.propTypes={loans:r.default.array,loading:r.default.bool,selectedCd:r.default.number},e.default=(0,i.connect)(function(t){var e=t.loans;return{loans:e.loans,loading:e.loading}})(a)},function(t,e,n){var r;r=function(n,r){return function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}return i.m=n,i.c=r,i.p="",i(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function i(t){return t&&t.__esModule?t:{default:t}}var o=i(n(1)),a=n(2),s=i(n(9));n(10);var u=function(t,e){return Object.assign({},t,e)},l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){for(var r=!0;r;){var i=t,o=e,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;t=l,e=o,n=a,r=!0,s=l=void 0}}(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["default"].Component),r(e,[{key:"_handleBarClick",value:function(t,e){this.props.onBarClick&&this.props.onBarClick(t,e)}},{key:"_renderGraph",value:function(t){var e=t.margin,n=t.width,r=t.height,i=s.default.select(this.svg).attr("width",n+e.left+e.right).attr("height",r+e.top+e.bottom);i=i.select(".graph").attr("transform","translate("+e.left+", "+e.top+")"),this._reusableGraph(t)}},{key:"_reusableGraph",value:function(t){var e=this,n=t.margin,r=t.width,i=t.height,o=s.default.select(this.svg).attr("width",r+n.left+n.right).attr("height",i+n.top+n.bottom);(o=o.select(".graph").attr("transform","translate("+n.left+", "+n.top+")")).selectAll("rect").remove(),o.select(".x.axis").remove(),o.select(".y.axis").remove(),o.append("g").attr("class","x axis").attr("transform","translate(0, "+i+")").call(this.xAxis),o.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(t.ylabel),o.selectAll(".bar").data(t.data).enter().append("rect").on("click",this._handleBarClick.bind(this)).attr("class","bar").attr("x",function(t){return e.x(t.text)}).attr("width",this.x.rangeBand()).attr("y",function(t){return e.y(t.value)}).attr("height",function(t){return i-e.y(t.value)})}},{key:"_defineAxis",value:function(t){t.width=t.width-t.margin.left-t.margin.right,t.height=t.height-t.margin.top-t.margin.bottom,this.x=s.default.scale.ordinal().rangeRoundBands([0,t.width],.1),this.y=s.default.scale.linear().range([t.height,0]),this.x.domain(t.data.map(function(t){return t.text})),this.y.domain([0,s.default.max(t.data,function(t){return t.value})]),this.xAxis=s.default.svg.axis().scale(this.x).orient("bottom"),this.yAxis=s.default.svg.axis().scale(this.y).orient("left")}},{key:"componentDidMount",value:function(){var t=u(this.props);this._defineAxis(t),this._renderGraph(t)}},{key:"shouldComponentUpdate",value:function(t){var e=u(t);return this._defineAxis(e),this._reusableGraph(e),!1}},{key:"render",value:function(){var e=this;return o.default.createElement("svg",{ref:function(t){return e.svg=t}},o.default.createElement("g",{className:"graph"}))}}],[{key:"propTypes",value:{data:a.array.isRequired,width:a.number.isRequired,height:a.number.isRequired,margin:a.object,ylabel:a.string},enumerable:!0},{key:"defaultProps",value:{margin:{top:0,right:0,bottom:0,left:0}},enumerable:!0}]),e}();e.default=l,t.exports=e.default},function(t,e){t.exports=n},function(t,e,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n(3)(function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},!0)},function(t,e,n){"use strict";var r=n(4),m=n(5),y=n(6),v=n(7),i=n(8);t.exports=function(s,f){var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";var h="<<anonymous>>",t={array:n("array"),bool:n("boolean"),func:n("function"),number:n("number"),object:n("object"),string:n("string"),symbol:n("symbol"),any:e(r.thatReturnsNull),arrayOf:function(l){return e(function(t,e,n,r,i){if("function"!=typeof l)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[e];if(!Array.isArray(o)){var a=d(o);return new p("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an array.")}for(var s=0;s<o.length;s++){var u=l(o,s,n,r,i+"["+s+"]",v);if(u instanceof Error)return u}return null})},element:e(function(t,e,n,r,i){var o=t[e];if(s(o))return null;var a=d(o);return new p("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(u){return e(function(t,e,n,r,i){if(t[e]instanceof u)return null;var o=u.name||h,a=(s=t[e],s.constructor&&s.constructor.name?s.constructor.name:h);var s;return new p("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected instance of `"+o+"`.")})},node:e(function(t,e,n,r,i){return u(t[e])?null:new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(l){return e(function(t,e,n,r,i){if("function"!=typeof l)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[e],a=d(o);if("object"!==a)return new p("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in o)if(o.hasOwnProperty(s)){var u=l(o,s,n,r,i+"."+s,v);if(u instanceof Error)return u}return null})},oneOf:function(u){if(!Array.isArray(u))return y(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;return e(function(t,e,n,r,i){for(var o=t[e],a=0;a<u.length;a++)if(l(o,u[a]))return null;var s=JSON.stringify(u);return new p("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected one of "+s+".")})},oneOfType:function(s){if(!Array.isArray(s))return y(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;return e(function(t,e,n,r,i){for(var o=0;o<s.length;o++){var a=s[o];if(null==a(t,e,n,r,i,v))return null}return new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")})},shape:function(c){return e(function(t,e,n,r,i){var o=t[e],a=d(o);if("object"!==a)return new p("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in c){var u=c[s];if(u){var l=u(o,s,n,r,i+"."+s,v);if(l)return l}}return null})}};function l(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function p(t){this.message=t,this.stack=""}function e(u){var l={},c=0;function t(t,e,n,r,i,o,a){if(r=r||h,o=o||n,a!==v)if(f)m(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var s=r+":"+n;!l[s]&&c<3&&(y(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",o,r),l[s]=!0,c++)}return null==e[n]?t?null===e[n]?new p("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `null`."):new p("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:u(e,n,r,i,o)}var e=t.bind(null,!1);return e.isRequired=t.bind(null,!0),e}function n(s){return e(function(t,e,n,r,i,o){var a=t[e];return d(a)===s?null:new p("Invalid "+r+" `"+i+"` of type `"+function(t){var e=d(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(a)+"` supplied to `"+n+"`, expected `"+s+"`.")})}function u(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(u);if(null===t||s(t))return!0;var e=function(t){var e=t&&(o&&t[o]||t[a]);if("function"==typeof e)return e}(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!u(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!u(i[1]))return!1}return!0;default:return!1}}function d(t){var e,n=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":(e=t,"symbol"===n||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol?"symbol":n)}return p.prototype=Error.prototype,t.checkPropTypes=i,t.PropTypes=t}},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";var f=function(t){};f=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")},t.exports=function(t,e,n,r,i,o,a,s){if(f(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";var r=n(4);r=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];(function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+t.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(t){}}).apply(void 0,[e].concat(r))}},t.exports=r},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var u=n(5),l=n(6),c=n(7),f={};t.exports=function(t,e,n,r,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{u("function"==typeof t[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,o),a=t[o](e,o,r,n,null,c)}catch(t){a=t}if(l(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in f)){f[a.message]=!0;var s=i?i():"";l(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}},function(t,e){t.exports=r},function(t,e){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n,r=Object(t),i=!1,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){for(var s=Object.keys(Object(a)),u=0,l=s.length;u<l;u++){var c=s[u];try{var f=Object.getOwnPropertyDescriptor(a,c);void 0!==f&&f.enumerable&&(r[c]=a[c])}catch(t){i||(i=!0,n=t)}}if(i)throw n}}return r}})}])},t.exports=r(n(230),n(245))},function(t,e,n){"use strict";t.exports=n(231)},function(t,e,n){"use strict";var r=n(53),i=n(232),o=n(81),a=n(238),s=n(240),u=n(14),l=(n(86),n(242)),c=n(243),f=n(244),h=(n(12),u.createElement),p=u.createFactory,d=u.cloneElement;var m=r,y={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o,createElement:h,cloneElement:d,isValidElement:u.isValidElement,PropTypes:l,createClass:a.createClass,createFactory:p,createMixin:function(t){return t},DOM:s,version:c,__spread:m};t.exports=y},function(t,e,n){"use strict";var r=n(233),u=n(14),l=n(55),s=n(234),i=r.twoArgumentPooler,o=r.fourArgumentPooler,a=/\/+/g;function c(t){return(""+t).replace(a,"$&/")}function f(t,e){this.func=t,this.context=e,this.count=0}function h(t,e,n){var r=t.func,i=t.context;r.call(i,e,t.count++)}function p(t,e,n,r){this.result=t,this.keyPrefix=e,this.func=n,this.context=r,this.count=0}function d(t,e,n){var r=t.result,i=t.keyPrefix,o=t.func,a=t.context,s=o.call(a,e,t.count++);Array.isArray(s)?m(s,r,n,l.thatReturnsArgument):null!=s&&(u.isValidElement(s)&&(s=u.cloneAndReplaceKey(s,i+(!s.key||e&&e.key===s.key?"":c(s.key)+"/")+n)),r.push(s))}function m(t,e,n,r,i){var o="";null!=n&&(o=c(n)+"/");var a=p.getPooled(e,o,r,i);s(t,d,a),p.release(a)}function y(t,e,n){return null}f.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(f,i),p.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(p,o);var v={forEach:function(t,e,n){if(null==t)return t;var r=f.getPooled(e,n);s(t,h,r),f.release(r)},map:function(t,e,n){if(null==t)return t;var r=[];return m(t,r,null,e,n),r},mapIntoWithKeyPrefixInternal:m,count:function(t,e){return s(t,y,null)},toArray:function(t){var e=[];return m(t,e,null,l.thatReturnsArgument),e}};t.exports=v},function(t,e,n){"use strict";var r=n(18),i=function(t){if(this.instancePool.length){var e=this.instancePool.pop();return this.call(e,t),e}return new this(t)},o=function(t){t instanceof this||r(!1),t.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(t)},a=i,s={addPoolingTo:function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(t,e){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,t,e),n}return new this(t,e)},threeArgumentPooler:function(t,e,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,t,e,n),r}return new this(t,e,n)},fourArgumentPooler:function(t,e,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)},fiveArgumentPooler:function(t,e,n,r,i){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,t,e,n,r,i),o}return new this(t,e,n,r,i)}};t.exports=s},function(t,e,n){"use strict";n(54);var m=n(14),y=n(57),v=n(18),g=(n(12),"."),_=":",r={"=":"=0",":":"=2"},i=/[=:]/g;function o(t){return r[t]}function b(t,e){return t&&"object"==typeof t&&null!=t.key?x(t.key):e.toString(36)}function x(t){return"$"+(""+t).replace(i,o)}t.exports=function(t,e,n){return null==t?0:function t(e,n,r,i){var o,a=typeof e;if("undefined"!==a&&"boolean"!==a||(e=null),null===e||"string"===a||"number"===a||m.isValidElement(e))return r(i,e,""===n?g+b(e,0):n),1;var s=0,u=""===n?g:n+_;if(Array.isArray(e))for(var l=0;l<e.length;l++)s+=t(o=e[l],u+b(o,l),r,i);else{var c=y(e);if(c){var f,h=c.call(e);if(c!==e.entries)for(var p=0;!(f=h.next()).done;)s+=t(o=f.value,u+b(o,p++),r,i);else for(;!(f=h.next()).done;){var d=f.value;d&&(s+=t(o=d[1],u+x(d[0])+_+b(o,0),r,i))}}else"object"===a&&(String(e),v(!1))}return s}(t,"",e,n)}},function(t,e,n){"use strict";var r=n(236);t.exports={debugTool:r}},function(t,e,n){"use strict";var r=n(237),i=(n(12),[]);function o(t,e,n,r,i,o){0}var a={addDevtool:function(t){i.push(t)},removeDevtool:function(t){for(var e=0;e<i.length;e++)i[e]===t&&(i.splice(e,1),e--)},onBeginProcessingChildContext:function(){o()},onEndProcessingChildContext:function(){o()},onSetState:function(){o()},onMountRootComponent:function(t){o()},onMountComponent:function(t){o()},onUpdateComponent:function(t){o()},onUnmountComponent:function(t){o()}};a.addDevtool(r),t.exports=a},function(t,e,n){"use strict";n(12);var r={onBeginProcessingChildContext:function(){!0},onEndProcessingChildContext:function(){!1},onSetState:function(){(void 0)()}};t.exports=r},function(t,e,n){"use strict";var r=n(53),i=n(81),h=n(14),o=(n(84),n(58),n(82)),a=n(83),p=n(18),s=n(85),u=n(239),d=(n(12),u({mixins:null})),m=s({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),l=[],y={mixins:m.DEFINE_MANY,statics:m.DEFINE_MANY,propTypes:m.DEFINE_MANY,contextTypes:m.DEFINE_MANY,childContextTypes:m.DEFINE_MANY,getDefaultProps:m.DEFINE_MANY_MERGED,getInitialState:m.DEFINE_MANY_MERGED,getChildContext:m.DEFINE_MANY_MERGED,render:m.DEFINE_ONCE,componentWillMount:m.DEFINE_MANY,componentDidMount:m.DEFINE_MANY,componentWillReceiveProps:m.DEFINE_MANY,shouldComponentUpdate:m.DEFINE_ONCE,componentWillUpdate:m.DEFINE_MANY,componentDidUpdate:m.DEFINE_MANY,componentWillUnmount:m.DEFINE_MANY,updateComponent:m.OVERRIDE_BASE},v={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)c(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=r({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=r({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=g(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=r({},t.propTypes,e)},statics:function(t,e){!function(t,e){if(!e)return;for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in v;i&&p(!1);var o=n in t;o&&p(!1),t[n]=r}}}(t,e)},autobind:function(){}};function c(t,e){if(e){"function"==typeof e&&p(!1),h.isValidElement(e)&&p(!1);var n,r,i,o=t.prototype,a=o.__reactAutoBindPairs;for(var s in e.hasOwnProperty(d)&&v.mixins(t,e.mixins),e)if(e.hasOwnProperty(s)&&s!==d){var u=e[s],l=o.hasOwnProperty(s);if(n=l,r=s,void 0,i=y.hasOwnProperty(r)?y[r]:null,b.hasOwnProperty(r)&&i!==m.OVERRIDE_BASE&&p(!1),n&&i!==m.DEFINE_MANY&&i!==m.DEFINE_MANY_MERGED&&p(!1),v.hasOwnProperty(s))v[s](t,u);else{var c=y.hasOwnProperty(s);if("function"==typeof u&&!c&&!l&&!1!==e.autobind)a.push(s,u),o[s]=u;else if(l){var f=y[s];(!c||f!==m.DEFINE_MANY_MERGED&&f!==m.DEFINE_MANY)&&p(!1),f===m.DEFINE_MANY_MERGED?o[s]=g(o[s],u):f===m.DEFINE_MANY&&(o[s]=_(o[s],u))}else o[s]=u}}}}function f(t,e){for(var n in t&&e&&"object"==typeof t&&"object"==typeof e||p(!1),e)e.hasOwnProperty(n)&&(void 0!==t[n]&&p(!1),t[n]=e[n]);return t}function g(r,i){return function(){var t=r.apply(this,arguments),e=i.apply(this,arguments);if(null==t)return e;if(null==e)return t;var n={};return f(n,t),f(n,e),n}}function _(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}var b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},x=function(){};r(x.prototype,i.prototype,b);var w={createClass:function(t){var e=function(t,e,n){this.__reactAutoBindPairs.length&&function(t){for(var e,n=t.__reactAutoBindPairs,r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];t[i]=(e=t,o.bind(e))}}(this),this.props=t,this.context=e,this.refs=a,this.updater=n||o,this.state=null;var r=this.getInitialState?this.getInitialState():null;("object"!=typeof r||Array.isArray(r))&&p(!1),this.state=r};for(var n in((e.prototype=new x).constructor=e).prototype.__reactAutoBindPairs=[],l.forEach(c.bind(null,e)),c(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render||p(!1),y)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){l.push(t)}}};t.exports=w},function(t,e,n){"use strict";t.exports=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null}},function(t,e,n){"use strict";var r=n(14);n(86);var i=n(241)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(t){return r.createFactory(t)});t.exports=i},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){if(!t)return null;var r={};for(var i in t)o.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}},function(t,e,n){"use strict";var a=n(14),h=n(58),r=n(55),o=n(57),c="<<anonymous>>",i={array:u("array"),bool:u("boolean"),func:u("function"),number:u("number"),object:u("object"),string:u("string"),any:s(r.thatReturns(null)),arrayOf:function(c){return s(function(t,e,n,r,i){if("function"!=typeof c)return new Error("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[e];if(!Array.isArray(o)){var a=h[r],s=p(o);return new Error("Invalid "+a+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected an array.")}for(var u=0;u<o.length;u++){var l=c(o,u,n,r,i+"["+u+"]");if(l instanceof Error)return l}return null})},element:s(function(t,e,n,r,i){if(a.isValidElement(t[e]))return null;var o=h[r];return new Error("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a single ReactElement.")}),instanceOf:function(l){return s(function(t,e,n,r,i){if(t[e]instanceof l)return null;var o=h[r],a=l.name||c,s=(u=t[e],u.constructor&&u.constructor.name?u.constructor.name:c);var u;return new Error("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected instance of `"+a+"`.")})},node:s(function(t,e,n,r,i){if(l(t[e]))return null;var o=h[r];return new Error("Invalid "+o+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(c){return s(function(t,e,n,r,i){if("function"!=typeof c)return new Error("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[e],a=p(o);if("object"!==a){var s=h[r];return new Error("Invalid "+s+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an object.")}for(var u in o)if(o.hasOwnProperty(u)){var l=c(o,u,n,r,i+"."+u);if(l instanceof Error)return l}return null})},oneOf:function(l){if(!Array.isArray(l))return s(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")});return s(function(t,e,n,r,i){for(var o=t[e],a=0;a<l.length;a++)if(f(o,l[a]))return null;var s=h[r],u=JSON.stringify(l);return new Error("Invalid "+s+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected one of "+u+".")})},oneOfType:function(u){if(!Array.isArray(u))return s(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")});return s(function(t,e,n,r,i){for(var o=0;o<u.length;o++){var a=u[o];if(null==a(t,e,n,r,i))return null}var s=h[r];return new Error("Invalid "+s+" `"+i+"` supplied to `"+n+"`.")})},shape:function(f){return s(function(t,e,n,r,i){var o=t[e],a=p(o);if("object"!==a){var s=h[r];return new Error("Invalid "+s+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.")}for(var u in f){var l=f[u];if(l){var c=l(o,u,n,r,i+"."+u);if(c)return c}}return null})}};function f(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function s(s){function t(t,e,n,r,i,o){if(r=r||c,o=o||n,null!=e[n])return s(e,n,r,i,o);var a=h[i];return t?new Error("Required "+a+" `"+o+"` was not specified in `"+r+"`."):null}var e=t.bind(null,!1);return e.isRequired=t.bind(null,!0),e}function u(u){return s(function(t,e,n,r,i){var o=t[e];if(p(o)===u)return null;var a=h[r],s=function(t){var e=p(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}(o);return new Error("Invalid "+a+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected `"+u+"`.")})}function l(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(l);if(null===t||a.isValidElement(t))return!0;var e=o(t);if(!e)return!1;var n,r=e.call(t);if(e!==t.entries){for(;!(n=r.next()).done;)if(!l(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!l(i[1]))return!1}return!0;default:return!1}}function p(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}t.exports=i},function(t,e,n){"use strict";t.exports="15.0.1"},function(t,e,n){"use strict";var r=n(14),i=n(18);t.exports=function(t){return r.isValidElement(t)||i(!1),t}},function(Bs,Us,Vs){var qs,Ys;!function(){var R={version:"3.5.16"},o=[].slice,h=function(t){return o.call(t)},_=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function N(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(_)try{h(_.documentElement.childNodes)[0].nodeType}catch(t){h=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),_)try{_.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,n=e.setAttribute,r=e.setAttributeNS,i=this.CSSStyleDeclaration.prototype,a=i.setProperty;e.setAttribute=function(t,e){n.call(this,t,e+"")},e.setAttributeNS=function(t,e,n){r.call(this,t,e,n+"")},i.setProperty=function(t,e,n){a.call(this,t,e+"",n)}}function u(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}R.ascending=u,R.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},R.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r<n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r<n&&(n=r)}return n},R.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n<r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r<=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n<r&&(n=r)}return n},R.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<n&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r<=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(r<n&&(n=r),i<r&&(i=r))}return[n,i]},R.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=+t[o])&&(r+=n);else for(;++o<i;)c(n=+e.call(t,t[o],o))&&(r+=n);return r},R.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)c(n=l(t[o]))?r+=n:--a;else for(;++o<i;)c(n=l(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},R.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},R.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)c(n=l(t[o]))&&r.push(n);else for(;++o<i;)c(n=l(e.call(t,t[o],o)))&&r.push(n);if(r.length)return R.quantile(r.sort(u),.5)},R.variance=function(t,e){var n,r,i=t.length,o=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)c(n=l(t[s]))&&(a+=(r=n-o)*(n-(o+=r/++u)));else for(;++s<i;)c(n=l(e.call(t,t[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++u)));if(1<u)return a/(u-1)},R.deviation=function(){var t=R.variance.apply(this,arguments);return t?Math.sqrt(t):t};var f=t(u);function p(t){return t.length}R.bisectLeft=f.left,R.bisect=R.bisectRight=f.right,R.bisector=function(n){return t(1===n.length?function(t,e){return u(n(t),e)}:n)},R.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},R.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},R.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},R.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=R.min(t,p),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r},R.zip=function(){return R.transpose(arguments)},R.keys=function(t){var e=[];for(var n in t)e.push(n);return e},R.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},R.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},R.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n};var I=Math.abs;function d(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function g(){this._=Object.create(null)}R.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(I(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},R.map=function(t,e){var n=new g;if(t instanceof g)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var m="__proto__",y="\0";function v(t){return(t+="")===m||t[0]===y?y+t:t}function b(t){return(t+="")[0]===y?t.slice(1):t}function x(t){return v(t)in this._}function w(t){return(t=v(t))in this._&&delete this._[t]}function E(){var t=[];for(var e in this._)t.push(b(e));return t}function S(){var t=0;for(var e in this._)++t;return t}function k(){for(var t in this._)return!1;return!0}function M(){this._=Object.create(null)}function D(t){return t}function T(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}function C(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=P.length;n<r;++n){var i=P[n]+e;if(i in t)return i}}d(g,{has:x,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:w,keys:E,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:b(e),value:this._[e]});return t},size:S,empty:k,forEach:function(t){for(var e in this._)t.call(this,b(e),this._[e])}}),R.nest=function(){var f,h,p={},d=[],e=[];function m(n,t,r){if(r>=d.length)return h?h.call(p,t):f?t.sort(f):t;for(var e,i,o,a,s=-1,u=t.length,l=d[r++],c=new g;++s<u;)(a=c.get(e=l(i=t[s])))?a.push(i):c.set(e,[i]);return o=n?(i=n(),function(t,e){i.set(t,m(n,e,r))}):(i={},function(t,e){i[t]=m(n,e,r)}),c.forEach(o),i}return p.map=function(t,e){return m(e,t,0)},p.entries=function(t){return function n(t,r){if(r>=d.length)return t;var i=[],o=e[r++];return t.forEach(function(t,e){i.push({key:t,values:n(e,r)})}),o?i.sort(function(t,e){return o(t.key,e.key)}):i}(m(R.map,t,0),0)},p.key=function(t){return d.push(t),p},p.sortKeys=function(t){return e[d.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return h=t,p},p},R.set=function(t){var e=new M;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},d(M,{has:x,add:function(t){return this._[v(t+="")]=!0,t},remove:w,values:E,size:S,empty:k,forEach:function(t){for(var e in this._)t.call(this,b(e))}}),R.behavior={},R.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=T(t,e,e[n]);return t};var P=["webkit","ms","moz","Moz","o","O"];function A(){}function O(){}function z(i){var o=[],a=new g;function t(){for(var t,e=o,n=-1,r=e.length;++n<r;)(t=e[n].on)&&t.apply(this,arguments);return i}return t.on=function(t,e){var n,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,n=o.indexOf(r)).concat(o.slice(n+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),i)},t}function L(){R.event.preventDefault()}function j(){for(var t,e=R.event;t=e.sourceEvent;)e=t;return e}function F(i){for(var o=new O,t=0,e=arguments.length;++t<e;)o[arguments[t]]=z(o);return o.of=function(n,r){return function(t){try{var e=t.sourceEvent=R.event;t.target=i,R.event=t,o[t.type].apply(n,r)}finally{R.event=e}}},o}R.dispatch=function(){for(var t=new O,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=z(t);return t},O.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(0<=n&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},R.event=null,R.requote=function(t){return t.replace(B,"\\$&")};var B=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function V(t){return U(t,$),t}var q=function(t,e){return e.querySelector(t)},Y=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[C(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(q=function(t,e){return Sizzle(t,e)[0]||null},Y=Sizzle,W=Sizzle.matchesSelector),R.selection=function(){return R.select(_.documentElement)};var $=R.selection.prototype=[];function H(t){return"function"==typeof t?t:function(){return q(t,this)}}function Z(t){return"function"==typeof t?t:function(){return Y(t,this)}}$.select=function(t){var e,n,r,i,o=[];t=H(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return V(o)},$.selectAll=function(t){var e,n,r=[];t=Z(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=h(t.call(n,n.__data__,s,i))),e.parentNode=n);return V(r)};var G="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(e,n){return e=R.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function J(t){return t.trim().replace(/\s+/g," ")}function Q(t){return new RegExp("(?:^|\\s+)"+R.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(n,r){var i=(n=tt(n).map(nt)).length;return"function"==typeof r?function(){for(var t=-1,e=r.apply(this,arguments);++t<i;)n[t](this,e)}:function(){for(var t=-1;++t<i;)n[t](this,r)}}function nt(r){var i=Q(r);return function(t,e){if(n=t.classList)return e?n.add(r):n.remove(r);var n=t.getAttribute("class")||"";e?(i.lastIndex=0,i.test(n)||t.setAttribute("class",J(n+" "+r))):t.setAttribute("class",J(n.replace(i," ")))}}function rt(e,n,r){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}:function(){this.style.setProperty(e,n,r)}}function it(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function ot(n){return"function"==typeof n?n:(n=R.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===G&&t.documentElement.namespaceURI===G?t.createElement(n):t.createElementNS(e,n)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function ut(t){return function(){return W(this,t)}}function lt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,s=o.length;a<s;a++)(i=o[a])&&e(i,a,n);return t}function ct(t){return U(t,ft),t}R.ns={prefix:X,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}},$.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=R.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(K(e,t[e]));return this}return this.each(K(t,e))},$.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=tt(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Q(t[i]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},$.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(rt(n,t[n],e));return this}if(r<2){var i=this.node();return N(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(rt(t,e,n))},$.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},$.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},$.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},$.append=function(t){return t=ot(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$.insert=function(t,e){return t=ot(t),e=H(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},$.remove=function(){return this.each(at)},$.data=function(t,d){var e,n,r=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(e=this[0]).length);++r<i;)(n=e[r])&&(t[r]=n.__data__);return t}function o(t,e){var n,r,i,o=t.length,a=e.length,s=Math.min(o,a),u=new Array(a),l=new Array(a),c=new Array(o);if(d){var f,h=new g,p=new Array(o);for(n=-1;++n<o;)(r=t[n])&&(h.has(f=d.call(r,r.__data__,n))?c[n]=r:h.set(f,r),p[n]=f);for(n=-1;++n<a;)(r=h.get(f=d.call(e,i=e[n],n)))?!0!==r&&((u[n]=r).__data__=i):l[n]=st(i),h.set(f,!0);for(n=-1;++n<o;)n in p&&!0!==h.get(p[n])&&(c[n]=t[n])}else{for(n=-1;++n<s;)r=t[n],i=e[n],r?(r.__data__=i,u[n]=r):l[n]=st(i);for(;n<a;++n)l[n]=st(e[n]);for(;n<o;++n)c[n]=t[n]}l.update=u,l.parentNode=u.parentNode=c.parentNode=t.parentNode,m.push(l),y.push(u),v.push(c)}var m=ct([]),y=V([]),v=V([]);if("function"==typeof t)for(;++r<i;)o(e=this[r],t.call(e,e.parentNode.__data__,r));else for(;++r<i;)o(e=this[r],t);return y.enter=function(){return m},y.exit=function(){return v},y},$.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ut(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return V(i)},$.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];0<=--i;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},$.sort=function(t){t=function(n){arguments.length||(n=u);return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},$.each=function(r){return lt(this,function(t,e,n){r.call(t,t.__data__,e,n)})},$.call=function(t){var e=h(arguments);return t.apply(e[0]=this,e),this},$.empty=function(){return!this.node()},$.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},$.size=function(){var t=0;return lt(this,function(){++t}),t};var ft=[];function ht(i,e,n){var r="__on"+i,t=i.indexOf("."),o=dt;0<t&&(i=i.slice(0,t));var a=pt.get(i);function s(){var t=this[r];t&&(this.removeEventListener(i,t,t.$),delete this[r])}return a&&(i=a,o=mt),t?e?function(){var t=o(e,h(arguments));s.call(this),this.addEventListener(i,this[r]=t,t.$=n),t._=e}:s:e?A:function(){var t,e=new RegExp("^__on([^.]+)"+R.requote(i)+"$");for(var n in this)if(t=n.match(e)){var r=this[n];this.removeEventListener(t[1],r,r.$),delete this[n]}}}R.selection.enter=ct,(R.selection.enter.prototype=ft).append=$.append,ft.empty=$.empty,ft.node=$.node,ft.call=$.call,ft.size=$.size,ft.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return V(a)},ft.insert=function(t,e){var a,s,u;return arguments.length<2&&(a=this,e=function(t,e,n){var r,i=a[n].update,o=i.length;for(n!=u&&(u=n,s=0),s<=e&&(s=e+1);!(r=i[s])&&++s<o;);return r}),$.insert.call(this,t,e)},R.select=function(t){var e;return"string"==typeof t?(e=[q(t,_)]).parentNode=_.documentElement:(e=[t]).parentNode=s(t),V([e])},R.selectAll=function(t){var e;return"string"==typeof t?(e=h(Y(t,_))).parentNode=_.documentElement:(e=h(t)).parentNode=null,V([e])},$.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(ht(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(ht(t,e,n))};var pt=R.map({mouseenter:"mouseover",mouseleave:"mouseout"});function dt(n,r){return function(t){var e=R.event;R.event=t,r[0]=this.__data__;try{n.apply(this,r)}finally{R.event=e}}}function mt(t,e){var n=dt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}_&&pt.forEach(function(t){"on"+t in _&&pt.remove(t)});var yt,vt=0;function gt(t){var n=".dragsuppress-"+ ++vt,r="click"+n,i=R.select(N(t)).on("touchmove"+n,L).on("dragstart"+n,L).on("selectstart"+n,L);if(null==yt&&(yt=!("onselectstart"in t)&&C(t.style,"userSelect")),yt){var o=s(t).style,a=o[yt];o[yt]="none"}return function(t){if(i.on(n,null),yt&&(o[yt]=a),t){var e=function(){i.on(r,null)};i.on(r,function(){L(),e()},!0),setTimeout(e,0)}}}R.mouse=function(t){return bt(t,j())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function bt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(_t<0){var i=N(t);if(i.scrollX||i.scrollY){var o=(n=R.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(o.f||o.e),n.remove()}}return r.y=_t?(r.x=e.pageX,e.pageY):(r.x=e.clientX,e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function xt(){return R.event.changedTouches[0].identifier}R.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=j().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return bt(t,r)},R.behavior.drag=function(){var m=F(n,"drag","dragstart","dragend"),y=null,t=r(A,R.mouse,N,"mousemove","mouseup"),e=r(xt,R.touch,D,"touchmove","touchend");function n(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function r(c,f,h,p,d){return function(){var r,t=R.event.target.correspondingElement||R.event.target,i=this.parentNode,o=m.of(this,arguments),a=0,s=c(),e=".drag"+(null==s?"":"-"+s),n=R.select(h(t)).on(p+e,function(){var t,e,n=f(i,s);if(!n)return;t=n[0]-l[0],e=n[1]-l[1],a|=t|e,o({type:"drag",x:(l=n)[0]+r[0],y:n[1]+r[1],dx:t,dy:e})}).on(d+e,function(){if(!f(i,s))return;n.on(p+e,null).on(d+e,null),u(a),o({type:"dragend"})}),u=gt(t),l=f(i,s);r=y?[(r=y.apply(this,arguments)).x-l[0],r.y-l[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(t){return arguments.length?(y=t,n):y},R.rebind(n,m,"on")},R.touches=function(n,t){return arguments.length<2&&(t=j().touches),t?h(t).map(function(t){var e=bt(n,t);return e.identifier=t.identifier,e}):[]};var wt=1e-6,Et=wt*wt,St=Math.PI,kt=2*St,Mt=kt-wt,Tt=St/2,Ct=St/180,Pt=180/St;function At(t){return 0<t?1:t<0?-1:0}function Ot(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function zt(t){return 1<t?0:t<-1?St:Math.acos(t)}function It(t){return 1<t?Tt:t<-1?-Tt:Math.asin(t)}function Rt(t){return((t=Math.exp(t))+1/t)/2}function Nt(t){return(t=Math.sin(t/2))*t}var Dt=Math.SQRT2;R.interpolateZoom=function(t,e){var n,a,s=t[0],u=t[1],l=t[2],r=e[0],i=e[1],o=e[2],c=r-s,f=i-u,h=c*c+f*f;if(h<Et)a=Math.log(o/l)/Dt,n=function(t){return[s+t*c,u+t*f,l*Math.exp(Dt*t*a)]};else{var p=Math.sqrt(h),d=(o*o-l*l+4*h)/(2*l*2*p),m=(o*o-l*l-4*h)/(2*o*2*p),y=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);a=(v-y)/Dt,n=function(t){var e,n,r=t*a,i=Rt(y),o=l/(2*p)*(i*(n=Dt*r+y,((n=Math.exp(2*n))-1)/(n+1))-(e=y,((e=Math.exp(e))-1/e)/2));return[s+o*c,u+o*f,l*i/Rt(Dt*r+y)]}}return n.duration=1e3*a,n},R.behavior.zoom=function(){var e,u,n,r,b,i,o,a,s,x={x:0,y:0,k:1},l=[960,500],c=Ft,f=250,h=0,w="mousedown.zoom",p="mousemove.zoom",d="mouseup.zoom",E="touchstart.zoom",S=F(m,"zoomstart","zoom","zoomend");function m(t){t.on(w,z).on(jt+".zoom",v).on("dblclick.zoom",g).on(E,I)}function k(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function M(t){x.k=Math.max(c[0],Math.min(c[1],t))}function T(t,e){var n;e=[(n=e)[0]*x.k+x.x,n[1]*x.k+x.y],x.x+=t[0]-e[0],x.y+=t[1]-e[1]}function C(t,e,n,r){t.__chart__={x:x.x,y:x.y,k:x.k},M(Math.pow(2,r)),T(u=e,n),t=R.select(t),0<f&&(t=t.transition().duration(f)),t.call(m.event)}function y(){o&&o.domain(i.range().map(function(t){return(t-x.x)/x.k}).map(i.invert)),s&&s.domain(a.range().map(function(t){return(t-x.y)/x.k}).map(a.invert))}function P(t){h++||t({type:"zoomstart"})}function A(t){y(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function O(t){--h||(t({type:"zoomend"}),u=null)}function z(){var t=this,e=S.of(t,arguments),n=0,r=R.select(N(t)).on(p,function(){n=1,T(R.mouse(t),i),A(e)}).on(d,function(){r.on(p,null).on(d,null),o(n),O(e)}),i=k(R.mouse(t)),o=gt(t);ls.call(t),P(e)}function I(){var l,c=this,f=S.of(c,arguments),h={},p=0,i=".zoom-"+R.event.changedTouches[0].identifier,d="touchmove"+i,m="touchend"+i,y=[],o=R.select(c),a=gt(c);function v(){var t=R.touches(c);return l=x.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=k(t))}),t}function t(){var t=R.event.target;R.select(t).on(d,g).on(m,_),y.push(t);for(var e=R.event.changedTouches,n=0,r=e.length;n<r;++n)h[e[n].identifier]=null;var i=v(),o=Date.now();if(1===i.length){if(o-b<500){var a=i[0];C(c,a,h[a.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),L()}b=o}else if(1<i.length){a=i[0];var s=i[1],u=a[0]-s[0],l=a[1]-s[1];p=u*u+l*l}}function g(){var t,e,n,r,i=R.touches(c);ls.call(c);for(var o=0,a=i.length;o<a;++o,r=null)if(n=i[o],r=h[n.identifier]){if(e)break;t=n,e=r}if(r){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,u=p&&Math.sqrt(s/p);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],M(u*l)}b=null,T(t,e),A(f)}function _(){if(R.event.touches.length){for(var t=R.event.changedTouches,e=0,n=t.length;e<n;++e)delete h[t[e].identifier];for(var r in h)return void v()}R.selectAll(y).on(i,null),o.on(w,z).on(E,I),a(),O(f)}t(),P(f),o.on(w,null).on(E,t)}function v(){var t=S.of(this,arguments);r?clearTimeout(r):(ls.call(this),e=k(u=n||R.mouse(this)),P(t)),r=setTimeout(function(){r=null,O(t)},50),L(),M(Math.pow(2,.002*Lt())*x.k),T(u,e),A(t)}function g(){var t=R.mouse(this),e=Math.log(x.k)/Math.LN2;C(this,t,k(t),R.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return jt||(jt="onwheel"in _?(Lt=function(){return-R.event.deltaY*(R.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _?(Lt=function(){return R.event.wheelDelta},"mousewheel"):(Lt=function(){return-R.event.detail},"MozMousePixelScroll")),m.event=function(t){t.each(function(){var s=S.of(this,arguments),e=x;hs?R.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},P(s)}).tween("zoom:zoom",function(){var r=l[0],t=l[1],i=u?u[0]:r/2,o=u?u[1]:t/2,a=R.interpolateZoom([(i-x.x)/x.k,(o-x.y)/x.k,r/x.k],[(i-e.x)/e.k,(o-e.y)/e.k,r/e.k]);return function(t){var e=a(t),n=r/e[2];this.__chart__=x={x:i-e[0]*n,y:o-e[1]*n,k:n},A(s)}}).each("interrupt.zoom",function(){O(s)}).each("end.zoom",function(){O(s)}):(this.__chart__=x,P(s),A(s),O(s))})},m.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},y(),m):[x.x,x.y]},m.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},M(+t),y(),m):x.k},m.scaleExtent=function(t){return arguments.length?(c=null==t?Ft:[+t[0],+t[1]],m):c},m.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],m):n},m.size=function(t){return arguments.length?(l=t&&[+t[0],+t[1]],m):l},m.duration=function(t){return arguments.length?(f=+t,m):f},m.x=function(t){return arguments.length?(i=(o=t).copy(),x={x:0,y:0,k:1},m):o},m.y=function(t){return arguments.length?(a=(s=t).copy(),x={x:0,y:0,k:1},m):s},R.rebind(m,S,"on")};var Lt,jt,Ft=[0,1/0];function Bt(){}function Ut(t,e,n){return this instanceof Ut?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):le(""+t,ce,Ut):new Ut(t,e,n)}(R.color=Bt).prototype.toString=function(){return this.rgb()+""};var Vt=(R.hsl=Ut).prototype=new Bt;function qt(t,e,n){var r,i;function o(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,r=2*(n=n<0?0:1<n?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ie(o(t+120),o(t),o(t-120))}function Yt(t,e,n){return this instanceof Yt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Yt?new Yt(t.h,t.c,t.l):te(t instanceof Ht?t.l:(t=fe((t=R.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Yt(t,e,n)}Vt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},Vt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},Vt.rgb=function(){return qt(this.h,this.s,this.l)};var Wt=(R.hcl=Yt).prototype=new Bt;function $t(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Ht(n,Math.cos(t*=Ct)*e,Math.sin(t)*e)}function Ht(t,e,n){return this instanceof Ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Ht?new Ht(t.l,t.a,t.b):t instanceof Yt?$t(t.h,t.c,t.l):fe((t=ie(t)).r,t.g,t.b):new Ht(t,e,n)}Wt.brighter=function(t){return new Yt(this.h,this.c,Math.min(100,this.l+Zt*(arguments.length?t:1)))},Wt.darker=function(t){return new Yt(this.h,this.c,Math.max(0,this.l-Zt*(arguments.length?t:1)))},Wt.rgb=function(){return $t(this.h,this.c,this.l).rgb()},R.lab=Ht;var Zt=18,Gt=.95047,Xt=1,Kt=1.08883,Jt=Ht.prototype=new Bt;function Qt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new ie(re(3.2404542*(i=ee(i)*Gt)-1.5371385*(r=ee(r)*Xt)-.4985314*(o=ee(o)*Kt)),re(-.969266*i+1.8760108*r+.041556*o),re(.0556434*i-.2040259*r+1.0572252*o))}function te(t,e,n){return 0<t?new Yt(Math.atan2(n,e)*Pt,Math.sqrt(e*e+n*n),t):new Yt(NaN,NaN,t)}function ee(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ne(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ie(t,e,n){return this instanceof ie?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ie?new ie(t.r,t.g,t.b):le(""+t,ie,qt):new ie(t,e,n)}function oe(t){return new ie(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}Jt.brighter=function(t){return new Ht(Math.min(100,this.l+Zt*(arguments.length?t:1)),this.a,this.b)},Jt.darker=function(t){return new Ht(Math.max(0,this.l-Zt*(arguments.length?t:1)),this.a,this.b)},Jt.rgb=function(){return Qt(this.l,this.a,this.b)};var se=(R.rgb=ie).prototype=new Bt;function ue(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function le(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(pe(i[0]),pe(i[1]),pe(i[2]))}return(o=de.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function ce(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=u<.5?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=0<u&&u<1?0:r),new Ut(r,i,u)}function fe(t,e,n){var r=ne((.4124564*(t=he(t))+.3575761*(e=he(e))+.1804375*(n=he(n)))/Gt),i=ne((.2126729*t+.7151522*e+.072175*n)/Xt);return Ht(116*i-16,500*(r-i),200*(i-ne((.0193339*t+.119192*e+.9503041*n)/Kt)))}function he(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b;return e||n||r?(e&&e<30&&(e=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new ie(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ie(30,30,30)},se.darker=function(t){return new ie((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ce(this.r,this.g,this.b)},se.toString=function(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)};var de=R.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function me(t){return"function"==typeof t?t:function(){return t}}function ye(r){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),ve(t,e,r,n)}}function ve(i,o,a,t){var n,s={},u=R.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,f=null;function e(){var t,e,n,r=c.status;if(!r&&((n=(e=c).responseType)&&"text"!==n?e.response:e.responseText)||200<=r&&r<300||304===r){try{t=a.call(s,c)}catch(t){return void u.error.call(s,t)}u.load.call(s,t)}else u.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(i)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=R.event;R.event=t;try{u.progress.call(s,c)}finally{R.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(f=t,s):f},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(h(arguments)))}}),s.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),c.open(t,i,!0),null==o||"accept"in l||(l.accept=o+",*/*"),c.setRequestHeader)for(var r in l)c.setRequestHeader(r,l[r]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=f&&(c.responseType=f),null!=n&&s.on("error",n).on("load",function(t){n(null,t)}),u.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},R.rebind(s,u,"on"),null==t?s:s.get(1===(n=t).length?function(t,e){n(null==t?e:null)}:n)}de.forEach(function(t,e){de.set(t,oe(e))}),R.functor=me,R.xhr=ye(D),R.dsv=function(i,o){var e=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);function a(t,e,n){arguments.length<3&&(n=e,e=null);var r=ve(t,o,null==e?s:u(e),n);return r.row=function(t){return arguments.length?r.response(null==(e=t)?s:u(t)):e},r}function s(t){return a.parse(t.responseText)}function u(e){return function(t){return a.parse(t.responseText,e)}}function n(t){return t.map(l).join(i)}function l(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,r){var i;return a.parseRows(t,function(t,e){if(i)return i(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=r?function(t,e){return r(n(t),e)}:n})},a.parseRows=function(i,t){var e,o,a={},s={},n=[],u=i.length,l=0,r=0;function c(){if(u<=l)return s;if(o)return o=!1,a;var t=l;if(34===i.charCodeAt(t)){for(var e=t;e++<u;)if(34===i.charCodeAt(e)){if(34!==i.charCodeAt(e+1))break;++e}return l=e+2,13===(n=i.charCodeAt(e+1))?(o=!0,10===i.charCodeAt(e+2)&&++l):10===n&&(o=!0),i.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,r=1;if(10===(n=i.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===i.charCodeAt(l)&&(++l,++r);else if(n!==h)continue;return i.slice(t,l-r)}return i.slice(t)}for(;(e=c())!==s;){for(var f=[];e!==a&&e!==s;)f.push(e),e=c();t&&null==(f=t(f,r++))||n.push(f)}return n},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var n=new M,r=[];return t.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(l).join(i)].concat(t.map(function(e){return r.map(function(t){return l(e[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(n).join("\n")},a},R.csv=R.dsv(",","text/csv"),R.tsv=R.dsv("\t","text/tab-separated-values");var ge,_e,be,xe,we=this[C(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ee(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return _e?_e.n=i:ge=i,_e=i,be||(xe=clearTimeout(xe),be=1,we(Se)),i}function Se(){var t=ke(),e=Me()-t;24<e?(isFinite(e)&&(clearTimeout(xe),xe=setTimeout(Se,e)),be=0):(be=1,we(Se))}function ke(){for(var t=Date.now(),e=ge;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Me(){for(var t,e=ge,n=1/0;e;)e=e.c?(e.t<n&&(n=e.t),(t=e).n):t?t.n=e.n:ge=e.n;return _e=t,n}function Te(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}R.timer=function(){Ee.apply(this,arguments)},R.timer.flush=function(){ke(),Me()},R.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ce=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*I(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}});R.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=R.round(t,Te(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ce[8+n/3]};var Pe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ae=R.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=R.round(t,Te(t,e))).toFixed(Math.max(0,Math.min(20,Te(t*(1+1e-15),e))))}});function Oe(t){return t+""}var ze=R.time={},Ie=Date;function Re(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Re.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ne.setUTCDate.apply(this._,arguments)},setDay:function(){Ne.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ne.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ne.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ne.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ne.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ne.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ne.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ne.setTime.apply(this._,arguments)}};var Ne=Date.prototype;function De(r,o,a){function t(t){var e=r(t),n=i(e,1);return t-e<n-t?e:n}function s(t){return o(t=r(new Ie(t-1)),1),t}function i(t,e){return o(t=new Ie(+t),e),t}function u(t,e,n){var r=s(t),i=[];if(1<n)for(;r<e;)a(r)%n||i.push(new Date(+r)),o(r,1);else for(;r<e;)i.push(new Date(+r)),o(r,1);return i}(r.floor=r).round=t,r.ceil=s,r.offset=i,r.range=u;var e=r.utc=Le(r);return(e.floor=e).round=Le(t),e.ceil=Le(s),e.offset=Le(i),e.range=function(t,e,n){try{var r=new(Ie=Re);return r._=t,u(r,e,n)}finally{Ie=Date}},r}function Le(r){return function(t,e){try{var n=new(Ie=Re);return n._=t,r(n,e)._}finally{Ie=Date}}}ze.year=De(function(t){return(t=ze.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ze.years=ze.year.range,ze.years.utc=ze.year.utc.range,ze.day=De(function(t){var e=new Ie(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ze.days=ze.day.range,ze.days.utc=ze.day.utc.range,ze.dayOfYear=function(t){var e=ze.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=ze[t]=De(function(t){return(t=ze.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});ze[t+"s"]=e.range,ze[t+"s"].utc=e.utc.range,ze[t+"OfYear"]=function(t){var e=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(e+n)%7)/7)}}),ze.week=ze.sunday,ze.weeks=ze.sunday.range,ze.weeks.utc=ze.sunday.utc.range,ze.weekOfYear=ze.sundayOfYear;var je={"-":"",_:" ",0:"0"},Fe=/^\s*\d+/,Be=/^%/;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ve(t){return new RegExp("^(?:"+t.map(R.requote).join("|")+")","i")}function qe(t){for(var e=new g,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ye(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function We(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function $e(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function He(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){Fe.lastIndex=0;var r,i=Fe.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(68<r?1900:2e3),n+i[0].length):-1}function Ge(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Xe(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ke(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Je(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Qe(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tn(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function en(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nn(t,e,n){Fe.lastIndex=0;var r=Fe.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rn(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",r=I(e)/60|0,i=I(e)%60;return n+Ue(r,"0",2)+Ue(i,"0",2)}function on(t,e,n){Be.lastIndex=0;var r=Be.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function an(r){for(var t=r.length,e=-1;++e<t;)r[e][0]=this(r[e][0]);return function(t){for(var e=0,n=r[e];!n[1](t);)n=r[++e];return n[0](t)}}R.locale=function(t){return{numberFormat:(e=t,S=e.decimal,s=e.thousands,u=e.grouping,r=e.currency,k=u&&s?function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}:D,function(t){var e=Pe.exec(t),c=e[1]||" ",f=e[2]||">",h=e[3]||"-",n=e[4]||"",p=e[5],d=+e[6],m=e[7],y=e[8],v=e[9],g=1,_="",b="",x=!1,w=!0;switch(y&&(y=+y.substring(1)),(p||"0"===c&&"="===f)&&(p=c="0",f="="),v){case"n":m=!0,v="g";break;case"%":g=100,b="%",v="f";break;case"p":g=100,b="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(_="0"+v.toLowerCase());case"c":w=!1;case"d":x=!0,y=0;break;case"s":g=-1,v="r"}"$"===n&&(_=r[0],b=r[1]),"r"!=v||y||(v="g"),null!=y&&("g"==v?y=Math.max(1,Math.min(21,y)):"e"!=v&&"f"!=v||(y=Math.max(0,Math.min(20,y)))),v=Ae.get(v)||Oe;var E=p&&m;return function(t){var e=b;if(x&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(g<0){var r=R.formatPrefix(t,y);t=r.scale(t),e=r.symbol+b}else t*=g;var i,o,a=(t=v(t,y)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;o=s<0?(i=t,""):(i=t.substring(0,s),t.substring(s))}else i=t.substring(0,a),o=S+t.substring(a+1);!p&&m&&(i=k(i,1/0));var u=_.length+i.length+o.length+(E?0:n.length),l=u<d?new Array(u=d-u+1).join(c):"";return E&&(i=k(l+i,l.length?d-o.length:1/0)),n+=_,t=i+o,("<"===f?n+t+l:">"===f?l+n+t:"^"===f?l.substring(0,u>>=1)+n+t+l.substring(u):n+(E?t:l+t))+e}}),timeFormat:function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths;function l(s){var u=s.length;function t(t){for(var e,n,r,i=[],o=-1,a=0;++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=je[e=s.charAt(++o)])&&(e=s.charAt(++o)),(r=b[e])&&(e=r(t,null==n?"e"===e?" ":"0":n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&Ie!==Re,r=new(n?Re:Ie);return"j"in e?r.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),r.setFullYear(e.y,0,1),r.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(r.getDay()+5)%7:e.w+7*e.U-(r.getDay()+6)%7)):r.setFullYear(e.y,e.m,e.d),r.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?r._:r},t.toString=function(){return s},t}function c(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(l<=r)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=x[a in je?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}l.multi=(l.utc=function(t){var n=l(t);function e(t){try{var e=new(Ie=Re);return e._=t,n(e)}finally{Ie=Date}}return e.parse=function(t){try{Ie=Re;var e=n.parse(t);return e&&e._}finally{Ie=Date}},e.toString=n.toString,e}).multi=an;var f=R.map(),h=Ve(o),p=qe(o),d=Ve(a),m=qe(a),y=Ve(s),v=qe(s),g=Ve(u),_=qe(u);i.forEach(function(t,e){f.set(t.toLowerCase(),e)});var b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:l(e),d:function(t,e){return Ue(t.getDate(),e,2)},e:function(t,e){return Ue(t.getDate(),e,2)},H:function(t,e){return Ue(t.getHours(),e,2)},I:function(t,e){return Ue(t.getHours()%12||12,e,2)},j:function(t,e){return Ue(1+ze.dayOfYear(t),e,3)},L:function(t,e){return Ue(t.getMilliseconds(),e,3)},m:function(t,e){return Ue(t.getMonth()+1,e,2)},M:function(t,e){return Ue(t.getMinutes(),e,2)},p:function(t){return i[+(12<=t.getHours())]},S:function(t,e){return Ue(t.getSeconds(),e,2)},U:function(t,e){return Ue(ze.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ue(ze.mondayOfYear(t),e,2)},x:l(n),X:l(r),y:function(t,e){return Ue(t.getFullYear()%100,e,2)},Y:function(t,e){return Ue(t.getFullYear()%1e4,e,4)},Z:rn,"%":function(){return"%"}},x={a:function(t,e,n){d.lastIndex=0;var r=d.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){y.lastIndex=0;var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return c(t,b.c.toString(),e,n)},d:Ke,e:Ke,H:Qe,I:Qe,j:Je,L:nn,m:Xe,M:tn,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:en,U:We,w:Ye,W:$e,x:function(t,e,n){return c(t,b.x.toString(),e,n)},X:function(t,e,n){return c(t,b.X.toString(),e,n)},y:Ze,Y:He,Z:Ge,"%":on};return l}(t)};var e,S,s,u,r,k};var sn=R.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function un(){}R.format=sn.numberFormat,R.geo={},un.prototype={s:0,t:0,add:function(t){cn(t,this.t,ln),cn(ln.s,this.s,this),this.s?this.t+=ln.t:this.s=ln.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ln=new un;function cn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function fn(t,e){t&&pn.hasOwnProperty(t.type)&&pn[t.type](t,e)}R.geo.stream=function(t,e){t&&hn.hasOwnProperty(t.type)?hn[t.type](t,e):fn(t,e)};var hn={Feature:function(t,e){fn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fn(n[r].geometry,e)}},pn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){dn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dn(n[r],e,0)},Polygon:function(t,e){mn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)mn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fn(n[r],e)}};function dn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function mn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)dn(t[n],e,1);e.polygonEnd()}R.geo.area=function(t){return yn=0,R.geo.stream(t,Pn),yn};var yn,vn,gn,_n,bn,xn,wn,En,Sn,kn,Mn,Tn,Cn=new un,Pn={sphere:function(){yn+=4*St},point:A,lineStart:A,lineEnd:A,polygonStart:function(){Cn.reset(),Pn.lineStart=An},polygonEnd:function(){var t=2*Cn;yn+=t<0?4*St+t:t,Pn.lineStart=Pn.lineEnd=Pn.point=A}};function An(){var n,r,c,f,h;function i(t,e){e=e*Ct/2+St/4;var n=(t*=Ct)-c,r=0<=n?1:-1,i=r*n,o=Math.cos(e),a=Math.sin(e),s=h*a,u=f*o+s*Math.cos(i),l=s*r*Math.sin(i);Cn.add(Math.atan2(l,u)),c=t,f=o,h=a}Pn.point=function(t,e){Pn.point=i,c=(n=t)*Ct,f=Math.cos(e=(r=e)*Ct/2+St/4),h=Math.sin(e)},Pn.lineEnd=function(){i(n,r)}}function On(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function zn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function In(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Nn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Dn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ln(t){return[Math.atan2(t[1],t[0]),It(t[2])]}function jn(t,e){return I(t[0]-e[0])<wt&&I(t[1]-e[1])<wt}R.geo.bounds=function(){var c,f,h,p,d,r,i,m,o,u,l,y={point:v,lineStart:t,lineEnd:e,polygonStart:function(){y.point=n,y.lineStart=s,y.lineEnd=g,o=0,Pn.polygonStart()},polygonEnd:function(){Pn.polygonEnd(),y.point=v,y.lineStart=t,y.lineEnd=e,Cn<0?(c=-(h=180),f=-(p=90)):wt<o?p=90:o<-wt&&(f=-90),l[0]=c,l[1]=h}};function v(t,e){u.push(l=[c=t,h=t]),e<f&&(f=e),p<e&&(p=e)}function a(t,e){var n=On([t*Ct,e*Ct]);if(m){var r=In(m,n),i=In([r[1],-r[0],0],r);Dn(i),i=Ln(i);var o=t-d,a=0<o?1:-1,s=i[0]*Pt*a,u=180<I(o);if(u^(a*d<s&&s<a*t)){var l=i[1]*Pt;p<l&&(p=l)}else if(u^(a*d<(s=(s+360)%360-180)&&s<a*t)){(l=-i[1]*Pt)<f&&(f=l)}else e<f&&(f=e),p<e&&(p=e);u?t<d?_(c,t)>_(c,h)&&(h=t):_(t,h)>_(c,h)&&(c=t):c<=h?(t<c&&(c=t),h<t&&(h=t)):d<t?_(c,t)>_(c,h)&&(h=t):_(t,h)>_(c,h)&&(c=t)}else v(t,e);m=n,d=t}function t(){y.point=a}function e(){l[0]=c,l[1]=h,y.point=v,m=null}function n(t,e){if(m){var n=t-d;o+=180<I(n)?n+(0<n?360:-360):n}else r=t,i=e;Pn.point(t,e),a(t,e)}function s(){Pn.lineStart()}function g(){n(r,i),Pn.lineEnd(),I(o)>wt&&(c=-(h=180)),l[0]=c,l[1]=h,m=null}function _(t,e){return(e-=t)<0?e+360:e}function b(t,e){return t[0]-e[0]}function x(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(p=h=-(c=f=1/0),u=[],R.geo.stream(t,y),i=u.length){u.sort(b);for(var e=1,n=[s=u[0]];e<i;++e)x((o=u[e])[0],s)||x(o[1],s)?(_(s[0],o[1])>_(s[0],s[1])&&(s[1]=o[1]),_(o[0],s[1])>_(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var r,i,o,a=-1/0,s=(e=0,n[i=n.length-1]);e<=i;s=o,++e)o=n[e],(r=_(s[1],o[0]))>a&&(a=r,c=o[0],h=s[1])}return u=l=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,p]]}}(),R.geo.centroid=function(t){vn=gn=_n=bn=xn=wn=En=Sn=kn=Mn=Tn=0,R.geo.stream(t,Fn);var e=kn,n=Mn,r=Tn,i=e*e+n*n+r*r;return i<Et&&(e=wn,n=En,r=Sn,gn<wt&&(e=_n,n=bn,r=xn),(i=e*e+n*n+r*r)<Et)?[NaN,NaN]:[Math.atan2(n,e)*Pt,It(r/Math.sqrt(i))*Pt]};var Fn={sphere:A,point:Bn,lineStart:Vn,lineEnd:qn,polygonStart:function(){Fn.lineStart=Yn},polygonEnd:function(){Fn.lineStart=Vn}};function Bn(t,e){t*=Ct;var n=Math.cos(e*=Ct);Un(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Un(t,e,n){_n+=(t-_n)/++vn,bn+=(e-bn)/vn,xn+=(n-xn)/vn}function Vn(){var s,u,l;function r(t,e){t*=Ct;var n=Math.cos(e*=Ct),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=u*o-l*i)*a+(a=l*r-s*o)*a+(a=s*i-u*r)*a),s*r+u*i+l*o);gn+=a,wn+=a*(s+(s=r)),En+=a*(u+(u=i)),Sn+=a*(l+(l=o)),Un(s,u,l)}Fn.point=function(t,e){t*=Ct;var n=Math.cos(e*=Ct);s=n*Math.cos(t),u=n*Math.sin(t),l=Math.sin(e),Fn.point=r,Un(s,u,l)}}function qn(){Fn.point=Bn}function Yn(){var r,i,p,d,m;function o(t,e){t*=Ct;var n=Math.cos(e*=Ct),r=n*Math.cos(t),i=n*Math.sin(t),o=Math.sin(e),a=d*o-m*i,s=m*r-p*o,u=p*i-d*r,l=Math.sqrt(a*a+s*s+u*u),c=p*r+d*i+m*o,f=l&&-zt(c)/l,h=Math.atan2(l,c);kn+=f*a,Mn+=f*s,Tn+=f*u,gn+=h,wn+=h*(p+(p=r)),En+=h*(d+(d=i)),Sn+=h*(m+(m=o)),Un(p,d,m)}Fn.point=function(t,e){r=t,i=e,Fn.point=o,t*=Ct;var n=Math.cos(e*=Ct);p=n*Math.cos(t),d=n*Math.sin(t),m=Math.sin(e),Un(p,d,m)},Fn.lineEnd=function(){o(r,i),Fn.lineEnd=qn,Fn.point=Bn}}function Wn(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function $n(){return!0}function Hn(t,e,n,r,s){var u=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(jn(n,r)){s.lineStart();for(var i=0;i<e;++i)s.point((n=t[i])[0],n[1]);s.lineEnd()}else{var o=new Gn(n,t,null,!0),a=new Gn(n,null,o,!1);o.o=a,u.push(o),l.push(a),a=new Gn(r,null,o=new Gn(r,t,null,!1),!0),o.o=a,u.push(o),l.push(a)}}}),l.sort(e),Zn(u),Zn(l),u.length){for(var i=0,o=n,a=l.length;i<a;++i)l[i].e=o=!o;for(var c,f,h=u[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;c=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(i=0,a=c.length;i<a;++i)s.point((f=c[i])[0],f[1]);else r(p.x,p.n.x,1,s);p=p.n}else{if(d)for(i=(c=p.p.z).length-1;0<=i;--i)s.point((f=c[i])[0],f[1]);else r(p.x,p.p.x,-1,s);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);s.lineEnd()}}}function Zn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Gn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Xn(g,_,b,x){return function(r,a){var s,i=_(a),e=r.invert(x[0],x[1]),n={point:o,lineStart:u,lineEnd:l,polygonStart:function(){n.point=m,n.lineStart=y,n.lineEnd=v,s=[],c=[]},polygonEnd:function(){n.point=o,n.lineStart=u,n.lineEnd=l,s=R.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Cn.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],p=f[1]/2+St/4,d=Math.sin(p),m=Math.cos(p),y=1;;){y===c&&(y=0);var v=(t=l[y])[0],g=t[1]/2+St/4,_=Math.sin(g),b=Math.cos(g),x=v-h,w=0<=x?1:-1,E=w*x,S=St<E,k=d*_;if(Cn.add(Math.atan2(k*w*Math.sin(E),m*b+k*Math.cos(E))),o+=S?x+w*kt:x,S^n<=h^n<=v){var M=In(On(f),On(t));Dn(M);var T=In(i,M);Dn(T);var C=(S^0<=x?-1:1)*It(T[2]);(C<r||r===C&&(M[0]||M[1]))&&(a+=S^0<=x?1:-1)}if(!y++)break;h=v,d=_,m=b,f=t}}return(o<-wt||o<wt&&Cn<0)^1&a}(e,c);s.length?(d||(a.polygonStart(),d=!0),Hn(s,Qn,t,b,a)):t&&(d||(a.polygonStart(),d=!0),a.lineStart(),b(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),b(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var n=r(t,e);g(t=n[0],e=n[1])&&a.point(t,e)}function t(t,e){var n=r(t,e);i.point(n[0],n[1])}function u(){n.point=t,i.lineStart()}function l(){n.point=o,i.lineEnd()}var c,f,h=Jn(),p=_(h),d=!1;function m(t,e){f.push([t,e]);var n=r(t,e);p.point(n[0],n[1])}function y(){p.lineStart(),f=[]}function v(){m(f[0][0],f[0][1]),p.lineEnd();var t,e=p.clean(),n=h.buffer(),r=n.length;if(f.pop(),c.push(f),f=null,r)if(1&e){var i,o=-1;if(0<(r=(t=n[0]).length-1)){for(d||(a.polygonStart(),d=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Kn))}return n}}function Kn(t){return 1<t.length}function Jn(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:A,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Qn(t,e){return((t=t.x)[0]<0?t[1]-Tt-wt:Tt-t[1])-((e=e.x)[0]<0?e[1]-Tt-wt:Tt-e[1])}var tr=Xn($n,function(f){var h,p=NaN,d=NaN,m=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,e){var n,r,i,o,a,s,u,l=0<t?St:-St,c=I(t-p);I(c-St)<wt?(f.point(p,d=0<(d+e)/2?Tt:-Tt),f.point(m,d),f.lineEnd(),f.lineStart(),f.point(l,d),f.point(t,d),h=0):m!==l&&St<=c&&(I(p-m)<wt&&(p-=m*wt),I(t-l)<wt&&(t-=l*wt),n=p,r=d,i=t,o=e,u=Math.sin(n-i),d=I(u)>wt?Math.atan((Math.sin(r)*(s=Math.cos(o))*Math.sin(i)-Math.sin(o)*(a=Math.cos(r))*Math.sin(n))/(a*s*u)):(r+o)/2,f.point(m,d),f.lineEnd(),f.lineStart(),f.point(l,d),h=0),f.point(p=t,d=e),m=l},lineEnd:function(){f.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;if(null==t)i=n*Tt,r.point(-St,i),r.point(0,i),r.point(St,i),r.point(St,0),r.point(St,-i),r.point(0,-i),r.point(-St,-i),r.point(-St,0),r.point(-St,i);else if(I(t[0]-e[0])>wt){var o=t[0]<e[0]?St:-St;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-St,-St/2]);function er(c,f,h,p){return function(t){var e,n=t.a,r=t.b,i=n.x,o=n.y,a=0,s=1,u=r.x-i,l=r.y-o;if(e=c-i,u||!(0<e)){if(e/=u,u<0){if(e<a)return;e<s&&(s=e)}else if(0<u){if(s<e)return;a<e&&(a=e)}if(e=h-i,u||!(e<0)){if(e/=u,u<0){if(s<e)return;a<e&&(a=e)}else if(0<u){if(e<a)return;e<s&&(s=e)}if(e=f-o,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=p-o,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:i+a*u,y:o+a*l}),s<1&&(t.b={x:i+s*u,y:o+s*l}),t}}}}}}var nr=1e9;function rr(b,x,w,E){return function(i){var r,c,o,a,s,u,l,f,h,p,d,m=i,t=Jn(),y=er(b,x,w,E),e={point:n,lineStart:function(){e.point=_,c&&c.push(o=[]);p=!0,h=!1,l=f=NaN},lineEnd:function(){r&&(_(a,s),u&&h&&t.rejoin(),r.push(t.buffer()));e.point=n,h&&i.lineEnd()},polygonStart:function(){i=t,r=[],c=[],d=!0},polygonEnd:function(){i=m,r=R.merge(r);var t=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,s=c[i],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=r?o[1]>r&&0<Ot(l,o,t)&&++e:o[1]<=r&&Ot(l,o,t)<0&&--e,l=o;return 0!==e}([b,E]),e=d&&t,n=r.length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),v(null,null,1,i),i.lineEnd()),n&&Hn(r,k,t,v,i),i.polygonEnd()),r=c=o=null}};function v(t,e,n,r){var i=0,o=0;if(null==t||(i=S(t,n))!==(o=S(e,n))||M(t,e)<0^0<n)for(;r.point(0===i||3===i?b:w,1<i?E:x),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function g(t,e){return b<=t&&t<=w&&x<=e&&e<=E}function n(t,e){g(t,e)&&i.point(t,e)}function _(t,e){var n=g(t=Math.max(-nr,Math.min(nr,t)),e=Math.max(-nr,Math.min(nr,e)));if(c&&o.push([t,e]),p)a=t,s=e,p=!1,(u=n)&&(i.lineStart(),i.point(t,e));else if(n&&h)i.point(t,e);else{var r={a:{x:l,y:f},b:{x:t,y:e}};y(r)?(h||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),n||i.lineEnd(),d=!1):n&&(i.lineStart(),i.point(t,e),d=!1)}l=t,f=e,h=n}return e};function S(t,e){return I(t[0]-b)<wt?0<e?0:3:I(t[0]-w)<wt?0<e?2:1:I(t[1]-x)<wt?0<e?1:0:0<e?3:2}function k(t,e){return M(t.x,e.x)}function M(t,e){var n=S(t,1),r=S(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function ir(t){var e=0,n=St/3,r=Cr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*St/180,n=t[1]*St/180):[e/St*180,n/St*180]},i}function or(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,It((i-(t*t+n*n)*r*r)/(2*r))]},a}R.geo.clipExtent=function(){var e,n,r,i,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=rr(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,i]]}};return s.extent([[0,0],[960,500]])},(R.geo.conicEqualArea=function(){return ir(or)}).raw=or,R.geo.albers=function(){return R.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},R.geo.albersUsa=function(){var r,i,o,a,s=R.geo.albers(),u=R.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=R.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,i(e,n),r||(o(e,n),r)||a(e,n),r}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:s).invert(t)},f.stream=function(t){var n=s.stream(t),r=u.stream(t),i=l.stream(t);return{point:function(t,e){n.point(t,e),r.point(t,e),i.point(t,e)},sphere:function(){n.sphere(),r.sphere(),i.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),l.precision(t),f):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),l.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c).point,o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+wt,r+.12*e+wt],[n-.214*e-wt,r+.234*e-wt]]).stream(c).point,a=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+wt,r+.166*e+wt],[n-.115*e-wt,r+.234*e-wt]]).stream(c).point,f},f.scale(1070)};var ar,sr,ur,lr,cr,fr,hr={point:A,lineStart:A,lineEnd:A,polygonStart:function(){sr=0,hr.lineStart=pr},polygonEnd:function(){hr.lineStart=hr.lineEnd=hr.point=A,ar+=I(sr/2)}};function pr(){var n,r,i,o;function a(t,e){sr+=o*t-i*e,i=t,o=e}hr.point=function(t,e){hr.point=a,n=i=t,r=o=e},hr.lineEnd=function(){a(n,r)}}var dr={point:function(t,e){t<ur&&(ur=t);cr<t&&(cr=t);e<lr&&(lr=e);fr<e&&(fr=e)},lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A};function mr(){var n=yr(4.5),r=[],i={point:t,lineStart:function(){i.point=e},lineEnd:a,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return n=yr(t),i},result:function(){if(r.length){var t=r.join("");return r=[],t}}};function t(t,e){r.push("M",t,",",e,n)}function e(t,e){r.push("M",t,",",e),i.point=o}function o(t,e){r.push("L",t,",",e)}function a(){i.point=t}function s(){r.push("Z")}return i}function yr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var vr,gr={point:_r,lineStart:br,lineEnd:xr,polygonStart:function(){gr.lineStart=wr},polygonEnd:function(){gr.point=_r,gr.lineStart=br,gr.lineEnd=xr}};function _r(t,e){_n+=t,bn+=e,++xn}function br(){var o,a;function n(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);wn+=i*(o+t)/2,En+=i*(a+e)/2,Sn+=i,_r(o=t,a=e)}gr.point=function(t,e){gr.point=n,_r(o=t,a=e)}}function xr(){gr.point=_r}function wr(){var n,r,o,a;function i(t,e){var n=t-o,r=e-a,i=Math.sqrt(n*n+r*r);wn+=i*(o+t)/2,En+=i*(a+e)/2,Sn+=i,kn+=(i=a*t-o*e)*(o+t),Mn+=i*(a+e),Tn+=3*i,_r(o=t,a=e)}gr.point=function(t,e){gr.point=i,_r(n=o=t,r=a=e)},gr.lineEnd=function(){i(n,r)}}function Er(n){var r=4.5,i={point:t,lineStart:function(){i.point=e},lineEnd:a,polygonStart:function(){i.lineEnd=s},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return r=t,i},result:A};function t(t,e){n.moveTo(t+r,e),n.arc(t,e,r,0,kt)}function e(t,e){n.moveTo(t,e),i.point=o}function o(t,e){n.lineTo(t,e)}function a(){i.point=t}function s(){n.closePath()}return i}function Sr(P){var A=.5,O=Math.cos(30*Ct),x=16;function e(t){return(x?function(i){var n,r,o,a,s,u,l,c,f,h,p,d,m={point:t,lineStart:e,lineEnd:v,polygonStart:function(){i.polygonStart(),m.lineStart=g},polygonEnd:function(){i.polygonEnd(),m.lineStart=e}};function t(t,e){t=P(t,e),i.point(t[0],t[1])}function e(){c=NaN,m.point=y,i.lineStart()}function y(t,e){var n=On([t,e]),r=P(t,e);z(c,f,l,h,p,d,c=r[0],f=r[1],l=t,h=n[0],p=n[1],d=n[2],x,i),i.point(c,f)}function v(){m.point=t,i.lineEnd()}function g(){e(),m.point=_,m.lineEnd=b}function _(t,e){y(n=t,e),r=c,o=f,a=h,s=p,u=d,m.point=y}function b(){z(c,f,l,h,p,d,r,o,n,a,s,u,x,i),(m.lineEnd=v)()}return m}:function(n){return Mr(n,function(t,e){t=P(t,e),n.point(t[0],t[1])})})(t)}function z(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d=a-t,m=s-e,y=d*d+m*m;if(4*A<y&&h--){var v=r+l,g=i+c,_=o+f,b=Math.sqrt(v*v+g*g+_*_),x=Math.asin(_/=b),w=I(I(_)-1)<wt||I(n-u)<wt?(n+u)/2:Math.atan2(g,v),E=P(w,x),S=E[0],k=E[1],M=S-t,T=k-e,C=m*M-d*T;(A<C*C/y||.3<I((d*M+m*T)/y-.5)||r*l+i*c+o*f<O)&&(z(t,e,n,r,i,o,S,k,w,v/=b,g/=b,_,h,p),p.point(S,k),z(S,k,w,v,g,_,a,s,u,l,c,f,h,p))}}return e.precision=function(t){return arguments.length?(x=0<(A=t*t)&&16,e):Math.sqrt(A)},e}function kr(t){this.stream=t}function Mr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Tr(t){return Cr(function(){return t})()}function Cr(t){var n,e,r,i,o,a,s=Sr(function(t,e){return[(t=n(t,e))[0]*u+i,o-t[1]*u]}),u=150,l=480,c=250,f=0,h=0,p=0,d=0,m=0,y=tr,v=D,g=null,_=null;function b(t){return[(t=r(t[0]*Ct,t[1]*Ct))[0]*u+i,o-t[1]*u]}function x(t){return(t=r.invert((t[0]-i)/u,(o-t[1])/u))&&[t[0]*Pt,t[1]*Pt]}function w(){r=Wn(e=zr(p,d,m),n);var t=n(f,h);return i=l-t[0]*u,o=c+t[1]*u,E()}function E(){return a&&(a.valid=!1,a=null),b}return b.stream=function(t){return a&&(a.valid=!1),(a=Pr(y(e,s(v(t))))).valid=!0,a},b.clipAngle=function(t){return arguments.length?(y=null==t?(g=t,tr):function(i){var M=Math.cos(i),p=0<M,d=I(M)>wt;return Xn(m,function(s){var u,l,c,f,h;return{lineStart:function(){f=c=!1,h=1},point:function(t,e){var n,r=[t,e],i=m(t,e),o=p?i?0:v(t,e):i?v(t+(t<0?St:-St),e):0;if(!u&&(f=c=i)&&s.lineStart(),i!==c&&(n=y(u,r),(jn(u,n)||jn(r,n))&&(r[0]+=wt,r[1]+=wt,i=m(r[0],r[1]))),i!==c)h=0,i?(s.lineStart(),n=y(r,u),s.point(n[0],n[1])):(n=y(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(d&&u&&p^i){var a;o&l||!(a=y(r,u,!0))||(h=0,p?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&jn(u,r)||s.point(r[0],r[1]),u=r,c=i,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return h|(f&&c)<<1}}},Dr(i,6*Ct),p?[0,-i]:[-St,i-St]);function m(t,e){return Math.cos(t)*Math.cos(e)>M}function y(t,e,n){var r=[1,0,0],i=In(On(t),On(e)),o=zn(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=M*o/s,l=-M*a/s,c=In(r,i),f=Nn(r,u);Rn(f,Nn(i,l));var h=c,p=zn(f,h),d=zn(h,h),m=p*p-d*(zn(f,f)-1);if(!(m<0)){var y=Math.sqrt(m),v=Nn(h,(-p-y)/d);if(Rn(v,f),v=Ln(v),!n)return v;var g,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(g=_,_=b,b=g);var E=b-_,S=I(E-St)<wt;if(!S&&w<x&&(g=x,x=w,w=g),S||E<wt?S?0<x+w^v[1]<(I(v[0]-_)<wt?x:w):x<=v[1]&&v[1]<=w:St<E^(_<=v[0]&&v[0]<=b)){var k=Nn(h,(-p+y)/d);return Rn(k,f),[v,Ln(k)]}}}function v(t,e){var n=p?i:St-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}}((g=+t)*Ct),E()):g},b.clipExtent=function(t){return arguments.length?(v=(_=t)?rr(t[0][0],t[0][1],t[1][0],t[1][1]):D,E()):_},b.scale=function(t){return arguments.length?(u=+t,w()):u},b.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],w()):[l,c]},b.center=function(t){return arguments.length?(f=t[0]%360*Ct,h=t[1]%360*Ct,w()):[f*Pt,h*Pt]},b.rotate=function(t){return arguments.length?(p=t[0]%360*Ct,d=t[1]%360*Ct,m=2<t.length?t[2]%360*Ct:0,w()):[p*Pt,d*Pt,m*Pt]},R.rebind(b,s,"precision"),function(){return n=t.apply(this,arguments),b.invert=n.invert&&x,w()}}function Pr(n){return Mr(n,function(t,e){n.point(t*Ct,e*Ct)})}function Ar(t,e){return[t,e]}function Or(t,e){return[St<t?t-kt:t<-St?t+kt:t,e]}function zr(t,e,n){return t?e||n?Wn(Rr(t),Nr(e,n)):Rr(t):e||n?Nr(e,n):Or}function Ir(n){return function(t,e){return[St<(t+=n)?t-kt:t<-St?t+kt:t,e]}}function Rr(t){var e=Ir(t);return e.invert=Ir(-t),e}function Nr(t,e){var s=Math.cos(t),u=Math.sin(t),l=Math.cos(e),c=Math.sin(e);function n(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*s+r*u;return[Math.atan2(i*l-a*c,r*s-o*u),It(a*l+i*c)]}return n.invert=function(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=Math.sin(t)*n,o=Math.sin(e),a=o*l-i*c;return[Math.atan2(i*l+o*c,r*s+a*u),It(a*s-r*u)]},n}function Dr(s,u){var l=Math.cos(s),c=Math.sin(s);return function(t,e,n,r){var i=n*u;null!=t?(t=Lr(l,t),e=Lr(l,e),(0<n?t<e:e<t)&&(t+=n*kt)):(t=s+n*kt,e=s-.5*i);for(var o,a=t;0<n?e<a:a<e;a-=i)r.point((o=Ln([l,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function Lr(t,e){var n=On(e);n[0]-=t,Dn(n);var r=zt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-wt)%(2*Math.PI)}function jr(t,e,n){var r=R.range(t,e-wt,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Fr(t,e,n){var r=R.range(t,e-wt,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Br(t){return t.source}function Ur(t){return t.target}R.geo.path=function(){var r,e,i,n,o,a=4.5;function s(t){return t&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(n)),R.geo.stream(t,o)),n.result()}function u(){return o=null,s}return s.area=function(t){return ar=0,R.geo.stream(t,i(hr)),ar},s.centroid=function(t){return _n=bn=xn=wn=En=Sn=kn=Mn=Tn=0,R.geo.stream(t,i(gr)),Tn?[kn/Tn,Mn/Tn]:Sn?[wn/Sn,En/Sn]:xn?[_n/xn,bn/xn]:[NaN,NaN]},s.bounds=function(t){return cr=fr=-(ur=lr=1/0),R.geo.stream(t,i(dr)),[[ur,lr],[cr,fr]]},s.projection=function(t){return arguments.length?(i=(r=t)?t.stream||(n=t,e=Sr(function(t,e){return n([t*Pt,e*Pt])}),function(t){return Pr(e(t))}):D,u()):r;var n,e},s.context=function(t){return arguments.length?(n=null==(e=t)?new mr:new Er(t),"function"!=typeof a&&n.pointRadius(a),u()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(n.pointRadius(+t),+t),s):a},s.projection(R.geo.albersUsa()).context(null)},R.geo.transform=function(r){return{stream:function(t){var e=new kr(t);for(var n in r)e[n]=r[n];return e}}},kr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},R.geo.projection=Tr,R.geo.projectionMutator=Cr,(R.geo.equirectangular=function(){return Tr(Ar)}).raw=Ar.invert=Ar,R.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ct,t[1]*Ct))[0]*=Pt,t[1]*=Pt,t}return e=zr(e[0]%360*Ct,e[1]*Ct,2<e.length?e[2]*Ct:0),t.invert=function(t){return(t=e.invert(t[0]*Ct,t[1]*Ct))[0]*=Pt,t[1]*=Pt,t},t},Or.invert=Ar,R.geo.circle=function(){var e,i,o=[0,0],n=6;function r(){var t="function"==typeof o?o.apply(this,arguments):o,n=zr(-t[0]*Ct,-t[1]*Ct,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=Pt,t[1]*=Pt}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(o=t,r):o},r.angle=function(t){return arguments.length?(i=Dr((e=+t)*Ct,n*Ct),r):e},r.precision=function(t){return arguments.length?(i=Dr(e*Ct,(n=+t)*Ct),r):n},r.angle(90)},R.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ct,i=t[1]*Ct,o=e[1]*Ct,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},R.geo.graticule=function(){var e,n,r,i,o,a,s,u,l,c,f,h,p=10,d=p,m=90,y=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:t()}}function t(){return R.range(Math.ceil(i/m)*m,r,m).map(f).concat(R.range(Math.ceil(u/y)*y,s,y).map(h)).concat(R.range(Math.ceil(n/p)*p,e,p).filter(function(t){return I(t%m)>wt}).map(l)).concat(R.range(Math.ceil(a/d)*d,o,d).filter(function(t){return I(t%y)>wt}).map(c))}return g.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},g.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},g.extent=function(t){return arguments.length?g.majorExtent(t).minorExtent(t):g.minorExtent()},g.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<u&&(t=u,u=s,s=t),g.precision(v)):[[i,u],[r,s]]},g.minorExtent=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),g.precision(v)):[[n,a],[e,o]]},g.step=function(t){return arguments.length?g.majorStep(t).minorStep(t):g.minorStep()},g.majorStep=function(t){return arguments.length?(m=+t[0],y=+t[1],g):[m,y]},g.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],g):[p,d]},g.precision=function(t){return arguments.length?(v=+t,l=jr(a,o,90),c=Fr(n,e,v),f=jr(u,s,90),h=Fr(i,r,v),g):v},g.majorExtent([[-180,-90+wt],[180,90-wt]]).minorExtent([[-180,-80-wt],[180,80+wt]])},R.geo.greatArc=function(){var e,n,r=Br,i=Ur;function o(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return R.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(r=t)?null:t,o):r},o.target=function(t){return arguments.length?(n="function"==typeof(i=t)?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},R.geo.interpolate=function(t,e){return n=t[0]*Ct,r=t[1]*Ct,i=e[0]*Ct,o=e[1]*Ct,a=Math.cos(r),s=Math.sin(r),u=Math.cos(o),l=Math.sin(o),c=a*Math.cos(n),f=a*Math.sin(n),h=u*Math.cos(i),p=u*Math.sin(i),d=2*Math.asin(Math.sqrt(Nt(o-r)+a*u*Nt(i-n))),m=1/Math.sin(d),(y=d?function(t){var e=Math.sin(t*=d)*m,n=Math.sin(d-t)*m,r=n*c+e*h,i=n*f+e*p,o=n*s+e*l;return[Math.atan2(i,r)*Pt,Math.atan2(o,Math.sqrt(r*r+i*i))*Pt]}:function(){return[n*Pt,r*Pt]}).distance=d,y;var n,r,i,o,a,s,u,l,c,f,h,p,d,m,y},R.geo.length=function(t){return vr=0,R.geo.stream(t,Vr),vr};var Vr={sphere:A,point:A,lineStart:function(){var a,s,u;function n(t,e){var n=Math.sin(e*=Ct),r=Math.cos(e),i=I((t*=Ct)-a),o=Math.cos(i);vr+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=u*n-s*r*o)*i),s*n+u*r*o),a=t,s=n,u=r}Vr.point=function(t,e){a=t*Ct,s=Math.sin(e*=Ct),u=Math.cos(e),Vr.point=n},Vr.lineEnd=function(){Vr.point=Vr.lineEnd=A}},lineEnd:A,polygonStart:A,polygonEnd:A};function qr(o,a){function t(t,e){var n=Math.cos(t),r=Math.cos(e),i=o(n*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),r=a(n),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,n*o),Math.asin(n&&e*i/n)]},t}var Yr=qr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(R.geo.azimuthalEqualArea=function(){return Tr(Yr)}).raw=Yr;var Wr=qr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},D);function $r(t,e){var n=Math.cos(t),r=function(t){return Math.tan(St/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Gr;function a(t,e){0<o?e<-Tt+wt&&(e=-Tt+wt):Tt-wt<e&&(e=Tt-wt);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=At(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Tt]},a}function Hr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(I(r)<wt)return Ar;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-At(r)*Math.sqrt(t*t+n*n)]},o}(R.geo.azimuthalEquidistant=function(){return Tr(Wr)}).raw=Wr,(R.geo.conicConformal=function(){return ir($r)}).raw=$r,(R.geo.conicEquidistant=function(){return ir(Hr)}).raw=Hr;var Zr=qr(function(t){return 1/t},Math.atan);function Gr(t,e){return[t,Math.log(Math.tan(St/4+e/2))]}function Xr(t){var i,o=Tr(t),a=o.scale,s=o.translate,u=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=u.apply(o,arguments);if(e===o){if(i=null==t){var n=St*a(),r=s();u([[r[0]-n,r[1]-n],[r[0]+n,r[1]+n]])}}else i&&(e=null);return e},o.clipExtent(null)}(R.geo.gnomonic=function(){return Tr(Zr)}).raw=Zr,Gr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Tt]},(R.geo.mercator=function(){return Xr(Gr)}).raw=Gr;var Kr=qr(function(){return 1},Math.asin);(R.geo.orthographic=function(){return Tr(Kr)}).raw=Kr;var Jr=qr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Qr(t,e){return[Math.log(Math.tan(St/4+e/2)),-t]}function ti(t){return t[0]}function ei(t){return t[1]}function ni(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;1<r&&Ot(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ri(t,e){return t[0]-e[0]||t[1]-e[1]}(R.geo.stereographic=function(){return Tr(Jr)}).raw=Jr,Qr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Tt]},(R.geo.transverseMercator=function(){var t=Xr(Qr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Qr,R.geom={},R.geom.hull=function(t){var h=ti,p=ei;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,n=me(h),r=me(p),i=t.length,o=[],a=[];for(e=0;e<i;e++)o.push([+n.call(this,t[e],e),+r.call(this,t[e],e),e]);for(o.sort(ri),e=0;e<i;e++)a.push([o[e][0],-o[e][1]]);var s=ni(o),u=ni(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],f=[];for(e=s.length-1;0<=e;--e)f.push(t[o[s[e]][2]]);for(e=+l;e<u.length-c;++e)f.push(t[o[u[e]][2]]);return f}return e.x=function(t){return arguments.length?(h=t,e):h},e.y=function(t){return arguments.length?(p=t,e):p},e},R.geom.polygon=function(t){return U(t,ii),t};var ii=R.geom.polygon.prototype=[];function oi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ai(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function si(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ii.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ii.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},ii.clip=function(t){for(var e,n,r,i,o,a,s=si(t),u=-1,l=this.length-si(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)oi(a=e[n],c,i)?(oi(o,c,i)||t.push(ai(o,a,c,i)),t.push(a)):oi(o,c,i)&&t.push(ai(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var ui,li,ci,fi,hi,pi=[],di=[];function mi(){Ii(this),this.edge=this.site=this.circle=null}function yi(t){var e=pi.pop()||new mi;return e.site=t,e}function vi(t){Mi(t),ci.remove(t),pi.push(t),Ii(t)}function gi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];vi(t);for(var u=o;u.circle&&I(n-u.circle.x)<wt&&I(r-u.circle.cy)<wt;)o=u.P,s.unshift(u),vi(u),u=o;s.unshift(u),Mi(u);for(var l=a;l.circle&&I(n-l.circle.x)<wt&&I(r-l.circle.cy)<wt;)a=l.N,s.push(l),vi(l),l=a;s.push(l),Mi(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],Ai(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=Pi(u.site,l.site,null,i),ki(u),ki(l)}function _i(t){for(var e,n,r,i,o=t.x,a=t.y,s=ci._;s;)if(r=bi(s,a)-o,wt<r)s=s.L;else{if(i=o-xi(s,a),!(wt<i)){-wt<r?(e=s.P,n=s):-wt<i?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=yi(t);if(ci.insert(e,u),e||n){if(e===n)return Mi(e),n=yi(e.site),ci.insert(u,n),u.edge=n.edge=Pi(e.site,u.site),ki(e),void ki(n);if(n){Mi(e),Mi(n);var l=e.site,c=l.x,f=l.y,h=t.x-c,p=t.y-f,d=n.site,m=d.x-c,y=d.y-f,v=2*(h*y-p*m),g=h*h+p*p,_=m*m+y*y,b={x:(y*g-p*_)/v+c,y:(h*_-m*g)/v+f};Ai(n.edge,l,d,b),u.edge=Pi(l,t,null,b),n.edge=Pi(t,d,null,b),ki(e),ki(n)}else u.edge=Pi(e.site,u.site)}}function bi(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function xi(t,e){var n=t.N;if(n)return bi(n,e);var r=t.site;return r.y===e?r.x:1/0}function wi(t){this.site=t,this.edges=[]}function Ei(t,e){return e.angle-t.angle}function Si(){Ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function ki(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f=2*(u*(y=o.y-s)-l*c);if(!(-Et<=f)){var h=u*u+l*l,p=c*c+y*y,d=(y*h-l*p)/f,m=(u*p-c*h)/f,y=m+s,v=di.pop()||new Si;v.arc=t,v.site=i,v.x=d+a,v.y=y+Math.sqrt(d*d+m*m),v.cy=y,t.circle=v;for(var g=null,_=hi._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){g=_.P;break}_=_.L}else{if(!_.R){g=_;break}_=_.R}hi.insert(g,v),g||(fi=v)}}}}function Mi(t){var e=t.circle;e&&(e.P||(fi=e.N),hi.remove(e),di.push(e),Ii(e),t.circle=null)}function Ti(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,h=c.x,p=c.y,d=f.x,m=f.y,y=(h+d)/2,v=(p+m)/2;if(m===p){if(y<a||s<=y)return;if(d<h){if(o){if(o.y>=l)return}else o={x:y,y:u};n={x:y,y:l}}else{if(o){if(o.y<u)return}else o={x:y,y:l};n={x:y,y:u}}}else if(i=v-(r=(h-d)/(m-p))*y,r<-1||1<r)if(d<h){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(p<m){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Ci(t,e){this.l=t,this.r=e,this.a=this.b=null}function Pi(t,e,n,r){var i=new Ci(t,e);return ui.push(i),n&&Ai(i,t,e,n),r&&Ai(i,e,t,r),li[t.i].edges.push(new Oi(i,t,e)),li[e.i].edges.push(new Oi(i,e,t)),i}function Ai(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Oi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function zi(){this._=null}function Ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ri(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ni(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Di(t){for(;t.L;)t=t.L;return t}function Li(t,e){var n,r,i,o=t.sort(ji).pop();for(ui=[],li=new Array(t.length),ci=new zi,hi=new zi;;)if(i=fi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(li[o.i]=new wi(o),_i(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;gi(i.arc)}e&&(function(t){for(var e,n=ui,r=er(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ti(e=n[i],t)||!r(e)||I(e.a.x-e.b.x)<wt&&I(e.a.y-e.b.y)<wt)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,s,u,l,c,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],m=li,y=m.length;y--;)if((o=m[y])&&o.prepare())for(u=(s=o.edges).length,a=0;a<u;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(I(r-e)>wt||I(i-n)>wt)&&(s.splice(a,0,new Oi((v=o.site,g=c,_=I(r-f)<wt&&wt<d-i?{x:f,y:I(e-f)<wt?n:d}:I(i-d)<wt&&wt<h-r?{x:I(n-d)<wt?e:h,y:d}:I(r-h)<wt&&wt<i-p?{x:h,y:I(e-h)<wt?n:p}:I(i-p)<wt&&wt<r-f?{x:I(n-p)<wt?e:f,y:p}:null,b=void 0,b=new Ci(v,null),b.a=g,b.b=_,ui.push(b),b),o.site,null)),++u);var v,g,_,b}(e));var a={cells:li,edges:ui};return ci=hi=ui=li=null,a}function ji(t,e){return e.y-t.y||e.x-t.x}wi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Ei),e.length},Oi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Di(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ri(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ni(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ni(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ri(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Di(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ri(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ni(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ri(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ni(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ri(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ni(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},R.geom.voronoi=function(t){var e=ti,n=ei,r=e,i=n,c=Fi;if(t)return o(t);function o(i){var o=new Array(i.length),a=c[0][0],s=c[0][1],u=c[1][0],l=c[1][1];return Li(f(i),c).cells.forEach(function(t,e){var n=t.edges,r=t.site;(o[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):r.x>=a&&r.x<=u&&r.y>=s&&r.y<=l?[[a,l],[u,l],[u,s],[a,s]]:[]).point=i[e]}),o}function f(t){return t.map(function(t,e){return{x:Math.round(r(t,e)/wt)*wt,y:Math.round(i(t,e)/wt)*wt,i:e}})}return o.links=function(e){return Li(f(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(h){var p=[];return Li(f(h)).cells.forEach(function(t,e){for(var n,r,i,o,a=t.site,s=t.edges.sort(Ei),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)c,n=f,f=(c=s[u].edge).l===a?c.r:c.l,e<n.i&&e<f.i&&(i=n,o=f,((r=a).x-o.x)*(i.y-r.y)-(r.x-i.x)*(o.y-r.y)<0)&&p.push([h[e],h[n.i],h[f.i]])}),p},o.x=function(t){return arguments.length?(r=me(e=t),o):e},o.y=function(t){return arguments.length?(i=me(n=t),o):n},o.clipExtent=function(t){return arguments.length?(c=null==t?Fi:t,o):c===Fi?null:c},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):c===Fi?null:c&&c[1]},o};var Fi=[[-1e6,-1e6],[1e6,1e6]];function Bi(t){return t.x}function Ui(t){return t.y}function Vi(t,e){t=R.rgb(t),e=R.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+ue(Math.round(n+o*t))+ue(Math.round(r+a*t))+ue(Math.round(i+s*t))}}function qi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Zi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Yi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Wi(t,r){var e,n,i,o=$i.lastIndex=Hi.lastIndex=0,a=-1,s=[],u=[];for(t+="",r+="";(e=$i.exec(t))&&(n=Hi.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,u.push({i:a,x:Yi(e,n)})),o=Hi.lastIndex;return o<r.length&&(i=r.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(r=u[0].x,function(t){return r(t)+""}):function(){return r}:(r=u.length,function(t){for(var e,n=0;n<r;++n)s[(e=u[n]).i]=e.x(t);return s.join("")})}R.geom.delaunay=function(t){return R.geom.voronoi().triangles(t)},R.geom.quadtree=function(t,g,_,b,x){var w,E=ti,k=ei;if(w=arguments.length)return E=Bi,k=Ui,3===w&&(x=_,b=g,_=g=0),e(t);function e(t){var e,n,r,i,o,a,s,u,l,c=me(E),f=me(k);if(null!=g)a=g,s=_,u=b,l=x;else if(u=l=-(a=s=1/0),n=[],r=[],o=t.length,w)for(i=0;i<o;++i)(e=t[i]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>u&&(u=e.x),e.y>l&&(l=e.y),n.push(e.x),r.push(e.y);else for(i=0;i<o;++i){var h=+c(e=t[i],i),p=+f(e,i);h<a&&(a=h),p<s&&(s=p),u<h&&(u=h),l<p&&(l=p),n.push(h),r.push(p)}var d=u-a,m=l-s;function y(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(I(u-n)+I(l-r)<.01)v(t,e,n,r,i,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,u,l,i,o,a,s),v(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else v(t,e,n,r,i,o,a,s)}function v(t,e,n,r,i,o,a,s){var u=.5*(i+a),l=.5*(o+s),c=u<=n,f=l<=r,h=f<<1|c;t.leaf=!1,c?i=u:a=u,f?o=l:s=l,y(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,a,s)}m<d?l=s+d:u=a+m;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){y(S,t,+c(t,++i),+f(t,i),a,s,u,l)}};if(S.visit=function(t){!function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var s=.5*(r+o),u=.5*(i+a),l=n.nodes;l[0]&&t(e,l[0],r,i,s,u),l[1]&&t(e,l[1],s,i,o,u),l[2]&&t(e,l[2],r,u,s,a),l[3]&&t(e,l[3],s,u,o,a)}}(t,S,a,s,u,l)},S.find=function(t){return e=S,y=t[0],v=t[1],E=1/0,function t(e,n,r,i,o){if(!(b<n||x<r||i<g||o<_)){if(a=e.point){var a,s=y-e.x,u=v-e.y,l=s*s+u*u;if(l<E){var c=Math.sqrt(E=l);g=y-c,_=v-c,b=y+c,x=v+c,w=a}}for(var f=e.nodes,h=.5*(n+i),p=.5*(r+o),d=(p<=v)<<1|h<=y,m=d+4;d<m;++d)if(e=f[3&d])switch(3&d){case 0:t(e,n,r,h,p);break;case 1:t(e,h,r,i,p);break;case 2:t(e,n,p,h,o);break;case 3:t(e,h,p,i,o)}}}(e,g=a,_=s,b=u,x=l),w;var e,y,v,g,_,b,x,w,E},i=-1,null==g){for(;++i<o;)y(S,t[i],n[i],r[i],a,s,u,l);--i}else t.forEach(S.add);return n=r=t=e=null,S}return e.x=function(t){return arguments.length?(E=t,e):E},e.y=function(t){return arguments.length?(k=t,e):k},e.extent=function(t){return arguments.length?(null==t?g=_=b=x=null:(g=+t[0][0],_=+t[0][1],b=+t[1][0],x=+t[1][1]),e):null==g?null:[[g,_],[b,x]]},e.size=function(t){return arguments.length?(null==t?g=_=b=x=null:(g=_=0,b=+t[0],x=+t[1]),e):null==g?null:[b-g,x-_]},e},R.interpolateRgb=Vi,R.interpolateObject=qi,R.interpolateNumber=Yi,R.interpolateString=Wi;var $i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hi=new RegExp($i.source,"g");function Zi(t,e){for(var n,r=R.interpolators.length;0<=--r&&!(n=R.interpolators[r](t,e)););return n}function Gi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(Zi(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}R.interpolate=Zi,R.interpolators=[function(t,e){var n=typeof e;return("string"===n?de.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Vi:Wi:e instanceof Bt?Vi:Array.isArray(e)?Gi:"object"===n&&isNaN(e)?qi:Yi)(t,e)}],R.interpolateArray=Gi;var Xi=function(){return D},Ki=R.map({linear:Xi,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return eo},cubic:function(){return no},sin:function(){return io},exp:function(){return oo},circle:function(){return ao},elastic:function(e,n){var r;arguments.length<2&&(n=.45);r=arguments.length?n/kt*Math.asin(1/e):(e=1,n/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-r)*kt/n)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return so}}),Ji=R.map({in:D,out:Qi,"in-out":to,"out-in":function(t){return to(Qi(t))}});function Qi(e){return function(t){return 1-e(1-t)}}function to(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function eo(t){return t*t}function no(t){return t*t*t}function ro(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function io(t){return 1-Math.cos(t*Tt)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function so(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function uo(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function lo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=fo(i),s=co(i,o),u=fo(((e=o)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Pt,this.translate=[t.e,t.f],this.scale=[a,u],this.skew=u?Math.atan2(s,u)*Pt:0}function co(t,e){return t[0]*e[0]+t[1]*e[1]}function fo(t){var e=Math.sqrt(co(t,t));return e&&(t[0]/=e,t[1]/=e),e}R.ease=function(t){var e,n=t.indexOf("-"),r=0<=n?t.slice(0,n):t,i=0<=n?t.slice(n+1):"in";return r=Ki.get(r)||Xi,i=Ji.get(i)||D,e=i(r.apply(null,o.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},R.interpolateHcl=function(t,e){t=R.hcl(t),e=R.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return $t(n+o*t,r+a*t,i+s*t)+""}},R.interpolateHsl=function(t,e){t=R.hsl(t),e=R.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):180<o?o-=360:o<-180&&(o+=360);return function(t){return qt(n+o*t,r+a*t,i+s*t)+""}},R.interpolateLab=function(t,e){t=R.lab(t),e=R.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return Qt(n+o*t,r+a*t,i+s*t)+""}},R.interpolateRound=uo,R.transform=function(t){var n=_.createElementNS(R.ns.prefix.svg,"g");return(R.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new lo(e?e.matrix:ho)})(t)},lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function po(t){return t.length?t.pop()+",":""}function mo(t,e){var n,r,i,o,a,s,u,l,c=[],f=[];return t=R.transform(t),e=R.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Yi(t[0],e[0])},{i:i-2,x:Yi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,c,f),n=t.rotate,r=e.rotate,i=c,o=f,n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),o.push({i:i.push(po(i)+"rotate(",null,")")-2,x:Yi(n,r)})):r&&i.push(po(i)+"rotate("+r+")"),a=t.skew,s=e.skew,u=c,l=f,a!==s?l.push({i:u.push(po(u)+"skewX(",null,")")-2,x:Yi(a,s)}):s&&u.push(po(u)+"skewX("+s+")"),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(po(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Yi(t[0],e[0])},{i:i-2,x:Yi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(po(n)+"scale("+e+")")}(t.scale,e.scale,c,f),t=e=null,function(t){for(var e,n=-1,r=f.length;++n<r;)c[(e=f[n]).i]=e.x(t);return c.join("")}}function yo(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function vo(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function go(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=_o(t),r=_o(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function _o(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function bo(t){t.fixed|=2}function xo(t){t.fixed&=-7}function wo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Eo(t){t.fixed&=-5}R.interpolateTransform=mo,R.layout={},R.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(go(t[n]));return e}},R.layout.chord=function(){var y,v,g,_,b,x,w,e={},E=0;function t(){var t,e,n,r,i,o={},a=[],s=R.range(_),u=[];for(y=[],v=[],t=0,r=-1;++r<_;){for(e=0,i=-1;++i<_;)e+=g[r][i];a.push(e),u.push(R.range(_)),t+=e}for(b&&s.sort(function(t,e){return b(a[t],a[e])}),x&&u.forEach(function(t,n){t.sort(function(t,e){return x(g[n][t],g[n][e])})}),t=(kt-E*_)/t,e=0,r=-1;++r<_;){for(n=e,i=-1;++i<_;){var l=s[r],c=u[l][i],f=g[l][c],h=e,p=e+=f*t;o[l+"-"+c]={index:l,subindex:c,startAngle:h,endAngle:p,value:f}}v[l]={index:l,startAngle:n,endAngle:e,value:a[l]},e+=E}for(r=-1;++r<_;)for(i=r-1;++i<_;){var d=o[r+"-"+i],m=o[i+"-"+r];(d.value||m.value)&&y.push(d.value<m.value?{source:m,target:d}:{source:d,target:m})}w&&S()}function S(){y.sort(function(t,e){return w((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(_=(g=t)&&g.length,y=v=null,e):g},e.padding=function(t){return arguments.length?(E=t,y=v=null,e):E},e.sortGroups=function(t){return arguments.length?(b=t,y=v=null,e):b},e.sortSubgroups=function(t){return arguments.length?(x=t,y=null,e):x},e.sortChords=function(t){return arguments.length?(w=t,y&&S(),e):w},e.chords=function(){return y||t(),y},e.groups=function(){return v||t(),v},e},R.layout.force=function(){var f,t,h,p,d,m,i={},y=R.dispatch("start","tick","end"),v=[1,1],g=.9,o=So,a=ko,_=-30,c=Mo,b=.1,x=.64,w=[],E=[];function S(l){return function(t,e,n,r){if(t.point!==l){var i=t.cx-l.x,o=t.cy-l.y,a=r-e,s=i*i+o*o;if(a*a/x<s){if(s<c){var u=t.charge/s;l.px-=i*u,l.py-=o*u}return!0}if(t.point&&s&&s<c){u=t.pointCharge/s;l.px-=i*u,l.py-=o*u}}return!t.charge}}function e(t){t.px=R.event.x,t.py=R.event.y,i.resume()}return i.tick=function(){if((h*=.99)<.005)return f=null,y.end({type:"end",alpha:h=0}),!0;var t,e,n,r,i,o,a,s,u,l=w.length,c=E.length;for(e=0;e<c;++e)r=(n=E[e]).source,(o=(s=(i=n.target).x-r.x)*s+(u=i.y-r.y)*u)&&(s*=o=h*d[e]*((o=Math.sqrt(o))-p[e])/o,u*=o,i.x-=s*(a=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=u*a,r.x+=s*(a=1-a),r.y+=u*a);if((a=h*b)&&(s=v[0]/2,u=v[1]/2,e=-1,a))for(;++e<l;)(n=w[e]).x+=(s-n.x)*a,n.y+=(u-n.y)*a;if(_)for(!function t(e,n,r){var i=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,u=s.length,l=-1;++l<u;)null!=(a=s[l])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge;e.cy=o/e.charge}(t=R.geom.quadtree(w),h,m),e=-1;++e<l;)(n=w[e]).fixed||t.visit(S(n));for(e=-1;++e<l;)(n=w[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*g,n.y-=(n.py-(n.py=n.y))*g);y.tick({type:"tick",alpha:h})},i.nodes=function(t){return arguments.length?(w=t,i):w},i.links=function(t){return arguments.length?(E=t,i):E},i.size=function(t){return arguments.length?(v=t,i):v},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(g=+t,i):g},i.charge=function(t){return arguments.length?(_="function"==typeof t?t:+t,i):_},i.chargeDistance=function(t){return arguments.length?(c=t*t,i):Math.sqrt(c)},i.gravity=function(t){return arguments.length?(b=+t,i):b},i.theta=function(t){return arguments.length?(x=t*t,i):Math.sqrt(x)},i.alpha=function(t){return arguments.length?(t=+t,h?0<t?h=t:(f.c=null,f.t=NaN,f=null,y.end({type:"end",alpha:h=0})):0<t&&(y.start({type:"start",alpha:h=t}),f=Ee(i.tick)),i):h},i.start=function(){var s,u,t,l=w.length,c=E.length,e=v[0],n=v[1];for(s=0;s<l;++s)(t=w[s]).index=s,t.weight=0;for(s=0;s<c;++s)"number"==typeof(t=E[s]).source&&(t.source=w[t.source]),"number"==typeof t.target&&(t.target=w[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<l;++s)t=w[s],isNaN(t.x)&&(t.x=r("x",e)),isNaN(t.y)&&(t.y=r("y",n)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,E[s],s);else for(s=0;s<c;++s)p[s]=o;if(d=[],"function"==typeof a)for(s=0;s<c;++s)d[s]=+a.call(this,E[s],s);else for(s=0;s<c;++s)d[s]=a;if(m=[],"function"==typeof _)for(s=0;s<l;++s)m[s]=+_.call(this,w[s],s);else for(s=0;s<l;++s)m[s]=_;function r(t,e){if(!u){for(u=new Array(l),o=0;o<l;++o)u[o]=[];for(o=0;o<c;++o){var n=E[o];u[n.source.index].push(n.target),u[n.target.index].push(n.source)}}for(var r,i=u[s],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*e}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(t||(t=R.behavior.drag().origin(D).on("dragstart.force",bo).on("drag.force",e).on("dragend.force",xo)),!arguments.length)return t;this.on("mouseover.force",wo).on("mouseout.force",Eo).call(t)},R.rebind(i,y,"on")};var So=20,ko=1,Mo=1/0;function To(t,e){return R.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Io,t}function Co(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)n.push(i[r])}function Po(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Ao(t){return t.children}function Oo(t){return t.value}function zo(t,e){return e.value-t.value}function Io(t){return R.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}R.layout.hierarchy=function(){var s=zo,u=Ao,l=Oo;function c(t){var e,n=[t],r=[];for(t.depth=0;null!=(e=n.pop());)if(r.push(e),(o=u.call(c,e,e.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)n.push(a=o[i]),a.parent=e,a.depth=e.depth+1;l&&(e.value=0),e.children=o}else l&&(e.value=+l.call(c,e,e.depth)||0),delete e.children;return Po(t,function(t){var e,n;s&&(e=t.children)&&e.sort(s),l&&(n=t.parent)&&(n.value+=t.value)}),r}return c.sort=function(t){return arguments.length?(s=t,c):s},c.children=function(t){return arguments.length?(u=t,c):u},c.value=function(t){return arguments.length?(l=t,c):l},c.revalue=function(t){return l&&(Co(t,function(t){t.children&&(t.value=0)}),Po(t,function(t){var e;t.children||(t.value=+l.call(c,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},c},R.layout.partition=function(){var r=R.layout.hierarchy(),i=[1,1];function e(t,e){var n=r.call(this,t,e);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}(n[0],0,i[0],i[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(n[0])),n}return e.size=function(t){return arguments.length?(i=t,e):i},To(e,r)},R.layout.pie=function(){var h=Number,p=Ro,d=0,m=kt,y=0;function v(n){var e,t=n.length,r=n.map(function(t,e){return+h.call(v,t,e)}),i=+("function"==typeof d?d.apply(this,arguments):d),o=("function"==typeof m?m.apply(this,arguments):m)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof y?y.apply(this,arguments):y)),s=a*(o<0?-1:1),u=R.sum(r),l=u?(o-t*s)/u:0,c=R.range(t),f=[];return null!=p&&c.sort(p===Ro?function(t,e){return r[e]-r[t]}:function(t,e){return p(n[t],n[e])}),c.forEach(function(t){f[t]={data:n[t],value:e=r[t],startAngle:i,endAngle:i+=e*l+s,padAngle:a}}),f}return v.value=function(t){return arguments.length?(h=t,v):h},v.sort=function(t){return arguments.length?(p=t,v):p},v.startAngle=function(t){return arguments.length?(d=t,v):d},v.endAngle=function(t){return arguments.length?(m=t,v):m},v.padAngle=function(t){return arguments.length?(y=t,v):y},v};var Ro={};function No(t){return t.x}function Do(t){return t.y}function Lo(t,e,n){t.y0=e,t.y=n}R.layout.stack=function(){var f=D,h=Bo,p=Uo,d=Lo,m=No,y=Do;function v(t,e){if(!(o=t.length))return t;var n=t.map(function(t,e){return f.call(v,t,e)}),r=n.map(function(t){return t.map(function(t,e){return[m.call(v,t,e),y.call(v,t,e)]})}),i=h.call(v,r,e);n=R.permute(n,i),r=R.permute(r,i);var o,a,s,u,l=p.call(v,r,e),c=n[0].length;for(s=0;s<c;++s)for(d.call(v,n[0][s],u=l[s],r[0][s][1]),a=1;a<o;++a)d.call(v,n[a][s],u+=r[a-1][s][1],r[a][s][1]);return t}return v.values=function(t){return arguments.length?(f=t,v):f},v.order=function(t){return arguments.length?(h="function"==typeof t?t:jo.get(t)||Bo,v):h},v.offset=function(t){return arguments.length?(p="function"==typeof t?t:Fo.get(t)||Uo,v):p},v.x=function(t){return arguments.length?(m=t,v):m},v.y=function(t){return arguments.length?(y=t,v):y},v.out=function(t){return arguments.length?(d=t,v):d},v};var jo=R.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Vo),o=t.map(qo),a=R.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return R.range(t.length).reverse()},default:Bo}),Fo=R.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];s<r&&(s=r),a.push(r)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,f=t[0],h=f.length,p=[];for(p[0]=u=l=0,n=1;n<h;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=u-=i?o/i*s:0,u<l&&(l=u)}for(n=0;n<h;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Uo});function Bo(t){return R.range(t.length)}function Uo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Vo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function qo(t){return t.reduce(Yo,0)}function Yo(t,e){return t+e[1]}function Wo(t,e){return $o(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function $o(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Ho(t){return[R.min(t),R.max(t)]}function Zo(t,e){return t.value-e.value}function Go(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Xo(t,e){(t._pack_next=e)._pack_prev=t}function Ko(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<.999*i*i}function Jo(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,a,s,u,l=1/0,c=-1/0,f=1/0,h=-1/0;if(e.forEach(Qo),(n=e[0]).x=-n.r,n.y=0,_(n),1<u&&((r=e[1]).x=r.r,r.y=0,_(r),2<u))for(ea(n,r,i=e[2]),_(i),Go(n,i),Go(n._pack_prev=i,r),r=n._pack_next,o=3;o<u;o++){ea(n,r,i=e[o]);var p=0,d=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,d++)if(Ko(a,i)){p=1;break}if(1==p)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,i);s=s._pack_prev,m++);p?(d<m||d==m&&r.r<n.r?Xo(n,r=a):Xo(n=s,r),o--):(Go(n,i),_(r=i))}var y=(l+c)/2,v=(f+h)/2,g=0;for(o=0;o<u;o++)(i=e[o]).x-=y,i.y-=v,g=Math.max(g,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=g,e.forEach(ta)}function _(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function Qo(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function ea(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function na(t,e){return t.parent==e.parent?1:2}function ra(t){var e=t.children;return e.length?e[0]:t.t}function ia(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function oa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ua(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function la(t){return t.rangeExtent?t.rangeExtent():ua(t.range())}function ca(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function fa(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ha(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:pa}R.layout.histogram=function(){var f=!0,h=Number,p=Ho,d=Wo;function n(t,e){for(var n,r,i=[],o=t.map(h,this),a=p.call(this,o,e),s=d.call(this,a,o,e),u=(e=-1,o.length),l=s.length-1,c=f?1:1/u;++e<l;)(n=i[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<l)for(e=-1;++e<u;)(r=o[e])>=a[0]&&r<=a[1]&&((n=i[R.bisect(s,r,1,l)-1]).y+=c,n.push(t[e]));return i}return n.value=function(t){return arguments.length?(h=t,n):h},n.range=function(t){return arguments.length?(p=me(t),n):p},n.bins=function(e){return arguments.length?(d="number"==typeof e?function(t){return $o(t,e)}:me(e),n):d},n.frequency=function(t){return arguments.length?(f=!!t,n):f},n},R.layout.pack=function(){var u,l=R.layout.hierarchy().sort(Zo),c=0,f=[1,1];function e(t,e){var n=l.call(this,t,e),r=n[0],i=f[0],o=f[1],a=null==u?Math.sqrt:"function"==typeof u?u:function(){return u};if(r.x=r.y=0,Po(r,function(t){t.r=+a(t.value)}),Po(r,Jo),c){var s=c*(u?1:Math.max(2*r.r/i,2*r.r/o))/2;Po(r,function(t){t.r+=s}),Po(r,Jo),Po(r,function(t){t.r-=s})}return function t(e,n,r,i){var o=e.children;e.x=n+=i*e.x;e.y=r+=i*e.y;e.r*=i;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],n,r,i)}(r,i/2,o/2,u?1:1/Math.max(2*r.r/i,2*r.r/o)),n}return e.size=function(t){return arguments.length?(f=t,e):f},e.radius=function(t){return arguments.length?(u=null==t||"function"==typeof t?t:+t,e):u},e.padding=function(t){return arguments.length?(c=+t,e):c},To(e,l)},R.layout.tree=function(){var f=R.layout.hierarchy().sort(null).value(null),m=na,h=[1,1],p=null;function e(t,e){var n=f.call(this,t,e),r=n[0],i=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(r);if(Po(i,d),i.parent.m=-i.z,Co(i,y),p)Co(r,v);else{var o=r,a=r,s=r;Co(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var u=m(o,a)/2-o.x,l=h[0]/(a.x+m(a,o)/2+u),c=h[1]/(s.depth||1);Co(r,function(t){t.x=(t.x+u)*l,t.y=t.depth*c})}return n}function d(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+m(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+m(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,l=o.m,c=a.m,f=s.m;a=ia(a),i=ra(i),a&&i;)s=ra(s),(o=ia(o)).a=t,0<(r=a.z+c-i.z-u+m(a._,i._))&&(oa((p=t,d=n,(h=a).a.parent===p.parent?h.a:d),t,r),u+=r,l+=r),c+=a.m,u+=i.m,f+=s.m,l+=o.m;a&&!ia(o)&&(o.t=a,o.m+=c-l),i&&!ra(s)&&(s.t=i,s.m+=u-f,n=t)}var h,p,d;return n}(t,r,t.parent.A||n[0])}function y(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function v(t){t.x*=h[0],t.y=t.depth*h[1]}return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(p=null==(h=t)?v:null,e):p?null:h},e.nodeSize=function(t){return arguments.length?(p=null==(h=t)?null:v,e):p?h:null},To(e,f)},R.layout.cluster=function(){var c=R.layout.hierarchy().sort(null).value(null),f=na,h=[1,1],p=!1;function e(t,e){var i,n=c.call(this,t,e),r=n[0],o=0;Po(r,function(t){var e,n,r=t.children;r&&r.length?(t.x=(n=r).reduce(function(t,e){return t+e.x},0)/n.length,t.y=(e=r,1+R.max(e,function(t){return t.y}))):(t.x=i?o+=f(t,i):0,t.y=0,i=t)});var a=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(r),s=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(r),u=a.x-f(a,s)/2,l=s.x+f(s,a)/2;return Po(r,p?function(t){t.x=(t.x-r.x)*h[0],t.y=(r.y-t.y)*h[1]}:function(t){t.x=(t.x-u)/(l-u)*h[0],t.y=(1-(r.y?t.y/r.y:1))*h[1]}),n}return e.separation=function(t){return arguments.length?(f=t,e):f},e.size=function(t){return arguments.length?(p=null==(h=t),e):p?null:h},e.nodeSize=function(t){return arguments.length?(p=null!=(h=t),e):p?h:null},To(e,c)},R.layout.treemap=function(){var r,i=R.layout.hierarchy(),c=Math.round,o=[1,1],a=null,f=aa,s=!1,h="squarify",u=.5*(1+Math.sqrt(5));function p(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,i,o=f(t),a=[],s=e.slice(),u=1/0,l="slice"===h?o.dx:"dice"===h?o.dy:"slice-dice"===h?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(p(s,o.dx*o.dy/t.value),a.area=0;0<(i=s.length);)a.push(n=s[i-1]),a.area+=n.area,u="squarify"!==h||(r=m(a,l))<=u?(s.pop(),r):(a.area-=a.pop().area,y(a,l,o,!1),l=Math.min(o.dx,o.dy),a.length=a.area=0,1/0);a.length&&(y(a,l,o,!0),a.length=a.area=0),e.forEach(d)}}function l(t){var e=t.children;if(e&&e.length){var n,r=f(t),i=e.slice(),o=[];for(p(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(y(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(l)}}function m(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),i<n&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*o*u)):1/0}function y(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,l=e?c(t.area/e):0;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++o<a;)(i=t[o]).x=s,i.y=u,i.dy=l,s+=i.dx=Math.min(n.x+n.dx-s,l?c(i.area/l):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++o<a;)(i=t[o]).x=s,i.y=u,i.dx=l,u+=i.dy=Math.min(n.y+n.dy-u,l?c(i.area/l):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function v(t){var e=r||i(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=o[0],n.dy=o[1]):n.dx=n.dy=0,r&&i.revalue(n),p([n],n.dx*n.dy/n.value),(r?l:d)(n),s&&(r=e),e}return v.size=function(t){return arguments.length?(o=t,v):o},v.padding=function(n){if(!arguments.length)return a;function t(t){return sa(t,n)}var e;return f=null==(a=n)?aa:"function"==(e=typeof n)?function(t){var e=n.call(v,t,t.depth);return null==e?aa(t):sa(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(n=[n,n,n,n]),t),v},v.round=function(t){return arguments.length?(c=t?Math.round:Number,v):c!=Number},v.sticky=function(t){return arguments.length?(s=t,r=null,v):s},v.ratio=function(t){return arguments.length?(u=t,v):u},v.mode=function(t){return arguments.length?(h=t+"",v):h},To(v,i)},R.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return r+i*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=R.random.normal.apply(R,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=R.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},R.scale={};var pa={floor:D,ceil:D};function da(n,t,e,r){var i=[],o=[],a=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=s;)i.push(e(n[a-1],n[a])),o.push(r(t[a-1],t[a]));return function(t){var e=R.bisect(n,t,1,s)-1;return o[e](i[e](t))}}function ma(t,e){return R.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ya(t,e){return fa(t,ha(va(t,e)[2])),fa(t,ha(va(t,e)[2])),t}function va(t,e){null==e&&(e=10);var n=ua(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ga(t,e){return R.range.apply(R,va(t,e))}function _a(t,e,n){var r,i,o,a=va(t,e);if(n){var s=Pe.exec(n);if(s.shift(),"s"===s[8]){var u=R.formatPrefix(Math.max(I(a[0]),I(a[1])));return s[7]||(s[7]="."+xa(u.scale(a[2]))),s[8]="f",n=R.format(s.join("")),function(t){return n(u.scale(t))+u.symbol}}s[7]||(s[7]="."+(r=s[8],o=xa((i=a)[2]),r in ba?Math.abs(o-xa(Math.max(I(i[0]),I(i[1]))))+ +("e"!==r):o-2*("%"===r))),n=s.join("")}else n=",."+xa(a[2])+"f";return R.format(n)}R.scale.linear=function(){return function t(n,r,i,o){var a,s;function e(){var t=2<Math.min(n.length,r.length)?da:ca,e=o?vo:yo;return a=t(n,r,e,i),s=t(r,n,e,Zi),u}function u(t){return a(t)}u.invert=function(t){return s(t)};u.domain=function(t){return arguments.length?(n=t.map(Number),e()):n};u.range=function(t){return arguments.length?(r=t,e()):r};u.rangeRound=function(t){return u.range(t).interpolate(uo)};u.clamp=function(t){return arguments.length?(o=t,e()):o};u.interpolate=function(t){return arguments.length?(i=t,e()):i};u.ticks=function(t){return ga(n,t)};u.tickFormat=function(t,e){return _a(n,t,e)};u.nice=function(t){return ya(n,t),e()};u.copy=function(){return t(n,r,i,o)};return e()}([0,1],[0,1],Zi,!1)};var ba={s:1,g:1,p:1,r:1,e:1};function xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}R.scale.log=function(){return function t(e,u,l,c){function f(t){return(l?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(u)}function h(t){return l?Math.pow(u,t):-Math.pow(u,-t)}function i(t){return e(f(t))}i.invert=function(t){return h(e.invert(t))};i.domain=function(t){return arguments.length?(l=0<=t[0],e.domain((c=t.map(Number)).map(f)),i):c};i.base=function(t){return arguments.length?(u=+t,e.domain(c.map(f)),i):u};i.nice=function(){var t=fa(c.map(f),l?Math:Ea);return e.domain(t),c=t.map(h),i};i.ticks=function(){var t=ua(c),e=[],n=t[0],r=t[1],i=Math.floor(f(n)),o=Math.ceil(f(r)),a=u%1?2:u;if(isFinite(o-i)){if(l){for(;i<o;i++)for(var s=1;s<a;s++)e.push(h(i)*s);e.push(h(i))}else for(e.push(h(i));i++<o;)for(var s=a-1;0<s;s--)e.push(h(i)*s);for(i=0;e[i]<n;i++);for(o=e.length;e[o-1]>r;o--);e=e.slice(i,o)}return e};i.tickFormat=function(t,n){if(!arguments.length)return wa;arguments.length<2?n=wa:"function"!=typeof n&&(n=R.format(n));var r=Math.max(1,u*t/i.ticks().length);return function(t){var e=t/h(Math.round(f(t)));return e*u<u-.5&&(e*=u),e<=r?n(t):""}};i.copy=function(){return t(e.copy(),u,l,c)};return ma(i,e)}(R.scale.linear().domain([0,1]),10,!0,[1,10])};var wa=R.format(".0e"),Ea={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Sa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}R.scale.pow=function(){return function t(e,n,r){var i=Sa(n),o=Sa(1/n);function a(t){return e(i(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return ga(r,t)};a.tickFormat=function(t,e){return _a(r,t,e)};a.nice=function(t){return a.domain(ya(r,t))};a.exponent=function(t){return arguments.length?(i=Sa(n=t),o=Sa(1/n),e.domain(r.map(i)),a):n};a.copy=function(){return t(e.copy(),n,r)};return ma(a,e)}(R.scale.linear(),1,[0,1])},R.scale.sqrt=function(){return R.scale.pow().exponent(.5)},R.scale.ordinal=function(){return function t(s,u){var i,l,c;function f(t){return l[((i.get(t)||("range"===u.t?i.set(t,s.push(t)):NaN))-1)%l.length]}function h(e,n){return R.range(s.length).map(function(t){return e+n*t})}f.domain=function(t){if(!arguments.length)return s;s=[],i=new g;for(var e,n=-1,r=t.length;++n<r;)i.has(e=t[n])||i.set(e,s.push(e));return f[u.t].apply(f,u.a)};f.range=function(t){return arguments.length?(l=t,c=0,u={t:"range",a:arguments},f):l};f.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=(n+r)/2,0):(r-n)/(s.length-1+e);return l=h(n+i*e/2,i),c=0,u={t:"rangePoints",a:arguments},f};f.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],r=t[1],i=s.length<2?(n=r=Math.round((n+r)/2),0):(r-n)/(s.length-1+e)|0;return l=h(n+Math.round(i*e/2+(r-n-(s.length-1+e)*i)/2),i),c=0,u={t:"rangeRoundPoints",a:arguments},f};f.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=(o-i)/(s.length-e+2*n);return l=h(i+a*n,a),r&&l.reverse(),c=a*(1-e),u={t:"rangeBands",a:arguments},f};f.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(s.length-e+2*n));return l=h(i+Math.round((o-i-(s.length-e)*a)/2),a),r&&l.reverse(),c=Math.round(a*(1-e)),u={t:"rangeRoundBands",a:arguments},f};f.rangeBand=function(){return c};f.rangeExtent=function(){return ua(u.a[0])};f.copy=function(){return t(s,u)};return f.domain(s)}([],{t:"range",a:[[]]})},R.scale.category10=function(){return R.scale.ordinal().range(ka)},R.scale.category20=function(){return R.scale.ordinal().range(Ma)},R.scale.category20b=function(){return R.scale.ordinal().range(Ta)},R.scale.category20c=function(){return R.scale.ordinal().range(Ca)};var ka=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Ma=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Ta=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Ca=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Pa(){return 0}R.scale.quantile=function(){return function t(n,r){var i;function e(){var t=0,e=r.length;for(i=[];++t<e;)i[t-1]=R.quantile(n,t/e);return o}function o(t){if(!isNaN(t=+t))return r[R.bisect(i,t)]}o.domain=function(t){return arguments.length?(n=t.map(l).filter(c).sort(u),e()):n};o.range=function(t){return arguments.length?(r=t,e()):r};o.quantiles=function(){return i};o.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]};o.copy=function(){return t(n,r)};return e()}([],[])},R.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function s(){return i=r.length/(n-e),o=r.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],s()):[e,n]};a.range=function(t){return arguments.length?(r=t,s()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]};a.copy=function(){return t(e,n,r)};return s()}(0,1,[0,1])},R.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[R.bisect(e,t)]}r.domain=function(t){return arguments.length?(e=t,r):e};r.range=function(t){return arguments.length?(n=t,r):n};r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]};r.copy=function(){return t(e,n)};return r}([.5],[0,1])},R.scale.identity=function(){return function t(n){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n};e.ticks=function(t){return ga(n,t)};e.tickFormat=function(t,e){return _a(n,t,e)};e.copy=function(){return t(n)};return e}([0,1])},R.svg={},R.svg.arc=function(){var j=Oa,F=za,B=Pa,U=Aa,V=Ia,q=Ra,Y=Na;function e(){var t=Math.max(0,+j.apply(this,arguments)),e=Math.max(0,+F.apply(this,arguments)),n=V.apply(this,arguments)-Tt,r=q.apply(this,arguments)-Tt,i=Math.abs(r-n),o=r<n?0:1;if(e<t&&(a=e,e=t,t=a),Mt<=i)return W(e,o)+(t?W(t,1-o):"")+"Z";var a,s,u,l,c,f,h,p,d,m,y,v,g=0,_=0,b=[];if((l=(+Y.apply(this,arguments)||0)/2)&&(u=U===Aa?Math.sqrt(t*t+e*e):+U.apply(this,arguments),o||(_*=-1),e&&(_=It(u/e*Math.sin(l))),t&&(g=It(u/t*Math.sin(l)))),e){c=e*Math.cos(n+_),f=e*Math.sin(n+_),h=e*Math.cos(r-_),p=e*Math.sin(r-_);var x=Math.abs(r-n-2*_)<=St?0:1;if(_&&Da(c,f,h,p)===o^x){var w=(n+r)/2;c=e*Math.cos(w),f=e*Math.sin(w),h=p=null}}else c=f=0;if(t){d=t*Math.cos(r-g),m=t*Math.sin(r-g),y=t*Math.cos(n+g),v=t*Math.sin(n+g);var E=Math.abs(n-r+2*g)<=St?0:1;if(g&&Da(d,m,y,v)===1-o^E){var S=(n+r)/2;d=t*Math.cos(S),m=t*Math.sin(S),y=v=null}}else d=m=0;if(wt<i&&.001<(a=Math.min(Math.abs(e-t)/2,+B.apply(this,arguments)))){s=t<e^o?0:1;var k=a,M=a;if(i<St){var T=null==y?[d,m]:null==h?[c,f]:ai([c,f],[y,v],[h,p],[d,m]),C=c-T[0],P=f-T[1],A=h-T[0],O=p-T[1],z=1/Math.sin(Math.acos((C*A+P*O)/(Math.sqrt(C*C+P*P)*Math.sqrt(A*A+O*O)))/2),I=Math.sqrt(T[0]*T[0]+T[1]*T[1]);M=Math.min(a,(t-I)/(z-1)),k=Math.min(a,(e-I)/(z+1))}if(null!=h){var R=La(null==y?[d,m]:[y,v],[c,f],e,k,o),N=La([h,p],[d,m],e,k,o);a===k?b.push("M",R[0],"A",k,",",k," 0 0,",s," ",R[1],"A",e,",",e," 0 ",1-o^Da(R[1][0],R[1][1],N[1][0],N[1][1]),",",o," ",N[1],"A",k,",",k," 0 0,",s," ",N[0]):b.push("M",R[0],"A",k,",",k," 0 1,",s," ",N[0])}else b.push("M",c,",",f);if(null!=y){var D=La([c,f],[y,v],t,-M,o),L=La([d,m],null==h?[c,f]:[h,p],t,-M,o);a===M?b.push("L",L[0],"A",M,",",M," 0 0,",s," ",L[1],"A",t,",",t," 0 ",o^Da(L[1][0],L[1][1],D[1][0],D[1][1]),",",1-o," ",D[1],"A",M,",",M," 0 0,",s," ",D[0]):b.push("L",L[0],"A",M,",",M," 0 0,",s," ",D[0])}else b.push("L",d,",",m)}else b.push("M",c,",",f),null!=h&&b.push("A",e,",",e," 0 ",x,",",o," ",h,",",p),b.push("L",d,",",m),null!=y&&b.push("A",t,",",t," 0 ",E,",",1-o," ",y,",",v);return b.push("Z"),b.join("")}function W(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(j=me(t),e):j},e.outerRadius=function(t){return arguments.length?(F=me(t),e):F},e.cornerRadius=function(t){return arguments.length?(B=me(t),e):B},e.padRadius=function(t){return arguments.length?(U=t==Aa?Aa:me(t),e):U},e.startAngle=function(t){return arguments.length?(V=me(t),e):V},e.endAngle=function(t){return arguments.length?(q=me(t),e):q},e.padAngle=function(t){return arguments.length?(Y=me(t),e):Y},e.centroid=function(){var t=(+j.apply(this,arguments)+ +F.apply(this,arguments))/2,e=(+V.apply(this,arguments)+ +q.apply(this,arguments))/2-Tt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Aa="auto";function Oa(t){return t.innerRadius}function za(t){return t.outerRadius}function Ia(t){return t.startAngle}function Ra(t){return t.endAngle}function Na(t){return t&&t.padAngle}function Da(t,e,n,r){return 0<(t-n)*e-(e-r)*t?0:1}function La(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,f=t[1]+l,h=e[0]+u,p=e[1]+l,d=(c+h)/2,m=(f+p)/2,y=h-c,v=p-f,g=y*y+v*v,_=n-r,b=c*p-h*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*g-b*b)),w=(b*v-y*x)/g,E=(-b*y-v*x)/g,S=(b*v+y*x)/g,k=(-b*y+v*x)/g,M=w-d,T=E-m,C=S-d,P=k-m;return C*C+P*P<M*M+T*T&&(w=S,E=k),[[w-u,E-l],[w*n/_,E*n/_]]}function ja(l){var c=ti,f=ei,h=$n,p=Ba,e=p.key,d=.7;function n(t){var e,n=[],r=[],i=-1,o=t.length,a=me(c),s=me(f);function u(){n.push("M",p(l(r),d))}for(;++i<o;)h.call(this,e=t[i],i)?r.push([+a.call(this,e,i),+s.call(this,e,i)]):r.length&&(u(),r=[]);return r.length&&u(),n.length?n.join(""):null}return n.x=function(t){return arguments.length?(c=t,n):c},n.y=function(t){return arguments.length?(f=t,n):f},n.defined=function(t){return arguments.length?(h=t,n):h},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?p=t:(p=Fa.get(t)||Ba).key,n):e},n.tension=function(t){return arguments.length?(d=t,n):d},n}R.svg.line=function(){return ja(D)};var Fa=R.map({linear:Ba,"linear-closed":Ua,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);1<n&&i.push("H",r[0]);return i.join("")},"step-before":Va,"step-after":qa,basis:$a,"basis-open":function(t){if(t.length<4)return Ba(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(Ha(Xa,o)+","+Ha(Xa,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ka(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];for(;++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);e=[Ha(Xa,a),",",Ha(Xa,s)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ka(e,a,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return $a(t)},cardinal:function(t,e){return t.length<3?Ba(t):t[0]+Ya(t,Wa(t,e))},"cardinal-open":function(t,e){return t.length<4?Ba(t):t[1]+Ya(t.slice(1,-1),Wa(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ua(t):t[0]+Ya((t.push(t[0]),t),Wa([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ba(t):t[0]+Ya(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ja(i,o);for(;++e<n;)r[e]=(a+(a=Ja(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),s=-1,u=t.length-1;for(;++s<u;)e=Ja(t[s],t[s+1]),I(e)<wt?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,9<(i=n*n+r*r)&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));s=-1;for(;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(t))}});function Ba(t){return 1<t.length?t.join("L"):t+"Z"}function Ua(t){return t.join("L")+"Z"}function Va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function qa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ya(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ba(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),1<e.length){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Wa(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function $a(t){if(t.length<3)return Ba(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Ha(Xa,a),",",Ha(Xa,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ka(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ha(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Fa.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Za=[0,2/3,1/3,0],Ga=[0,1/3,2/3,0],Xa=[0,1/6,2/3,1/6];function Ka(t,e,n){t.push("C",Ha(Za,e),",",Ha(Za,n),",",Ha(Ga,e),",",Ha(Ga,n),",",Ha(Xa,e),",",Ha(Xa,n))}function Ja(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Qa(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Tt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ts(d){var m=ti,y=ti,v=0,g=ei,_=$n,b=Ba,e=b.key,x=b,w="L",E=.7;function n(t){var e,n,r,i=[],o=[],a=[],s=-1,u=t.length,l=me(m),c=me(v),f=m===y?function(){return n}:me(y),h=v===g?function(){return r}:me(g);function p(){i.push("M",b(d(a),E),w,x(d(o.reverse()),E),"Z")}for(;++s<u;)_.call(this,e=t[s],s)?(o.push([n=+l.call(this,e,s),r=+c.call(this,e,s)]),a.push([+f.call(this,e,s),+h.call(this,e,s)])):o.length&&(p(),o=[],a=[]);return o.length&&p(),i.length?i.join(""):null}return n.x=function(t){return arguments.length?(m=y=t,n):y},n.x0=function(t){return arguments.length?(m=t,n):m},n.x1=function(t){return arguments.length?(y=t,n):y},n.y=function(t){return arguments.length?(v=g=t,n):g},n.y0=function(t){return arguments.length?(v=t,n):v},n.y1=function(t){return arguments.length?(g=t,n):g},n.defined=function(t){return arguments.length?(_=t,n):_},n.interpolate=function(t){return arguments.length?(e="function"==typeof t?b=t:(b=Fa.get(t)||Ba).key,x=b.reverse||b,w=b.closed?"M":"L",n):e},n.tension=function(t){return arguments.length?(E=t,n):E},n}function es(t){return t.radius}function ns(t){return[t.x,t.y]}function rs(){return 64}function is(){return"circle"}function os(t){var e=Math.sqrt(t/St);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}R.svg.line.radial=function(){var t=ja(Qa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Va.reverse=qa).reverse=Va,R.svg.area=function(){return ts(D)},R.svg.area.radial=function(){var t=ts(Qa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},R.svg.chord=function(){var a=Br,s=Ur,u=es,l=Ia,c=Ra;function e(t,e){var n,r,i=f(this,a,t,e),o=f(this,s,t,e);return"M"+i.p0+h(i.r,i.p1,i.a1-i.a0)+(r=o,(n=i).a0==r.a0&&n.a1==r.a1?p(i.r,i.p1,i.r,i.p0):p(i.r,i.p1,o.r,o.p0)+h(o.r,o.p1,o.a1-o.a0)+p(o.r,o.p1,i.r,i.p0))+"Z"}function f(t,e,n,r){var i=e.call(t,n,r),o=u.call(t,i,r),a=l.call(t,i,r)-Tt,s=c.call(t,i,r)-Tt;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function h(t,e,n){return"A"+t+","+t+" 0 "+ +(St<n)+",1 "+e}function p(t,e,n,r){return"Q 0,0 "+r}return e.radius=function(t){return arguments.length?(u=me(t),e):u},e.source=function(t){return arguments.length?(a=me(t),e):a},e.target=function(t){return arguments.length?(s=me(t),e):s},e.startAngle=function(t){return arguments.length?(l=me(t),e):l},e.endAngle=function(t){return arguments.length?(c=me(t),e):c},e},R.svg.diagonal=function(){var a=Br,s=Ur,u=ns;function e(t,e){var n=a.call(this,t,e),r=s.call(this,t,e),i=(n.y+r.y)/2,o=[n,{x:n.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(u))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return e.source=function(t){return arguments.length?(a=me(t),e):a},e.target=function(t){return arguments.length?(s=me(t),e):s},e.projection=function(t){return arguments.length?(u=t,e):u},e},R.svg.diagonal.radial=function(){var t=R.svg.diagonal(),e=ns,n=t.projection;return t.projection=function(t){return arguments.length?n((r=e=t,function(){var t=r.apply(this,arguments),e=t[0],n=t[1]-Tt;return[e*Math.cos(n),e*Math.sin(n)]})):e;var r},t},R.svg.symbol=function(){var n=is,r=rs;function e(t,e){return(as.get(n.call(this,t,e))||os)(r.call(this,t,e))}return e.type=function(t){return arguments.length?(n=me(t),e):n},e.size=function(t){return arguments.length?(r=me(t),e):r},e};var as=R.map({circle:os,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*us)),n=e*us;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),n=e*ss/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});R.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),us=Math.tan(30*Ct);$.transition=function(t){for(var e,n,r=hs||++ms,i=gs(t),o=[],a=ps||{time:Date.now(),ease:ro,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&_s(n,c,i,r,a),e.push(n)}return fs(o,i,r)},$.interrupt=function(t){return this.each(null==t?ls:cs(gs(t)))};var ls=cs(gs());function cs(r){return function(){var t,e,n;(t=this[r])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[r],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function fs(t,e,n){return U(t,ds),t.namespace=e,t.id=n,t}var hs,ps,ds=[],ms=0;function ys(t,r,i,o){var a=t.id,s=t.namespace;return lt(t,"function"==typeof i?function(t,e,n){t[s][a].tween.set(r,o(i.call(t,t.__data__,e,n)))}:(i=o(i),function(t){t[s][a].tween.set(r,i)}))}function vs(t){return null==t&&(t=""),function(){this.textContent=t}}function gs(t){return null==t?"__transition__":"__transition_"+t+"__"}function _s(o,a,i,s,t){var u,l,c,f,h,p=o[i]||(o[i]={active:0,count:0}),d=p[s];function n(t){var e=p.active,n=p[e];for(var r in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+r<s){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}l.c=m,Ee(function(){return l.c&&m(t||1)&&(l.c=null,l.t=NaN),1},0,u),p.active=s,d.event&&d.event.start.call(o,o.__data__,a),h=[],d.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&h.push(e)}),f=d.ease,c=d.duration}function m(t){for(var e=t/c,n=f(e),r=h.length;0<r;)h[--r].call(o,n);if(1<=e)return d.event&&d.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[i],1}d||(u=t.time,l=Ee(function(t){var e=d.delay;if(l.t=e+u,e<=t)return n(t-e);l.c=n},0,u),d=p[s]={tween:new g,time:u,timer:l,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}ds.call=$.call,ds.empty=$.empty,ds.node=$.node,ds.size=$.size,R.transition=function(t,e){return t&&t.transition?hs?t.transition(e):t:R.selection().transition(t)},(R.transition.prototype=ds).select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=H(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),_s(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return fs(a,o,i)},ds.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=Z(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,l),u.push(e=[]);for(var d=-1,m=n.length;++d<m;)(i=n[d])&&_s(i,d,s,a,o),e.push(i)}return fs(u,s,a)},ds.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ut(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,s=0,u=(a=this[i]).length;s<u;s++)(n=a[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return fs(r,this.namespace,this.id)},ds.tween=function(e,n){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(e):lt(this,null==n?function(t){t[i][r].tween.remove(e)}:function(t){t[i][r].tween.set(e,n)})},ds.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?mo:Zi,i=R.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return ys(this,"attr."+t,e,i.local?function(n){return null==n?a:(n+="",function(){var e,t=this.getAttributeNS(i.space,i.local);return t!==n&&(e=r(t,n),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(n){return null==n?o:(n+="",function(){var e,t=this.getAttribute(i);return t!==n&&(e=r(t,n),function(t){this.setAttribute(i,e(t))})})})},ds.attrTween=function(t,r){var i=R.ns.qualify(t);return this.tween("attr."+t,i.local?function(t,e){var n=r.call(this,t,e,this.getAttributeNS(i.space,i.local));return n&&function(t){this.setAttributeNS(i.space,i.local,n(t))}}:function(t,e){var n=r.call(this,t,e,this.getAttribute(i));return n&&function(t){this.setAttribute(i,n(t))}})},ds.style=function(r,t,i){var e=arguments.length;if(e<3){if("string"!=typeof r){for(i in e<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}function o(){this.style.removeProperty(r)}return ys(this,"style."+r,t,function(n){return null==n?o:(n+="",function(){var e,t=N(this).getComputedStyle(this,null).getPropertyValue(r);return t!==n&&(e=Zi(t,n),function(t){this.style.setProperty(r,e(t),i)})})})},ds.styleTween=function(r,i,o){return arguments.length<3&&(o=""),this.tween("style."+r,function(t,e){var n=i.call(this,t,e,N(this).getComputedStyle(this,null).getPropertyValue(r));return n&&function(t){this.style.setProperty(r,n(t),o)}})},ds.text=function(t){return ys(this,"text",t,vs)},ds.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ds.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=R.ease.apply(R,arguments)),lt(this,function(t){t[r][n].ease=e}))},ds.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:lt(this,"function"==typeof r?function(t,e,n){t[o][i].delay=+r.call(t,t.__data__,e,n)}:(r=+r,function(t){t[o][i].delay=r}))},ds.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:lt(this,"function"==typeof r?function(t,e,n){t[o][i].duration=Math.max(1,r.call(t,t.__data__,e,n))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},ds.each=function(r,n){var i=this.id,o=this.namespace;if(arguments.length<2){var t=ps,e=hs;try{hs=i,lt(this,function(t,e,n){ps=t[o][i],r.call(t,t.__data__,e,n)})}finally{ps=t,hs=e}}else lt(this,function(t){var e=t[o][i];(e.event||(e.event=R.dispatch("start","end","interrupt"))).on(r,n)});return this},ds.transition=function(){for(var t,e,n,r=this.id,i=++ms,o=this.namespace,a=[],s=0,u=this.length;s<u;s++){a.push(t=[]);for(var l,c=0,f=(l=this[s]).length;c<f;c++)(e=l[c])&&_s(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return fs(a,o,i)},R.svg.axis=function(){var M,T=R.scale.linear(),C=bs,P=6,A=6,O=3,z=[10],I=null;function n(t){t.each(function(){var t,e=R.select(this),n=this.__chart__||T,r=this.__chart__=T.copy(),i=null==I?r.ticks?r.ticks.apply(r,z):r.domain():I,o=null==M?r.tickFormat?r.tickFormat.apply(r,z):D:M,a=e.selectAll(".tick").data(i,r),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",wt),u=R.transition(a.exit()).style("opacity",wt).remove(),l=R.transition(a.order()).style("opacity",1),c=Math.max(P,0)+O,f=la(r),h=e.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),R.transition(h));s.append("line"),s.append("text");var d,m,y,v,g=s.select("line"),_=l.select("line"),b=a.select("text").text(o),x=s.select("text"),w=l.select("text"),E="top"===C||"left"===C?-1:1;if("bottom"===C||"top"===C?(t=ws,d="x",y="y",m="x2",v="y2",b.attr("dy",E<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+f[0]+","+E*A+"V0H"+f[1]+"V"+E*A)):(t=Es,d="y",y="x",m="y2",v="x2",b.attr("dy",".32em").style("text-anchor",E<0?"end":"start"),p.attr("d","M"+E*A+","+f[0]+"H0V"+f[1]+"H"+E*A)),g.attr(v,E*P),x.attr(y,E*c),_.attr(m,0).attr(v,E*P),w.attr(d,0).attr(y,E*c),r.rangeBand){var S=r,k=S.rangeBand()/2;n=r=function(t){return S(t)+k}}else n.rangeBand?n=r:u.call(t,r,n);s.call(t,n,r),l.call(t,r,r)})}return n.scale=function(t){return arguments.length?(T=t,n):T},n.orient=function(t){return arguments.length?(C=t in xs?t+"":bs,n):C},n.ticks=function(){return arguments.length?(z=h(arguments),n):z},n.tickValues=function(t){return arguments.length?(I=t,n):I},n.tickFormat=function(t){return arguments.length?(M=t,n):M},n.tickSize=function(t){var e=arguments.length;return e?(P=+t,A=+arguments[e-1],n):P},n.innerTickSize=function(t){return arguments.length?(P=+t,n):P},n.outerTickSize=function(t){return arguments.length?(A=+t,n):A},n.tickPadding=function(t){return arguments.length?(O=+t,n):O},n.tickSubdivide=function(){return arguments.length&&n},n};var bs="bottom",xs={top:1,right:1,bottom:1,left:1};function ws(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function Es(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}R.svg.brush=function(){var g,_,b=F(T,"brushstart","brush","brushend"),x=null,w=null,E=[0,0],S=[0,0],k=!0,M=!0,a=ks[0];function T(t){t.each(function(){var t=R.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(a,D);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ss[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",T.empty()?"none":null);var r,i=R.transition(t),o=R.transition(e);x&&(r=la(x),o.attr("x",r[0]).attr("width",r[1]-r[0]),P(i)),w&&(r=la(w),o.attr("y",r[0]).attr("height",r[1]-r[0]),A(i)),C(i)})}function C(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+E[+/e$/.test(t)]+","+S[+/^s/.test(t)]+")"})}function P(t){t.select(".extent").attr("x",E[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function A(t){t.select(".extent").attr("y",S[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",S[1]-S[0])}function s(){var f,n,r=this,t=R.select(R.event.target),i=b.of(r,arguments),o=R.select(r),e=t.datum(),a=!/^(n|s)$/.test(e)&&x,s=!/^(e|w)$/.test(e)&&w,h=t.classed("extent"),u=gt(r),p=R.mouse(r),l=R.select(N(r)).on("keydown.brush",function(){32==R.event.keyCode&&(h||(f=null,p[0]-=E[1],p[1]-=S[1],h=2),L())}).on("keyup.brush",function(){32==R.event.keyCode&&2==h&&(p[0]+=E[1],p[1]+=S[1],h=0,L())});if(R.event.changedTouches?l.on("touchmove.brush",m).on("touchend.brush",v):l.on("mousemove.brush",m).on("mouseup.brush",v),o.interrupt().selectAll("*").interrupt(),h)p[0]=E[0]-p[0],p[1]=S[0]-p[1];else if(e){var c=+/w$/.test(e),d=+/^n/.test(e);n=[E[1-c]-p[0],S[1-d]-p[1]],p[0]=E[c],p[1]=S[d]}else R.event.altKey&&(f=p.slice());function m(){var t=R.mouse(r),e=!1;n&&(t[0]+=n[0],t[1]+=n[1]),h||(R.event.altKey?(f||(f=[(E[0]+E[1])/2,(S[0]+S[1])/2]),p[0]=E[+(t[0]<f[0])],p[1]=S[+(t[1]<f[1])]):f=null),a&&y(t,x,0)&&(P(o),e=!0),s&&y(t,w,1)&&(A(o),e=!0),e&&(C(o),i({type:"brush",mode:h?"move":"resize"}))}function y(t,e,n){var r,i,o=la(e),a=o[0],s=o[1],u=p[n],l=n?S:E,c=l[1]-l[0];if(h&&(a-=u,s-=c+u),r=(n?M:k)?Math.max(a,Math.min(s,t[n])):t[n],h?i=(r+=u)+c:(f&&(u=Math.max(a,Math.min(s,2*f[n]-r))),u<r?(i=r,r=u):i=u),l[0]!=r||l[1]!=i)return n?_=null:g=null,l[0]=r,l[1]=i,!0}function v(){m(),o.style("pointer-events","all").selectAll(".resize").style("display",T.empty()?"none":null),R.select("body").style("cursor",null),l.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),u(),i({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),R.select("body").style("cursor",t.style("cursor")),i({type:"brushstart"}),m()}return T.event=function(t){t.each(function(){var r=b.of(this,arguments),i={x:E,y:S,i:g,j:_},t=this.__chart__||i;this.__chart__=i,hs?R.select(this).transition().each("start.brush",function(){g=t.i,_=t.j,E=t.x,S=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var e=Gi(E,i.x),n=Gi(S,i.y);return g=_=null,function(t){E=i.x=e(t),S=i.y=n(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=i.i,_=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},T.x=function(t){return arguments.length?(a=ks[!(x=t)<<1|!w],T):x},T.y=function(t){return arguments.length?(a=ks[!x<<1|!(w=t)],T):w},T.clamp=function(t){return arguments.length?(x&&w?(k=!!t[0],M=!!t[1]):x?k=!!t:w&&(M=!!t),T):x&&w?[k,M]:x?k:w?M:null},T.extent=function(t){var e,n,r,i,o;return arguments.length?(x&&(e=t[0],n=t[1],w&&(e=e[0],n=n[0]),g=[e,n],x.invert&&(e=x(e),n=x(n)),n<e&&(o=e,e=n,n=o),e==E[0]&&n==E[1]||(E=[e,n])),w&&(r=t[0],i=t[1],x&&(r=r[1],i=i[1]),_=[r,i],w.invert&&(r=w(r),i=w(i)),i<r&&(o=r,r=i,i=o),r==S[0]&&i==S[1]||(S=[r,i])),T):(x&&(g?(e=g[0],n=g[1]):(e=E[0],n=E[1],x.invert&&(e=x.invert(e),n=x.invert(n)),n<e&&(o=e,e=n,n=o))),w&&(_?(r=_[0],i=_[1]):(r=S[0],i=S[1],w.invert&&(r=w.invert(r),i=w.invert(i)),i<r&&(o=r,r=i,i=o))),x&&w?[[e,r],[n,i]]:x?[e,n]:w&&[r,i])},T.clear=function(){return T.empty()||(E=[0,0],S=[0,0],g=_=null),T},T.empty=function(){return!!x&&E[0]==E[1]||!!w&&S[0]==S[1]},R.rebind(T,b,"on")};var Ss={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ks=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ms=ze.format=sn.timeFormat,Ts=Ms.utc,Cs=Ts("%Y-%m-%dT%H:%M:%S.%LZ");function Ps(t){return t.toISOString()}function As(e,i,t){function a(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,r=R.bisect(zs,n);return r==zs.length?[i.year,va(t.map(function(t){return t/31536e6}),e)[2]]:r?i[n/zs[r-1]<zs[r]/n?r-1:r]:[Ns,va(t,e)[2]]}return a.invert=function(t){return Os(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Os)},a.nice=function(e,n){var t=a.domain(),r=ua(t),i=null==e?s(r,10):"number"==typeof e&&s(r,e);function o(t){return!isNaN(t)&&!e.range(t,Os(+t+1),n).length}return i&&(e=i[0],n=i[1]),a.domain(fa(t,1<n?{floor:function(t){for(;o(t=e.floor(t));)t=Os(t-1);return t},ceil:function(t){for(;o(t=e.ceil(t));)t=Os(+t+1);return t}}:e))},a.ticks=function(t,e){var n=ua(a.domain()),r=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],Os(+n[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return As(e.copy(),i,t)},ma(a,e)}function Os(t){return new Date(t)}Ms.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ps:Cs,Ps.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ps.toString=Cs.toString,ze.second=De(function(t){return new Ie(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ze.seconds=ze.second.range,ze.seconds.utc=ze.second.utc.range,ze.minute=De(function(t){return new Ie(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ze.minutes=ze.minute.range,ze.minutes.utc=ze.minute.utc.range,ze.hour=De(function(t){var e=t.getTimezoneOffset()/60;return new Ie(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ze.hours=ze.hour.range,ze.hours.utc=ze.hour.utc.range,ze.month=De(function(t){return(t=ze.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ze.months=ze.month.range,ze.months.utc=ze.month.utc.range;var zs=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Is=[[ze.second,1],[ze.second,5],[ze.second,15],[ze.second,30],[ze.minute,1],[ze.minute,5],[ze.minute,15],[ze.minute,30],[ze.hour,1],[ze.hour,3],[ze.hour,6],[ze.hour,12],[ze.day,1],[ze.day,2],[ze.week,1],[ze.month,1],[ze.month,3],[ze.year,1]],Rs=Ms.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",$n]]),Ns={range:function(t,e,n){return R.range(Math.ceil(t/n)*n,+e,n).map(Os)},floor:D,ceil:D};Is.year=ze.year,ze.scale=function(){return As(R.scale.linear(),Is,Rs)};var Ds=Is.map(function(t){return[t[0].utc,t[1]]}),Ls=Ts.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",$n]]);function js(t){return JSON.parse(t.responseText)}function Fs(t){var e=_.createRange();return e.selectNode(_.body),e.createContextualFragment(t.responseText)}Ds.year=ze.year.utc,ze.scale.utc=function(){return As(R.scale.linear(),Ds,Ls)},R.text=ye(function(t){return t.responseText}),R.json=function(t,e){return ve(t,"application/json",js,e)},R.html=function(t,e){return ve(t,"text/html",Fs,e)},R.xml=ye(function(t){return t.responseXML}),this.d3=R,void 0===(Ys="function"==typeof(qs=R)?qs.call(Us,Vs,Us,Bs):qs)||(Bs.exports=Ys)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(0)),i=u(n(1)),o=n(9),a=u(n(27)),s=u(n(87));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=t.loans;if(t.loading)return i.default.createElement(a.default,null);for(var n=0,r=0;r<e.length;r++)"1"==e[r].prediction&&n++;return i.default.createElement(s.default,{iconClass:"fe",bgColor:"red",text:n,mutedText:"Predicted Default Cases"})};l.propTypes={loans:r.default.array,loading:r.default.bool},e.default=(0,o.connect)(function(t){var e=t.loans;return{loans:e.loans,loading:e.loading}})(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(0)),i=u(n(1)),o=n(9),a=u(n(27)),s=u(n(87));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=t.loans;if(t.loading)return i.default.createElement(a.default,null);for(var n=0,r=0;r<e.length;r++)"0"==e[r].prediction&&n++;return i.default.createElement(s.default,{iconClass:"fe",bgColor:"blue",text:n,mutedText:"Predicted Performing Cases"})};l.propTypes={loans:r.default.array,loading:r.default.bool},e.default=(0,o.connect)(function(t){var e=t.loans;return{loans:e.loans,loading:e.loading}})(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),h=s(n(249)),m=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(60));n(251);var i=n(9),o=n(0),a=n(1),y=s(a),v=n(101),g=s(v),_=s(n(266));s(n(27));function s(t){return t&&t.__esModule?t:{default:t}}var b={position:"absolute",top:0,left:0,padding:"10px"},u=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={currentMapAttr:{},initialMapAttr:{},initialized:!1,elementId:"map-container"},e.resetViewport=e.resetViewport.bind(e),e.updateViewport=e.updateViewport.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.Component),r(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resetViewport.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resetViewport.bind(this))}},{key:"getContainerDimensions",value:function(){var t=this.state.elementId,e=document.getElementById(t);return[e.offsetWidth,e.offsetHeight]}},{key:"initializeViewport",value:function(){var t=this.props,e=t.loans,n=t.onBoundsChange;this.setState({initialized:!0});var r=this.getContainerDimensions(),i=m.max(e,function(t){return t.latitude}),o=m.min(e,function(t){return t.latitude}),a=m.max(e,function(t){return t.longitude}),s=m.min(e,function(t){return t.longitude});(Number.isNaN(i)||void 0===i||Number.isNaN(o)||void 0===o||Number.isNaN(a)||void 0===a||Number.isNaN(s)||void 0===s)&&(o=5.7228792694,i=20.6364270387,s=35.9341958032,a=47.2895435851);var u=h.default.viewport([s,o,a,i],r),l=.8*u.zoom,c=h.default.bounds(u.center,l,r,r[0]),f={longitude:u.center[0],latitude:u.center[1],zoom:l,width:r[0],height:r[1]};this.setState({currentMapAttr:f,initialMapAttr:f}),n(c)}},{key:"resetViewport",value:function(){var t=this.getContainerDimensions(),e=this.state.initialMapAttr,n=e.zoom,r=e.latitude,i=e.longitude,o=this.props.onBoundsChange,a={longitude:i,latitude:r,zoom:n,width:t[0],height:t[1]},s=h.default.bounds([a.longitude,a.latitude],a.zoom,t,t[0]);this.setState({currentMapAttr:a}),o(s)}},{key:"updateViewport",value:function(t){this.setState({currentMapAttr:t});var e=this.getContainerDimensions();(0,this.props.onBoundsChange)(h.default.bounds([t.longitude,t.latitude],t.zoom,e,e[0]))}},{key:"render",value:function(){var r=this,t=this.props,e=t.loading,n=t.loans;if(e)return y.default.createElement("div",{className:"card"},y.default.createElement("div",{className:"card-body"},y.default.createElement("div",{id:"map-container",style:{minHeight:330}})));var i=this.state,o=i.initialized,a=i.currentMapAttr,s=i.initialMapAttr;o||this.initializeViewport();var u=m.scaleLinear().domain([m.min(n,function(t){return t.im_util_cassa}),m.max(n,function(t){return t.im_util_cassa})]).range([.3,1]),l=a!==s,c=null,f=0;if(Object.prototype.hasOwnProperty.call(a,"width")&&Object.prototype.hasOwnProperty.call(a,"height")){var h=[],p=this;n.forEach(function(t,e){if(void 0!==t&&null!==t.latitude&&void 0!==t.latitude&&!Number.isNaN(t.latitude)&&null!==t.longitude&&void 0!==t.longitude&&!Number.isNaN(t.longitude)){f+=1;var n=u(t.im_util_cassa);h.push(y.default.createElement(_.default,{key:t.id,latitude:t.latitude,longitude:t.longitude,value:t.im_util_cassa,radius:3,color:"rgba(255, 0, 0, "+n+")",onClick:p.props.onMarkerClicked.bind(r,t)}))}}),c=y.default.createElement(g.default,d({ref:"map"},a,{mapStyle:"mapbox://styles/mapbox/light-v9",mapboxApiAccessToken:"pk.eyJ1IjoiZmNlcnV0aSIsImEiOiJjamk0ZndyeWowOHdrM3BzMjNzcXZxd3EwIn0.GgiX4tu7xAVPoLcQXJo_Tw",onViewportChange:this.updateViewport,transitionDuration:0}),h.slice(0,500),y.default.createElement("div",{className:"nav",style:b},y.default.createElement(v.NavigationControl,{onViewportChange:this.updateViewport})))}return y.default.createElement("div",{className:"card"},y.default.createElement("div",{className:"card-header"},y.default.createElement("h3",{className:"card-title"},"Porfolio map"),y.default.createElement("div",{className:"card-options"},l?y.default.createElement("button",{onClick:this.resetViewport,className:"btn btn-secondary btn-sm ml-2",type:"button"},"Reset"):null)),y.default.createElement("div",{className:"card-body"},y.default.createElement("div",{id:"map-container",style:{minHeight:330}},c),y.default.createElement("p",{className:"text-muted text-right"},"Displaying ",f," out of ",n.length," loans")))}}]),n}();u.propTypes={loans:o.PropTypes.array,loading:o.PropTypes.bool,onBoundsChange:o.PropTypes.func.isRequired,onMarkerClicked:o.PropTypes.func.isRequired},e.default=(0,i.connect)(function(t){var e=t.loans;return{loans:e.loans,loading:e.loading}})(u)},function(t,e,n){var r=n(250),i={};function b(t){return i[t=t||256]||(i[t]=new r({size:t})),i[t]}t.exports.viewport=function(t,e,n,r,i,o){n=void 0===n?0:n,r=void 0===r?20:r;var a=b(i),s=r,u=a.px([t[0],t[1]],s),l=a.px([t[2],t[3]],s),c=l[0]-u[0],f=u[1]-l[1],h=[c/e[0],f/e[1]],p=[(t[0]+t[2])/2,(t[1]+t[3])/2],d=(y=s,v=h,g=o,_=Math.min(y-Math.log(v[0])/Math.log(2),y-Math.log(v[1])/Math.log(2)),g?_:Math.floor(_)),m=Math.max(n,Math.min(r,d));var y,v,g,_;return{center:p,zoom:m}},t.exports.bounds=function(t,e,n,r){void 0!==t.lon&&(t=[t.lon,t.lat]);var i=b(r),o=i.px(t,e),a=i.ll([o[0]-n[0]/2,o[1]-n[1]/2],e),s=i.ll([o[0]+n[0]/2,o[1]+n[1]/2],e);return[a[0],s[1],s[0],a[1]]}},function(t,e,n){var r=function(){var i={},c=Math.PI/180,s=180/Math.PI,n=6378137,r=20037508.342789244;function f(t){return Number(t)===t&&t%1!=0}function t(t){if(t=t||{},this.size=t.size||256,!i[this.size]){var e=this.size,n=i[this.size]={};n.Bc=[],n.Cc=[],n.zc=[],n.Ac=[];for(var r=0;r<30;r++)n.Bc.push(e/360),n.Cc.push(e/(2*Math.PI)),n.zc.push(e/2),n.Ac.push(e),e*=2}this.Bc=i[this.size].Bc,this.Cc=i[this.size].Cc,this.zc=i[this.size].zc,this.Ac=i[this.size].Ac}return t.prototype.px=function(t,e){if(f(e)){var n=this.size*Math.pow(2,e),r=n/2,i=n/360,o=n/(2*Math.PI),a=n,s=Math.min(Math.max(Math.sin(c*t[1]),-.9999),.9999);return a<(u=r+t[0]*i)&&(u=a),a<(l=r+.5*Math.log((1+s)/(1-s))*-o)&&(l=a),[u,l]}r=this.zc[e],s=Math.min(Math.max(Math.sin(c*t[1]),-.9999),.9999);var u=Math.round(r+t[0]*this.Bc[e]),l=Math.round(r+.5*Math.log((1+s)/(1-s))*-this.Cc[e]);return u>this.Ac[e]&&(u=this.Ac[e]),l>this.Ac[e]&&(l=this.Ac[e]),[u,l]},t.prototype.ll=function(t,e){if(f(e)){var n=this.size*Math.pow(2,e),r=n/360,i=n/(2*Math.PI),o=n/2,a=(t[1]-o)/-i;return[(t[0]-o)/r,s*(2*Math.atan(Math.exp(a))-.5*Math.PI)]}a=(t[1]-this.zc[e])/-this.Cc[e];return[(t[0]-this.zc[e])/this.Bc[e],s*(2*Math.atan(Math.exp(a))-.5*Math.PI)]},t.prototype.bbox=function(t,e,n,r,i){r&&(e=Math.pow(2,n)-1-e);var o=[t*this.size,(+e+1)*this.size],a=[(+t+1)*this.size,e*this.size],s=this.ll(o,n).concat(this.ll(a,n));return"900913"===i?this.convert(s,"900913"):s},t.prototype.xyz=function(t,e,n,r){"900913"===r&&(t=this.convert(t,"WGS84"));var i=[t[0],t[1]],o=[t[2],t[3]],a=this.px(i,e),s=this.px(o,e),u=[Math.floor(a[0]/this.size),Math.floor((s[0]-1)/this.size)],l=[Math.floor(s[1]/this.size),Math.floor((a[1]-1)/this.size)],c={minX:Math.min.apply(Math,u)<0?0:Math.min.apply(Math,u),minY:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),maxX:Math.max.apply(Math,u),maxY:Math.max.apply(Math,l)};if(n){var f={minY:Math.pow(2,e)-1-c.maxY,maxY:Math.pow(2,e)-1-c.minY};c.minY=f.minY,c.maxY=f.maxY}return c},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[n*t[0]*c,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*c))];return e[0]>r&&(e[0]=r),e[0]<-r&&(e[0]=-r),e[1]>r&&(e[1]=r),e[1]<-r&&(e[1]=-r),e},t.prototype.inverse=function(t){return[t[0]*s/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*s]},t}();t.exports=r},function(t,e,n){},,function(t,e){t.exports=function(t,e,n){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;0<a&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a);return t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}},function(t,e){t.exports=function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t}},function(t,e){t.exports=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}},function(t,e,n){t.exports=function(){"use strict";var i,o,a;function t(t,e){if(i)if(o){var n="var sharedChunk = {}; ("+i+")(sharedChunk); ("+o+")(sharedChunk);",r={};i(r),(a=e(r)).workerUrl=window.URL.createObjectURL(new Blob([n],{type:"text/javascript"}))}else o=e;else i=e}return t(0,function(t){function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),i=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,o=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,a={now:r,frame:function(t){var e=i(t);return{cancel:function(){return o(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},resolveURL:function(t){var e=self.document.createElement("a");return e.href=t,e.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},supportsWebp:!1};if(self.document){var s=self.document.createElement("img");s.onload=function(){a.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="}var u=l;function l(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}l.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},l.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},l.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},l.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;o<t?n=i:r=i,i=.5*(r-n)+n}return i},l.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var c=function(t,e,n){this.column=t,this.row=e,this.zoom=n};c.prototype.clone=function(){return new c(this.column,this.row,this.zoom)},c.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},c.prototype.sub=function(t){return this.clone()._sub(t)},c.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},c.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this};var m=f;function f(t,e){this.x=t,this.y=e}function h(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!h(t[n],e[n]))return!1;return!0}if("object"!=typeof t||null===t||null===e)return t===e;if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!h(t[r],e[r]))return!1;return!0}function p(t,e,n,r){var i=new u(t,e,n,r);return function(t){return i.solve(t)}}f.prototype={clone:function(){return new f(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.convert=function(t){return t instanceof f?t:Array.isArray(t)?new f(t[0],t[1]):t};var d=p(.25,.1,.25,1);function v(t,e,n){return Math.min(n,Math.max(e,t))}function y(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var g=1;function _(){return g++}function b(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function x(t,e){return-1!==t.indexOf(e,t.length-e.length)}function w(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function E(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function S(t){return Array.isArray(t)?t.map(S):"object"==typeof t&&t?w(t,S):t}var k={};function M(t){k[t]||("undefined"!=typeof console&&console.warn(t),k[t]=!0)}function T(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],e+=((a=t[i]).x-o.x)*(o.y+a.y);return e}var P={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(P);var A=function(r){function t(t,e,n){r.call(this,t),this.status=e,this.url=n,this.name=this.constructor.name,this.message=t}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error);function O(t){var e=new self.XMLHttpRequest;for(var n in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}var z=function(e,n){var r=O(e);return r.responseType="arraybuffer",r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){var t=r.response;if(0===t.byteLength&&200===r.status)return n(new Error("http status 200 returned without content."));200<=r.status&&r.status<300&&r.response?n(null,{data:t,cacheControl:r.getResponseHeader("Cache-Control"),expires:r.getResponseHeader("Expires")}):n(new A(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}};function I(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function R(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var N=function(t,e){void 0===e&&(e={}),y(this,e),this.type=t},D=function(n){function t(t,e){void 0===e&&(e={}),n.call(this,"error",y({error:t},e))}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t}(N),L=function(){};L.prototype.on=function(t,e){return this._listeners=this._listeners||{},I(t,e,this._listeners),this},L.prototype.off=function(t,e){return R(t,e,this._listeners),R(t,e,this._oneTimeListeners),this},L.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},I(t,e,this._oneTimeListeners),this},L.prototype.fire=function(t){"string"==typeof t&&(t=new N(t,arguments[1]||{}));var e=t.type;if(this.listens(e)){for(var n=0,r=(t.target=this)._listeners&&this._listeners[e]?this._listeners[e].slice():[];n<r.length;n+=1)r[n].call(this,t);for(var i=0,o=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];i<o.length;i+=1){var a=o[i];R(e,a,this._oneTimeListeners),a.call(this,t)}var s=this._eventedParent;s&&(y(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else t instanceof D&&console.error(t.error);return this},L.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&0<this._listeners[t].length||this._oneTimeListeners&&this._oneTimeListeners[t]&&0<this._oneTimeListeners[t].length||this._eventedParent&&this._eventedParent.listens(t)};var j={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:(L.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},!1)},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},lineMetrics:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"string",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},F=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function B(t){var e=t.key,n=t.value;return n?[new F(e,n,"constants have been deprecated as of v8")]:[]}function U(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function V(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function q(t){return Array.isArray(t)?t.map(q):V(t)}var Y=function(n){function t(t,e){n.call(this,e),this.message=e,this.key=t}return n&&(t.__proto__=n),(t.prototype=Object.create(n&&n.prototype)).constructor=t}(Error),W=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};W.prototype.concat=function(t){return new W(this,t)},W.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},W.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var $={kind:"null"},H={kind:"number"},Z={kind:"string"},G={kind:"boolean"},X={kind:"color"},K={kind:"object"},J={kind:"value"},Q={kind:"collator"};function tt(t,e){return{kind:"array",itemType:t,N:e}}function et(t){if("array"!==t.kind)return t.kind;var e=et(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}var nt=[$,H,Z,G,X,K,tt(J)];function rt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!rt(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=nt;n<r.length;n+=1)if(!rt(r[n],e))return null}return"Expected "+et(t)+" but found "+et(e)+" instead."}var it=n(function(t,e){var p={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(t){return(t=Math.round(t))<0?0:255<t?255:t}function n(t){return t<0?0:1<t?1:t}function m(t){return"%"===t[t.length-1]?d(parseFloat(t)/100*255):d(parseInt(t))}function y(t){return"%"===t[t.length-1]?n(parseFloat(t)/100):n(parseFloat(t))}function v(t,e,n){return n<0?n+=1:1<n&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,n=t.replace(/ /g,"").toLowerCase();if(n in p)return p[n].slice();if("#"===n[0])return 4===n.length?0<=(e=parseInt(n.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===n.length&&0<=(e=parseInt(n.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),a=n.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=y(a.pop());case"rgb":return 3!==a.length?null:[m(a[0]),m(a[1]),m(a[2]),s];case"hsla":if(4!==a.length)return null;s=y(a.pop());case"hsl":if(3!==a.length)return null;var u=(parseFloat(a[0])%360+360)%360/360,l=y(a[1]),c=y(a[2]),f=c<=.5?c*(l+1):c+l-c*l,h=2*c-f;return[d(255*v(h,f,u+1/3)),d(255*v(h,f,u)),d(255*v(h,f,u-1/3)),s];default:return null}}return null}}catch(t){}}).parseCSSColor,ot=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};ot.parse=function(t){if(t){if(t instanceof ot)return t;if("string"==typeof t){var e=it(t);if(e)return new ot(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ot.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},ot.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},ot.black=new ot(0,0,0,1),ot.white=new ot(1,1,1,1),ot.transparent=new ot(0,0,0,0);var at=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};at.prototype.compare=function(t,e){return this.collator.compare(t,e)},at.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var st=function(t,e,n){this.type=Q,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function ut(t,e,n,r){return"number"==typeof t&&0<=t&&t<=255&&"number"==typeof e&&0<=e&&e<=255&&"number"==typeof n&&0<=n&&n<=255?void 0===r||"number"==typeof r&&0<=r&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function lt(t){if(null===t)return $;if("string"==typeof t)return Z;if("boolean"==typeof t)return G;if("number"==typeof t)return H;if(t instanceof ot)return X;if(t instanceof at)return Q;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=lt(i[r]);if(e){if(e===o)continue;e=J;break}e=o}return tt(e||J,n)}return K}st.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,G);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,G);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Z))?null:new st(r,i,o)},st.prototype.evaluate=function(t){return new at(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},st.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},st.prototype.possibleOutputs=function(){return[void 0]},st.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var ct=function(t,e){this.type=t,this.value=e};ct.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof ot)return!0;if(e instanceof at)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"!=typeof e)return!1;for(var i in e)if(!t(e[i]))return!1;return!0}(t[1]))return e.error("invalid value");var n=t[1],r=lt(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ct(r,n)},ct.prototype.evaluate=function(){return this.value},ct.prototype.eachChild=function(){},ct.prototype.possibleOutputs=function(){return[this.value]},ct.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ot?["rgba"].concat(this.value.toArray()):this.value};var ft=function(t){this.name="ExpressionEvaluationError",this.message=t};ft.prototype.toJSON=function(){return this.message};var ht={string:Z,number:H,boolean:G,object:K},pt=function(t,e){this.type=t,this.args=e};pt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=ht[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,J);if(!a)return null;i.push(a)}return new pt(r,i)},pt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!rt(this.type,lt(n)))return n;if(e===this.args.length-1)throw new ft("Expected value to be of type "+et(this.type)+", but found "+et(lt(n))+" instead.")}return null},pt.prototype.eachChild=function(t){this.args.forEach(t)},pt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},pt.prototype.serialize=function(){return[this.type.kind].concat(this.args.map(function(t){return t.serialize()}))};var dt={string:Z,number:H,boolean:G},mt=function(t,e){this.type=t,this.input=e};mt.parse=function(t,e){if(t.length<2||4<t.length)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var n,r;if(2<t.length){var i=t[1];if("string"!=typeof i||!(i in dt))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=dt[i]}else n=J;if(3<t.length){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);r=t[2]}var o=tt(n,r),a=e.parse(t[t.length-1],t.length-1,J);return a?new mt(o,a):null},mt.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(rt(this.type,lt(e)))throw new ft("Expected value to be of type "+et(this.type)+", but found "+et(lt(e))+" instead.");return e},mt.prototype.eachChild=function(t){t(this.input)},mt.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},mt.prototype.serialize=function(){var t=["array"],e=this.type.itemType;if("string"===e.kind||"number"===e.kind||"boolean"===e.kind){t.push(e.kind);var n=this.type.N;"number"==typeof n&&t.push(n)}return t.push(this.input.serialize()),t};var yt={"to-number":H,"to-color":X},vt=function(t,e){this.type=t,this.args=e};vt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],r=yt[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,J);if(!a)return null;i.push(a)}return new vt(r,i)},vt.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1)if(n=null,"string"==typeof(e=i[r].evaluate(t))){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||4<e.length?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ut(e[0],e[1],e[2],e[3])))return new ot(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new ft(n||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}for(var a=null,s=0,u=this.args;s<u.length;s+=1)if(null!==(a=u[s].evaluate(t))){var l=Number(a);if(!isNaN(l))return l}throw new ft("Could not convert "+JSON.stringify(a)+" to number.")},vt.prototype.eachChild=function(t){this.args.forEach(t)},vt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},vt.prototype.serialize=function(){var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var gt=["Unknown","Point","LineString","Polygon"],_t=function(){this._parseColorCache={}};_t.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},_t.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?gt[this.feature.type]:this.feature.type:null},_t.prototype.properties=function(){return this.feature&&this.feature.properties||{}},_t.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ot.parse(t)),e};var bt=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};function xt(t){if(t instanceof bt){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!xt(t)&&(e=!1)}),e}function wt(t){if(t instanceof bt&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!wt(t)&&(e=!1)}),e}function Et(t,e){if(t instanceof bt&&0<=e.indexOf(t.name))return!1;var n=!0;return t.eachChild(function(t){n&&!Et(t,e)&&(n=!1)}),n}bt.prototype.evaluate=function(t){return this._evaluate(t,this.args)},bt.prototype.eachChild=function(t){this.args.forEach(t)},bt.prototype.possibleOutputs=function(){return[void 0]},bt.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},bt.parse=function(n,t){var e=n[0],r=bt.definitions[e];if(!r)return t.error('Unknown expression "'+e+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(function(t){var e=t[0];return!Array.isArray(e)||e.length===n.length-1}),s=[],u=1;u<n.length;u++){var l=n[u],c=void 0;if(1===a.length){var f=a[0][0];c=Array.isArray(f)?f[u-1]:f.type}var h=t.parse(l,1+s.length,c);if(!h)return null;s.push(h)}for(var p=null,d=0,m=a;d<m.length;d+=1){var y=m[d],v=y[0],g=y[1];if(p=new kt(t.registry,t.path,null,t.scope),Array.isArray(v)&&v.length!==s.length)p.error("Expected "+v.length+" arguments, but found "+s.length+" instead.");else{for(var _=0;_<s.length;_++){var b=Array.isArray(v)?v[_]:v.type,x=s[_];p.concat(_+1).checkSubtype(b,x.type)}if(0===p.errors.length)return new bt(e,i,g,s)}}if(1===a.length)t.errors.push.apply(t.errors,p.errors);else{var w=(a.length?a:o).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(et).join(", ")+")":"("+et(e.type)+"...)"}).join(" | "),E=s.map(function(t){return et(t.type)}).join(", ");t.error("Expected arguments of type "+w+", but found ("+E+") instead.")}return null},bt.register=function(t,e){for(var n in bt.definitions=e)t[n]=bt};var St=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};St.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new St(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},St.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},St.prototype.eachChild=function(){},St.prototype.possibleOutputs=function(){return[void 0]},St.prototype.serialize=function(){return["var",this.name]};var kt=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new W),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Mt(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)],r=t[a+1],e===n||n<e&&e<r)return a;if(n<e)i=a+1;else{if(!(e<n))throw new ft("Input is not a number.");o=a-1}}return Math.max(a-1,0)}kt.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},kt.prototype._parse=function(t,e){if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=t[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[n];if(r){var i=r.parse(t,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,a=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind||"value"!==a.kind)if("array"===o.kind&&"value"===a.kind)e.omitTypeAnnotations||(i=new mt(o,i));else if("color"!==o.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(this.expectedType,i.type))return null}else e.omitTypeAnnotations||(i=new vt(o,[i]));else e.omitTypeAnnotations||(i=new pt(o,[i]))}if(!(i instanceof ct)&&function e(t){if(t instanceof St)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof st)return!1;var n=t instanceof vt||t instanceof pt||t instanceof mt,r=!0;return t.eachChild(function(t){r=n?r&&e(t):r&&t instanceof ct}),!!r&&xt(t)&&Et(t,["zoom","heatmap-density","line-progress","is-supported-script"])}(i)){var s=new _t;try{i=new ct(i.type,i.evaluate(s))}catch(t){return this.error(t.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},kt.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new kt(this.registry,r,e||null,i,this.errors)},kt.prototype.error=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];var r=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new Y(r,t))},kt.prototype.checkSubtype=function(t,e){var n=rt(t,e);return n&&this.error(n),n};var Tt=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function Ct(t,e,n){return t*(1-n)+e*n}Tt.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,H)))return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],u=r[a+1],l=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(i.length&&i[i.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var f=e.parse(u,c,o);if(!f)return null;o=o||f.type,i.push([s,f])}return new Tt(o,n,i)},Tt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Mt(e,r)].evaluate(t)},Tt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Tt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},Tt.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)0<e&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Pt=Object.freeze({number:Ct,color:function(t,e,n){return new ot(Ct(t.r,e.r,n),Ct(t.g,e.g,n),Ct(t.b,e.b,n),Ct(t.a,e.a,n))},array:function(t,n,r){return t.map(function(t,e){return Ct(t,n[e],r)})}}),At=function(t,e,n,r){this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(var i=0,o=r;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1];this.labels.push(s),this.outputs.push(u)}};function Ot(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}At.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=Ot(e,t.base,n,r);else if("linear"===t.name)i=Ot(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new u(o[0],o[1],o[2],o[3]).solve(Ot(e,1,n,r))}return i},At.parse=function(t,e){var n=t[1],r=t[2],i=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||t<0||1<t}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,H)))return null;var s=[],u=null;e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var l=0;l<i.length;l+=2){var c=i[l],f=i[l+1],h=l+3,p=l+4;if("number"!=typeof c)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(s.length&&s[s.length-1][0]>=c)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var d=e.parse(f,p,u);if(!d)return null;u=u||d.type,s.push([c,d])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new At(u,n,r,s):e.error("Type "+et(u)+" is not interpolatable.")},At.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Mt(e,r),a=e[o],s=e[o+1],u=At.interpolationFactor(this.interpolation,r,a,s),l=n[o].evaluate(t),c=n[o+1].evaluate(t);return Pt[this.type.kind.toLowerCase()](l,c,u)},At.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},At.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},At.prototype.serialize=function(){for(var t=["interpolate","linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints),this.input.serialize()],e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t};var zt=function(t,e){this.type=t,this.args=e};zt.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],u=e.parse(s,1+i.length,n,void 0,{omitTypeAnnotations:!0});if(!u)return null;n=n||u.type,i.push(u)}var l=r&&i.some(function(t){return rt(r,t.type)});return new zt(l?J:n,i)},zt.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length&&null===(e=r[n].evaluate(t));n+=1);return e},zt.prototype.eachChild=function(t){this.args.forEach(t)},zt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},zt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var It=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};It.prototype.evaluate=function(t){return this.result.evaluate(t)},It.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},It.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,void 0,n);return a?new It(n,a):null},It.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},It.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var Rt=function(t,e,n){this.type=t,this.index=e,this.input=n};Rt.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,H),r=e.parse(t[2],2,tt(e.expectedType||J));if(!n||!r)return null;var i=r.type;return new Rt(i.itemType,n,r)},Rt.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ft("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ft("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ft("Array index must be an integer, but found "+e+" instead.");return n[e]},Rt.prototype.eachChild=function(t){t(this.index),t(this.input)},Rt.prototype.possibleOutputs=function(){return[void 0]},Rt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Nt=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Nt.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var h=f[c];if("number"!=typeof h&&"string"!=typeof h)return l.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,lt(h)))return null}else n=lt(h);if(void 0!==i[String(h)])return l.error("Branch labels must be unique.");i[String(h)]=o.length}var p=e.parse(u,a,r);if(!p)return null;r=r||p.type,o.push(p)}var d=e.parse(t[1],1,J);if(!d)return null;var m=e.parse(t[t.length-1],t.length-1,r);return m?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new Nt(n,r,d,i,o,m):null},Nt.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(lt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Nt.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Nt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},Nt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i],s=r[e.cases[a]];void 0===s?(r[e.cases[a]]=n.length,n.push([e.cases[a],[a]])):n[s][1].push(a)}for(var u=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,c=n;l<c.length;l+=1){var f=c[l],h=f[0],p=f[1];1===p.length?t.push(u(p[0])):t.push(p.map(u)),t.push(e.outputs[h].serialize())}return t.push(this.otherwise.serialize()),t};var Dt=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Lt(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function jt(t,n){return function(){function o(t,e,n){this.type=G,this.lhs=t,this.rhs=e,this.collator=n}return o.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=e.parse(t[1],1,J);if(!n)return null;var r=e.parse(t[2],2,J);if(!r)return null;if(!Lt(n.type)&&!Lt(r.type))return e.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+et(n.type)+", "+et(r.type)+") instead.");if(n.type.kind!==r.type.kind&&"value"!==n.type.kind&&"value"!==r.type.kind)return e.error("Cannot compare "+et(n.type)+" and "+et(r.type)+".");var i=null;if(4===t.length){if("string"!==n.type.kind&&"string"!==r.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(i=e.parse(t[3],3,Q)))return null}return new o(n,r,i)},o.prototype.evaluate=function(t){var e=this.collator?0===this.collator.evaluate(t).compare(this.lhs.evaluate(t),this.rhs.evaluate(t)):this.lhs.evaluate(t)===this.rhs.evaluate(t);return n?!e:e},o.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},o.prototype.possibleOutputs=function(){return[!0,!1]},o.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},o}()}Dt.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,G);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Dt(n,r,s):null},Dt.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Dt.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},Dt.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t};var Ft=jt("==",!(Dt.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e})),Bt=jt("!=",!0),Ut=function(t){this.type=H,this.input=t};Ut.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+et(n.type)+" instead."):new Ut(n):null},Ut.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ft("Expected value to be of type string or array, but found "+et(lt(e))+" instead.")},Ut.prototype.eachChild=function(t){t(this.input)},Ut.prototype.possibleOutputs=function(){return[void 0]},Ut.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Vt={"==":Ft,"!=":Bt,array:mt,at:Rt,boolean:pt,case:Dt,coalesce:zt,collator:st,interpolate:At,length:Ut,let:It,literal:ct,match:Nt,number:pt,object:pt,step:Tt,string:pt,"to-color":vt,"to-number":vt,var:St};function qt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=ut(n,r,i,a);if(s)throw new ft(s);return new ot(n/255*a,r/255*a,i/255*a,a)}function Yt(t,e){return t in e}function Wt(t,e){var n=e[t];return void 0===n?null:n}function $t(t,e){var n=e[0],r=e[1];return n.evaluate(t)<r.evaluate(t)}function Ht(t,e){var n=e[0],r=e[1];return n.evaluate(t)>r.evaluate(t)}function Zt(t,e){var n=e[0],r=e[1];return n.evaluate(t)<=r.evaluate(t)}function Gt(t,e){var n=e[0],r=e[1];return n.evaluate(t)>=r.evaluate(t)}function Xt(t){return{type:t}}function Kt(t){return{result:"success",value:t}}function Jt(t){return{result:"error",value:t}}function Qt(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function te(t){return!!t.expression&&-1<t.expression.parameters.indexOf("zoom")}function ee(t){return!!t.expression&&t.expression.interpolated}bt.register(Vt,{error:[{kind:"error"},[Z],function(t,e){var n=e[0];throw new ft(n.evaluate(t))}],typeof:[Z,[J],function(t,e){return et(lt(e[0].evaluate(t)))}],"to-string":[Z,[J],function(t,e){var n=e[0],r=typeof(n=n.evaluate(t));return null===n?"":"string"===r||"number"===r||"boolean"===r?String(n):n instanceof ot?n.toString():JSON.stringify(n)}],"to-boolean":[G,[J],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[tt(H,4),[X],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[X,[H,H,H],qt],rgba:[X,[H,H,H,H],qt],has:{type:G,overloads:[[[Z],function(t,e){return Yt(e[0].evaluate(t),t.properties())}],[[Z,K],function(t,e){var n=e[0],r=e[1];return Yt(n.evaluate(t),r.evaluate(t))}]]},get:{type:J,overloads:[[[Z],function(t,e){return Wt(e[0].evaluate(t),t.properties())}],[[Z,K],function(t,e){var n=e[0],r=e[1];return Wt(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[J,[Z],function(t,e){return Wt(e[0].evaluate(t),t.featureState||{})}],properties:[K,[],function(t){return t.properties()}],"geometry-type":[Z,[],function(t){return t.geometryType()}],id:[J,[],function(t){return t.id()}],zoom:[H,[],function(t){return t.globals.zoom}],"heatmap-density":[H,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[H,[],function(t){return t.globals.lineProgress||0}],"+":[H,Xt(H),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[H,Xt(H),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:H,overloads:[[[H,H],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[H],function(t,e){return-e[0].evaluate(t)}]]},"/":[H,[H,H],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[H,[H,H],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[H,[],function(){return Math.LN2}],pi:[H,[],function(){return Math.PI}],e:[H,[],function(){return Math.E}],"^":[H,[H,H],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[H,[H],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[H,[H],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[H,[H],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[H,[H],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[H,[H],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[H,[H],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[H,[H],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[H,[H],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[H,[H],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[H,[H],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[H,Xt(H),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[H,Xt(H),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[H,[H],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[H,[H],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[H,[H],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[H,[H],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[G,[Z,J],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[G,[J],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[G,[Z],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[G,[Z,J],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[G,[J],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[G,[Z,J],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&o<i}],"filter-id->":[G,[J],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&i<r}],"filter-<=":[G,[Z,J],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[G,[J],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[G,[Z,J],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&o<=i}],"filter-id->=":[G,[J],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&i<=r}],"filter-has":[G,[J],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[G,[],function(t){return null!==t.id()}],"filter-type-in":[G,[tt(Z)],function(t,e){return 0<=e[0].value.indexOf(t.geometryType())}],"filter-id-in":[G,[tt(J)],function(t,e){return 0<=e[0].value.indexOf(t.id())}],"filter-in-small":[G,[Z,tt(J)],function(t,e){var n=e[0];return 0<=e[1].value.indexOf(t.properties()[n.value])}],"filter-in-large":[G,[Z,tt(J)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],">":{type:G,overloads:[[[H,H],Ht],[[Z,Z],Ht],[[Z,Z,Q],function(t,e){var n=e[0],r=e[1];return 0<e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))}]]},"<":{type:G,overloads:[[[H,H],$t],[[Z,Z],$t],[[Z,Z,Q],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))<0}]]},">=":{type:G,overloads:[[[H,H],Gt],[[Z,Z],Gt],[[Z,Z,Q],function(t,e){var n=e[0],r=e[1];return 0<=e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))}]]},"<=":{type:G,overloads:[[[H,H],Zt],[[Z,Z],Zt],[[Z,Z,Q],function(t,e){var n=e[0],r=e[1];return e[2].evaluate(t).compare(n.evaluate(t),r.evaluate(t))<=0}]]},all:{type:G,overloads:[[[G,G],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[Xt(G),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:G,overloads:[[[G,G],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[Xt(G),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[G,[G],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[G,[Z],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[Z,[Z],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Z,[Z],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Z,Xt(Z),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}],"resolved-locale":[Z,[Q],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var ne=4/29,re=6/29,ie=3*re*re,oe=re*re*re,ae=Math.PI/180,se=180/Math.PI;function ue(t){return oe<t?Math.pow(t,1/3):t/ie+ne}function le(t){return re<t?t*t*t:ie*(t-ne)}function ce(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=fe(t.r),n=fe(t.g),r=fe(t.b),i=ue((.4124564*e+.3575761*n+.1804375*r)/.95047),o=ue((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-ue((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function pe(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*le(e),n=.95047*le(n),r=1.08883*le(r),new ot(ce(3.2404542*n-1.5371385*e-.4985314*r),ce(-.969266*n+1.8760108*e+.041556*r),ce(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}var de={forward:he,reverse:pe,interpolate:function(t,e,n){return{l:Ct(t.l,e.l,n),a:Ct(t.a,e.a,n),b:Ct(t.b,e.b,n),alpha:Ct(t.alpha,e.alpha,n)}}},me={forward:function(t){var e=he(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*se;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*ae,n=t.c;return pe({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:(r=t.h,i=e.h-r,r+n*(180<i||i<-180?i-360*Math.round(i/360):i)),c:Ct(t.c,e.c,n),l:Ct(t.l,e.l,n),alpha:Ct(t.alpha,e.alpha,n)};var r,i}},ye=Object.freeze({lab:de,hcl:me});function ve(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function ge(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function _e(t){return t}function be(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function xe(t,e,n,r,i){return be(typeof n===i?r[n]:void 0,t.default,e.default)}function we(t,e,n){if("number"!==ve(n))return be(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=ke(t.stops,n);return t.stops[i][1]}function Ee(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==ve(n))return be(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o,a,s,u,l,c=ke(t.stops,n),f=(o=n,a=r,s=t.stops[c][0],u=t.stops[c+1][0]-s,l=o-s,0===u?0:1===a?l/u:(Math.pow(a,l)-1)/(Math.pow(a,u)-1)),h=t.stops[c][1],p=t.stops[c+1][1],d=Pt[e.type]||_e;if(t.colorSpace&&"rgb"!==t.colorSpace){var m=ye[t.colorSpace];d=function(t,e){return m.reverse(m.interpolate(m.forward(t),m.forward(e),f))}}return"function"==typeof h.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=h.evaluate.apply(void 0,t),r=p.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return d(n,r,f)}}:d(h,p,f)}function Se(t,e,n){return"color"===e.type?n=ot.parse(n):ve(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),be(n,t.default,e.default)}function ke(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)][0],r=t[a+1][0],e===n||n<e&&e<r)return a;n<e?i=a+1:e<n&&(o=a-1)}return Math.max(a-1,0)}var Me=function(t,e){var n;this.expression=t,this._warningHistory={},this._defaultValue="color"===(n=e).type&&ge(n.default)?new ot(0,0,0,0):"color"===n.type?ot.parse(n.default)||null:void 0===n.default?null:n.default,"enum"===e.type&&(this._enumValues=e.values)};function Te(t){return Array.isArray(t)&&0<t.length&&"string"==typeof t[0]&&t[0]in Vt}function Ce(t,e){var n,r,i=new kt(Vt,[],(r={color:X,string:Z,number:H,enum:Z,boolean:G},"array"===(n=e).type?tt(r[n.value]||J,n.length):r[n.type]||null)),o=i.parse(t);return o?Kt(new Me(o,e)):Jt(i.errors)}Me.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._evaluator||(this._evaluator=new _t),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},Me.prototype.evaluate=function(t,e,n){this._evaluator||(this._evaluator=new _t),this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new ft("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Pe=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!wt(e.expression)};Pe.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},Pe.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)};var Ae=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!wt(e.expression),n instanceof At&&(this._interpolationType=n.interpolation)};function Oe(t,e){if("error"===(t=Ce(t,e)).result)return t;var n=t.value.expression,r=xt(n);if(!r&&!Qt(e))return Jt([new Y("","data expressions not supported")]);var i=Et(n,["zoom"]);if(!i&&!te(e))return Jt([new Y("","zoom expressions not supported")]);var o=function n(t){var r=null;if(t instanceof It)r=n(t.result);else if(t instanceof zt)for(var e=0,i=t.args;e<i.length;e+=1){var o=i[e];if(r=n(o))break}else(t instanceof Tt||t instanceof At)&&t.input instanceof bt&&"zoom"===t.input.name&&(r=t);return r instanceof Y||t.eachChild(function(t){var e=n(t);e instanceof Y?r=e:!r&&e?r=new Y("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&e&&r!==e&&(r=new Y("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(n);return o||i?o instanceof Y?Jt([o]):o instanceof At&&!ee(e)?Jt([new Y("",'"interpolate" expressions cannot be used with this property')]):Kt(o?new Ae(r?"camera":"composite",t.value,o):new Pe(r?"constant":"source",t.value)):Jt([new Y("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ae.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},Ae.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)},Ae.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?At.interpolationFactor(this._interpolationType,t,e,n):0};var ze=function(t,e){this._parameters=t,this._specification=e,U(this,function t(r,i){var o,a,s,e="color"===i.type,n=r.stops&&"object"==typeof r.stops[0][0],u=n||void 0!==r.property,l=n||!u,c=r.type||(ee(i)?"exponential":"interval");if(e&&((r=U({},r)).stops&&(r.stops=r.stops.map(function(t){return[t[0],ot.parse(t[1])]})),r.default?r.default=ot.parse(r.default):r.default=ot.parse(i.default)),r.colorSpace&&"rgb"!==r.colorSpace&&!ye[r.colorSpace])throw new Error("Unknown color space: "+r.colorSpace);if("exponential"===c)o=Ee;else if("interval"===c)o=we;else if("categorical"===c){o=xe,a=Object.create(null);for(var f=0,h=r.stops;f<h.length;f+=1){var p=h[f];a[p[0]]=p[1]}s=typeof r.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');o=Se}if(n){for(var d={},m=[],y=0;y<r.stops.length;y++){var v=r.stops[y],g=v[0].zoom;void 0===d[g]&&(d[g]={zoom:g,type:r.type,property:r.property,default:r.default,stops:[]},m.push(g)),d[g].stops.push([v[0].value,v[1]])}for(var _=[],b=0,x=m;b<x.length;b+=1){var w=x[b];_.push([d[w].zoom,t(d[w],i)])}return{kind:"composite",interpolationFactor:At.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(t){return t[0]}),evaluate:function(t,e){var n=t.zoom;return Ee({stops:_,base:r.base},i,n).evaluate(n,e)}}}return l?{kind:"camera",interpolationFactor:"exponential"===c?At.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==r.base?r.base:1}):function(){return 0},zoomStops:r.stops.map(function(t){return t[0]}),evaluate:function(t){var e=t.zoom;return o(r,i,e,a,s)}}:{kind:"source",evaluate:function(t,e){var n=e&&e.properties?e.properties[r.property]:void 0;return void 0===n?be(r.default,i.default):o(r,i,n,a,s)}}}(this._parameters,this._specification))};function Ie(t,e){if(ge(t))return new ze(t,e);if(Te(t)){var n=Oe(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=ot.parse(t)),{kind:"constant",evaluate:function(){return r}}}function Re(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=ve(n);if("object"!==u)return[new F(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=on;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new F(e,n[l],'unknown property "'+l+'"'));continue}h=on}s=s.concat(h({key:(e?e+".":e)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var p in r)i[p]||r[p].required&&void 0===r[p].default&&void 0===n[p]&&s.push(new F(e,n,'missing required property "'+p+'"'));return s}function Ne(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||on;if("array"!==ve(e))return[new F(o,e,"array expected, "+ve(e)+" found")];if(n.length&&e.length!==n.length)return[new F(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new F(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value};i.$version<7&&(s.function=n.function),"object"===ve(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function De(t){var e=t.key,n=t.value,r=t.valueSpec,i=ve(n);return"number"!==i?[new F(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new F(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new F(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function Le(t){var a,s,i,u=t.valueSpec,l=V(t.value.type),c={},e="categorical"!==l&&void 0===t.value.property,n=!e,o="array"===ve(t.value.stops)&&"array"===ve(t.value.stops[0])&&"object"===ve(t.value.stops[0][0]),r=Re({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===l)return[new F(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Ne({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:f})),"array"===ve(n)&&0===n.length&&e.push(new F(t.key,n,"array must have at least one stop")),e},default:function(t){return on({key:t.key,value:t.value,valueSpec:u,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===l&&e&&r.push(new F(t.key,t.value,'missing required property "property"')),"identity"===l||t.value.stops||r.push(new F(t.key,t.value,'missing required property "stops"')),"exponential"===l&&t.valueSpec.expression&&!ee(t.valueSpec)&&r.push(new F(t.key,t.value,"exponential functions not supported")),8<=t.styleSpec.$version&&(n&&!Qt(t.valueSpec)?r.push(new F(t.key,t.value,"property functions not supported")):e&&!te(t.valueSpec)&&r.push(new F(t.key,t.value,"zoom functions not supported"))),"categorical"!==l&&!o||void 0!==t.value.property||r.push(new F(t.key,t.value,'"property" property is required')),r;function f(t){var e=[],n=t.value,r=t.key;if("array"!==ve(n))return[new F(r,n,"array expected, "+ve(n)+" found")];if(2!==n.length)return[new F(r,n,"array length 2 expected, length "+n.length+" found")];if(o){if("object"!==ve(n[0]))return[new F(r,n,"object expected, "+ve(n[0])+" found")];if(void 0===n[0].zoom)return[new F(r,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new F(r,n,"object stop key must have value")];if(i&&i>V(n[0].zoom))return[new F(r,n[0].zoom,"stop zoom values must appear in ascending order")];V(n[0].zoom)!==i&&(i=V(n[0].zoom),s=void 0,c={}),e=e.concat(Re({key:r+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:De,value:h}}))}else e=e.concat(h({key:r+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return e.concat(on({key:r+"[1]",value:n[1],valueSpec:u,style:t.style,styleSpec:t.styleSpec}))}function h(t,e){var n=ve(t.value),r=V(t.value),i=null!==t.value?t.value:e;if(a){if(n!==a)return[new F(t.key,i,n+" stop domain type must match previous stop domain type "+a)]}else a=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new F(t.key,i,"stop domain value must be a number, string, or boolean")];if("number"===n||"categorical"===l)return"categorical"!==l||"number"!==n||isFinite(r)&&Math.floor(r)===r?"categorical"!==l&&"number"===n&&void 0!==s&&r<s?[new F(t.key,i,"stop domain values must appear in ascending order")]:(s=r,"categorical"===l&&r in c?[new F(t.key,i,"stop domain values must be unique")]:(c[r]=!0,[])):[new F(t.key,i,"integer expected, found "+r)];var o="number expected, "+n+" found";return Qt(u)&&void 0===l&&(o+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new F(t.key,i,o)]}}function je(e){var t=("property"===e.expressionContext?Oe:Ce)(q(e.value),e.valueSpec);return"error"===t.result?t.value.map(function(t){return new F(""+e.key+t.key,e.value,t.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==t.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new F(e.key,e.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:"property"!==e.expressionContext||"layout"!==e.propertyType||wt(t.value._styleExpression.expression)?[]:[new F(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')]}function Fe(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(V(n))&&i.push(new F(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(V(n))&&i.push(new F(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function Be(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return 2<=t.length&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!Be(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}ze.deserialize=function(t){return new ze(t._parameters,t._specification)};var Ue={type:"boolean",default:(ze.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}},!1),transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ve(t){if(!t)return function(){return!0};Be(t)||(t=Ye(t));var n=Ce(t,Ue);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,e){return n.value.evaluate(t,e)}}function qe(t,e){return t<e?-1:e<t?1:0}function Ye(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?We(t[1],t[2],"=="):"!="===n?Ze(We(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?We(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Ye))):"all"===n?["all"].concat(t.slice(1).map(Ye)):"none"===n?["all"].concat(t.slice(1).map(Ye).map(Ze)):"in"===n?$e(t[1],t.slice(2)):"!in"===n?Ze($e(t[1],t.slice(2))):"has"===n?He(t[1]):"!has"!==n||Ze(He(t[1]))}function We(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function $e(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return 200<e.length&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(qe)]]:["filter-in-small",t,["literal",e]]}}function He(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Ze(t){return["!",t]}function Ge(t){return Be(q(t.value))?je(U({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==ve(n))return[new F(r,n,"array expected, "+ve(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new F(r,n,"filter array must have at least 1 element")];switch(a=a.concat(Fe({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),V(n[0])){case"<":case"<=":case">":case">=":2<=n.length&&"$type"===V(n[1])&&a.push(new F(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new F(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":2<=n.length&&"string"!==(i=ve(n[1]))&&a.push(new F(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=ve(n[s]),"$type"===V(n[1])?a=a.concat(Fe({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new F(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:r+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=ve(n[1]),2!==n.length?a.push(new F(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new F(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Xe(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return on({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||s[a];if(!c)return[new F(n,o,'unknown property "'+a+'"')];if("string"===ve(o)&&Qt(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new F(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new F(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&ge(q(o))&&"identity"===V(o.type)&&f.push(new F(n,o,'"text-font" does not support identity functions'))),f.concat(on({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Ke(t){return Xe(t,"paint")}function Je(t){return Xe(t,"layout")}function Qe(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new F(r,n,'either "type" or "ref" is required'));var a,s=V(n.type),u=V(n.ref);if(n.id)for(var l=V(n.id),c=0;c<t.arrayIndex;c++){var f=i.layers[c];V(f.id)===l&&e.push(new F(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new F(r,n[t],'"'+t+'" is prohibited for ref layers'))}),i.layers.forEach(function(t){V(t.id)===u&&(a=t)}),a?a.ref?e.push(new F(r,n.ref,"ref cannot reference another ref layer")):s=V(a.type):e.push(new F(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],p=h&&V(h.type);h?"vector"===p&&"raster"===s?e.push(new F(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===p&&"raster"!==s?e.push(new F(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==p||n["source-layer"]?"raster-dem"===p&&"hillshade"!==s?e.push(new F(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||e.push(new F(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new F(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new F(r,n.source,'source "'+n.source+'" not found'))}else e.push(new F(r,n,'missing required property "source"'));return e=e.concat(Re({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return on({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:Ge,layout:function(t){return Re({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Je(U({layerType:s},t))}}})},paint:function(t){return Re({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Ke(U({layerType:s},t))}}})}}}))}function tn(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new F(n,e,'"type" is required')];var o=V(e.type),a=[];switch(o){case"vector":case"raster":case"raster-dem":if(a=a.concat(Re({key:n,value:e,valueSpec:r["source_"+o.replace("-","_")],style:t.style,styleSpec:r})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&a.push(new F(n+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return a;case"geojson":return Re({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r});case"video":return Re({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Re({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return a.push(new F(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")),a;default:return Fe({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function en(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=ve(e);if(void 0===e)return o;if("object"!==a)return o.concat([new F("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=u&&r[u[1]]&&r[u[1]].transition?o.concat(on({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(on({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new F(s,e[s],'unknown property "'+s+'"')])}return o}function nn(t){var e=t.value,n=t.key,r=ve(e);return"string"!==r?[new F(n,e,"string expected, "+r+" found")]:[]}var rn={"*":function(){return[]},array:Ne,boolean:function(t){var e=t.value,n=t.key,r=ve(e);return"boolean"!==r?[new F(n,e,"boolean expected, "+r+" found")]:[]},number:De,color:function(t){var e=t.key,n=t.value,r=ve(n);return"string"!==r?[new F(e,n,"color expected, "+r+" found")]:null===it(n)?[new F(e,n,'color expected, "'+n+'" found')]:[]},constants:B,enum:Fe,filter:Ge,function:Le,layer:Qe,object:Re,source:tn,light:en,string:nn};function on(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&ge(V(e))?Le(t):n.expression&&Te(q(e))?je(t):n.type&&rn[n.type]?rn[n.type](t):Re(U({},t,{valueSpec:n.type?r[n.type]:n}))}function an(t){var e=t.value,n=t.key,r=nn(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new F(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new F(n,e,'"glyphs" url must include a "{range}" token'))),r}function sn(t,e){e=e||j;var n=[];return n=n.concat(on({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:an,"*":function(){return[]}}})),t.constants&&(n=n.concat(B({key:"constants",value:t.constants,style:t,styleSpec:e}))),un(n)}function un(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function ln(t){return function(){return un(t.apply(this,arguments))}}sn.source=ln(tn),sn.light=ln(en),sn.layer=ln(Qe),sn.filter=ln(Ge),sn.paintProperty=ln(Ke),sn.layoutProperty=ln(Je);var cn=sn,fn=sn.light,hn=sn.paintProperty,pn=sn.layoutProperty;function dn(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1){var o=i[r];t.fire(new D(new Error(o.message))),n=!0}return n}var mn=vn,yn=3;function vn(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var o=0;o<this.d*this.d;o++){var a=i[yn+o],s=i[yn+o+1];r.push(a===s?null:i.subarray(a,s))}var u=i[yn+r.length],l=i[yn+r.length+1];this.keys=i.subarray(u,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var f=n/e*t;this.min=-f,this.max=t+f}vn.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},vn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},vn.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},vn.prototype.query=function(t,e,n,r){var i=this.min,o=this.max;if(t<=i&&e<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(t,e,n,r,this._queryCell,a,{}),a},vn.prototype._queryCell=function(t,e,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var f=s[c];if(void 0===a[f]){var h=4*f;t<=l[h+2]&&e<=l[h+3]&&n>=l[h+0]&&r>=l[h+1]?(a[f]=!0,o.push(u[f])):a[f]=!1}}},vn.prototype._forEachCell=function(t,e,n,r,i,o,a){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),f=s;f<=l;f++)for(var h=u;h<=c;h++){var p=this.d*h+f;if(i.call(this,t,e,n,r,p,o,a))return}},vn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},vn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=yn+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[yn+a]=o,i.set(s,o),o+=s.length}return i[yn+t.length]=o,i.set(this.keys,o),o+=this.keys.length,i[yn+t.length+1]=o,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var gn=self.ImageData,_n={};function bn(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),_n[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var xn in bn("Object",Object),mn.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),n},mn.deserialize=function(t){return new mn(t)},bn("Grid",mn),bn("Color",ot),bn("Error",Error),bn("StylePropertyFunction",ze),bn("StyleExpression",Me,{omit:["_evaluator"]}),bn("ZoomDependentExpression",Ae),bn("ZoomConstantExpression",Pe),bn("CompoundExpression",bt,{omit:["_evaluate"]}),Vt)Vt[xn]._classRegistryKey||bn("Expression_"+xn,Vt[xn]);function wn(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof gn)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1){var a=o[i];r.push(wn(a,e))}return r}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);var s=t.constructor,u=s._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var l={};if(s.serialize)l._serialized=s.serialize(t,e);else{for(var c in t)if(t.hasOwnProperty(c)&&!(0<=_n[u].omit.indexOf(c))){var f=t[c];l[c]=0<=_n[u].shallow.indexOf(c)?f:wn(f,e)}t instanceof Error&&(l.message=t.message)}return{name:u,properties:l}}function En(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof gn)return t;if(Array.isArray(t))return t.map(function(t){return En(t)});if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);var e=t,n=e.name,r=e.properties;if(!n)throw new Error("can't deserialize object of anonymous class");var i=_n[n].klass;if(!i)throw new Error("can't deserialize unregistered class "+n);if(i.deserialize)return i.deserialize(r._serialized);for(var o=Object.create(i.prototype),a=0,s=Object.keys(r);a<s.length;a+=1){var u=s[a];o[u]=0<=_n[n].shallow.indexOf(u)?r[u]:En(r[u])}return o}var Sn=function(){this.first=!0},kn={"Latin-1 Supplement":function(t){return 128<=t&&t<=255},Arabic:function(t){return 1536<=t&&t<=1791},"Arabic Supplement":function(t){return 1872<=t&&t<=1919},"Arabic Extended-A":function(t){return 2208<=t&&t<=2303},"Hangul Jamo":function(t){return 4352<=t&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return 5120<=t&&t<=5759},Khmer:function(t){return 6016<=t&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return 6320<=t&&t<=6399},"General Punctuation":function(t){return 8192<=t&&t<=8303},"Letterlike Symbols":function(t){return 8448<=t&&t<=8527},"Number Forms":function(t){return 8528<=t&&t<=8591},"Miscellaneous Technical":function(t){return 8960<=t&&t<=9215},"Control Pictures":function(t){return 9216<=t&&t<=9279},"Optical Character Recognition":function(t){return 9280<=t&&t<=9311},"Enclosed Alphanumerics":function(t){return 9312<=t&&t<=9471},"Geometric Shapes":function(t){return 9632<=t&&t<=9727},"Miscellaneous Symbols":function(t){return 9728<=t&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return 11008<=t&&t<=11263},"CJK Radicals Supplement":function(t){return 11904<=t&&t<=12031},"Kangxi Radicals":function(t){return 12032<=t&&t<=12255},"Ideographic Description Characters":function(t){return 12272<=t&&t<=12287},"CJK Symbols and Punctuation":function(t){return 12288<=t&&t<=12351},Hiragana:function(t){return 12352<=t&&t<=12447},Katakana:function(t){return 12448<=t&&t<=12543},Bopomofo:function(t){return 12544<=t&&t<=12591},"Hangul Compatibility Jamo":function(t){return 12592<=t&&t<=12687},Kanbun:function(t){return 12688<=t&&t<=12703},"Bopomofo Extended":function(t){return 12704<=t&&t<=12735},"CJK Strokes":function(t){return 12736<=t&&t<=12783},"Katakana Phonetic Extensions":function(t){return 12784<=t&&t<=12799},"Enclosed CJK Letters and Months":function(t){return 12800<=t&&t<=13055},"CJK Compatibility":function(t){return 13056<=t&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return 13312<=t&&t<=19903},"Yijing Hexagram Symbols":function(t){return 19904<=t&&t<=19967},"CJK Unified Ideographs":function(t){return 19968<=t&&t<=40959},"Yi Syllables":function(t){return 40960<=t&&t<=42127},"Yi Radicals":function(t){return 42128<=t&&t<=42191},"Hangul Jamo Extended-A":function(t){return 43360<=t&&t<=43391},"Hangul Syllables":function(t){return 44032<=t&&t<=55215},"Hangul Jamo Extended-B":function(t){return 55216<=t&&t<=55295},"Private Use Area":function(t){return 57344<=t&&t<=63743},"CJK Compatibility Ideographs":function(t){return 63744<=t&&t<=64255},"Arabic Presentation Forms-A":function(t){return 64336<=t&&t<=65023},"Vertical Forms":function(t){return 65040<=t&&t<=65055},"CJK Compatibility Forms":function(t){return 65072<=t&&t<=65103},"Small Form Variants":function(t){return 65104<=t&&t<=65135},"Arabic Presentation Forms-B":function(t){return 65136<=t&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return 65280<=t&&t<=65519}};function Mn(t){for(var e=0,n=t;e<n.length;e+=1)if(Tn(n[e].charCodeAt(0)))return!0;return!1}function Tn(t){return!(746!==t&&747!==t&&(t<4352||!(kn["Bopomofo Extended"](t)||kn.Bopomofo(t)||kn["CJK Compatibility Forms"](t)&&!(65097<=t&&t<=65103)||kn["CJK Compatibility Ideographs"](t)||kn["CJK Compatibility"](t)||kn["CJK Radicals Supplement"](t)||kn["CJK Strokes"](t)||!(!kn["CJK Symbols and Punctuation"](t)||12296<=t&&t<=12305||12308<=t&&t<=12319||12336===t)||kn["CJK Unified Ideographs Extension A"](t)||kn["CJK Unified Ideographs"](t)||kn["Enclosed CJK Letters and Months"](t)||kn["Hangul Compatibility Jamo"](t)||kn["Hangul Jamo Extended-A"](t)||kn["Hangul Jamo Extended-B"](t)||kn["Hangul Jamo"](t)||kn["Hangul Syllables"](t)||kn.Hiragana(t)||kn["Ideographic Description Characters"](t)||kn.Kanbun(t)||kn["Kangxi Radicals"](t)||kn["Katakana Phonetic Extensions"](t)||kn.Katakana(t)&&12540!==t||!(!kn["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||65306<=t&&t<=65310||65339===t||65341===t||65343===t||65371<=t&&t<=65503||65507===t||65512<=t&&t<=65519)||!(!kn["Small Form Variants"](t)||65112<=t&&t<=65118||65123<=t&&t<=65126)||kn["Unified Canadian Aboriginal Syllabics"](t)||kn["Unified Canadian Aboriginal Syllabics Extended"](t)||kn["Vertical Forms"](t)||kn["Yijing Hexagram Symbols"](t)||kn["Yi Syllables"](t)||kn["Yi Radicals"](t))))}function Cn(t){return!(Tn(t)||(e=t,kn["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||kn["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||kn["Letterlike Symbols"](e)||kn["Number Forms"](e)||kn["Miscellaneous Technical"](e)&&(8960<=e&&e<=8967||8972<=e&&e<=8991||8996<=e&&e<=9e3||9003===e||9085<=e&&e<=9114||9150<=e&&e<=9165||9167===e||9169<=e&&e<=9179||9186<=e&&e<=9215)||kn["Control Pictures"](e)&&9251!==e||kn["Optical Character Recognition"](e)||kn["Enclosed Alphanumerics"](e)||kn["Geometric Shapes"](e)||kn["Miscellaneous Symbols"](e)&&!(9754<=e&&e<=9759)||kn["Miscellaneous Symbols and Arrows"](e)&&(11026<=e&&e<=11055||11088<=e&&e<=11097||11192<=e&&e<=11243)||kn["CJK Symbols and Punctuation"](e)||kn.Katakana(e)||kn["Private Use Area"](e)||kn["CJK Compatibility Forms"](e)||kn["Small Form Variants"](e)||kn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||9984<=e&&e<=10087||10102<=e&&e<=10131||65532===e||65533===e));var e}var Pn,An=!(Sn.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}),On=null,zn=!1,In=new L,Rn={applyArabicShaping:null,processBidirectionalText:null,isLoaded:function(){return zn||null!=Rn.applyArabicShaping}},Nn=function(t,e){this.zoom=t,this.transition=e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Sn,{})};Nn.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(i=r[n].charCodeAt(0),!e&&(1424<=i&&i<=2303||kn["Arabic Presentation Forms-A"](i)||kn["Arabic Presentation Forms-B"](i))||2304<=i&&i<=3583||3840<=i&&i<=4255||kn.Khmer(i))return!1;var i;return!0}(t,Rn.isLoaded())},Nn.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)};var Dn=function(t,e){this.property=t,this.value=e,this.expression=Ie(void 0===e?t.specification.default:e,t.specification)};Dn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Dn.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var Ln=function(t){this.property=t,this.value=new Dn(t,void 0)};Ln.prototype.transitioned=function(t,e){return new Fn(this.property,this.value,e,y({},t.transition,this.transition),t.now)},Ln.prototype.untransitioned=function(){return new Fn(this.property,this.value,null,{},0)};var jn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};jn.prototype.getValue=function(t){return S(this._values[t].value.value)},jn.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ln(this._values[t].property)),this._values[t].value=new Dn(this._values[t].property,null===e?void 0:S(e))},jn.prototype.getTransition=function(t){return S(this._values[t].transition)},jn.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ln(this._values[t].property)),this._values[t].transition=S(e)||void 0},jn.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},jn.prototype.transitioned=function(t,e){for(var n=new Bn(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},jn.prototype.untransitioned=function(){for(var t=new Bn(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var Fn=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Fn.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,function(t){if(i<=0)return 0;if(1<=i)return 1;var e=i*i,n=e*i;return 4*(i<.5?n:3*(i-e)+n-.75)}())}return n};var Bn=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Bn.prototype.possiblyEvaluate=function(t){for(var e=new qn(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e},Bn.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1};var Un=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Un.prototype.getValue=function(t){return S(this._values[t].value)},Un.prototype.setValue=function(t,e){this._values[t]=new Dn(this._values[t].property,null===e?void 0:S(e))},Un.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},Un.prototype.possiblyEvaluate=function(t){for(var e=new qn(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e};var Vn=function(t,e,n){this.property=t,this.value=e,this.globals=n};Vn.prototype.isConstant=function(){return"constant"===this.value.kind},Vn.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Vn.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.globals,t,e)};var qn=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};qn.prototype.get=function(t){return this._values[t]};var Yn=function(t){this.specification=t};Yn.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Yn.prototype.interpolate=function(t,e,n){var r=Pt[this.specification.type];return r?r(t,e,n):t};var Wn=function(t){this.specification=t};Wn.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new Vn(this,{kind:"constant",value:t.expression.evaluate(e)},e):new Vn(this,t.expression,e)},Wn.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Vn(this,{kind:"constant",value:void 0},t.globals);var r=Pt[this.specification.type];return r?new Vn(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.globals):t},Wn.prototype.evaluate=function(t,e,n,r){return"constant"===t.kind?t.value:t.evaluate(e,n,r)};var $n=function(t){this.specification=t};$n.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"!==t.expression.kind)return this._calculate(t.expression.evaluate(new Nn(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Nn(Math.floor(e.zoom),e)),t.expression.evaluate(new Nn(Math.floor(e.zoom+1),e)),e);var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}},$n.prototype._calculate=function(t,e,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.crossFadingFactor();return i>r.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}},$n.prototype.interpolate=function(t){return t};var Hn=function(t){this.specification=t};Hn.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},Hn.prototype.interpolate=function(){return!1};var Zn=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[e],r=this.defaultPropertyValues[e]=new Dn(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new Ln(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};bn("DataDrivenProperty",Wn),bn("DataConstantProperty",Yn),bn("CrossFadedProperty",$n),bn("ColorRampProperty",Hn);var Gn=function(i){function t(t,e){for(var n in i.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.visibility="visible","background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this._featureFilter=function(){return!0},e.layout&&(this._unevaluatedLayout=new Un(e.layout)),this._transitionablePaint=new jn(e.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var r in t.layout)this.setLayoutProperty(r,t.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},t.prototype.setLayoutProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(pn,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},t.prototype.getPaintProperty=function(t){return x(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},t.prototype.setPaintProperty=function(t,e,n){if(null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(hn,r,t,e,n))return!1}if(x(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var o=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),o||i},t.prototype._handleSpecialPaintPropertyUpdate=function(t){},t.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},t.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),E(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},t.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&dn(this,t.call(cn,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:j,style:{glyphs:!0,sprite:!0}}))},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Vn&&Qt(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},t}(L),Xn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Kn=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Jn=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Qn(t,o){void 0===o&&(o=1);var a=0,s=0;return{members:t.map(function(t){var e,n=(e=t.type,Xn[e].BYTES_PER_ELEMENT),r=a=tr(a,Math.max(o,n)),i=t.components||1;return s=Math.max(s,n),a+=n*i,{name:t.name,type:t.type,components:i,offset:r}}),size:tr(a,Math.max(s,o)),alignment:o}}function tr(t,e){return Math.ceil(t/e)*e}Jn.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Jn.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Jn.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Jn.prototype.clear=function(){this.length=0},Jn.prototype.resize=function(t){this.reserve(t),this.length=t},Jn.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Jn.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[r+0]=t,this.int16[r+1]=e,n},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Jn);er.prototype.bytesPerElement=4,bn("StructArrayLayout2i4",er);var nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=n,this.int16[o+3]=r,i},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Jn);nr.prototype.bytesPerElement=8,bn("StructArrayLayout4i8",nr);var rr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Jn);rr.prototype.bytesPerElement=12,bn("StructArrayLayout2i4i12",rr);var ir=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=6*u,c=12*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint8[c+8]=i,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,u},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u){var l=6*t,c=12*t;return this.int16[l+0]=e,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+3]=i,this.uint8[c+8]=o,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=u,t},e}(Jn);ir.prototype.bytesPerElement=12,bn("StructArrayLayout4i4ub12",ir);var or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=8*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint16[l+4]=i,this.uint16[l+5]=o,this.uint16[l+6]=a,this.uint16[l+7]=s,u},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u){var l=8*t;return this.int16[l+0]=e,this.int16[l+1]=n,this.int16[l+2]=r,this.int16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=s,this.uint16[l+7]=u,t},e}(Jn);or.prototype.bytesPerElement=16,bn("StructArrayLayout4i4ui16",or);var ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=n,r},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Jn);ar.prototype.bytesPerElement=12,bn("StructArrayLayout3f12",ar);var sr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.uint32[n+0]=t,e},e.prototype.emplace=function(t,e){var n=1*t;return this.uint32[n+0]=e,t},e}(Jn);sr.prototype.bytesPerElement=4,bn("StructArrayLayout1ul4",sr);var ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c){var f=this.length;this.resize(f+1);var h=12*f,p=6*f;return this.int16[h+0]=t,this.int16[h+1]=e,this.int16[h+2]=n,this.int16[h+3]=r,this.int16[h+4]=i,this.int16[h+5]=o,this.uint32[p+3]=a,this.uint16[h+8]=s,this.uint16[h+9]=u,this.int16[h+10]=l,this.int16[h+11]=c,f},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f){var h=12*t,p=6*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.int16[h+4]=o,this.int16[h+5]=a,this.uint32[p+3]=s,this.uint16[h+8]=u,this.uint16[h+9]=l,this.int16[h+10]=c,this.int16[h+11]=f,t},e}(Jn);ur.prototype.bytesPerElement=24,bn("StructArrayLayout6i1ul2ui2i24",ur);var lr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Jn);lr.prototype.bytesPerElement=12,bn("StructArrayLayout2i2i2i12",lr);var cr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[r+0]=t,this.uint8[r+1]=e,n},e.prototype.emplace=function(t,e,n){var r=4*t;return this.uint8[r+0]=e,this.uint8[r+1]=n,t},e}(Jn);cr.prototype.bytesPerElement=4,bn("StructArrayLayout2ub4",cr);var fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d=this.length;this.resize(d+1);var m=20*d,y=10*d,v=40*d;return this.int16[m+0]=t,this.int16[m+1]=e,this.uint16[m+2]=n,this.uint16[m+3]=r,this.uint32[y+2]=i,this.uint32[y+3]=o,this.uint32[y+4]=a,this.uint16[m+10]=s,this.uint16[m+11]=u,this.uint16[m+12]=l,this.float32[y+7]=c,this.float32[y+8]=f,this.uint8[v+36]=h,this.uint8[v+37]=p,d},e.prototype.emplace=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p,d){var m=20*t,y=10*t,v=40*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.uint16[m+2]=r,this.uint16[m+3]=i,this.uint32[y+2]=o,this.uint32[y+3]=a,this.uint32[y+4]=s,this.uint16[m+10]=u,this.uint16[m+11]=l,this.uint16[m+12]=c,this.float32[y+7]=f,this.float32[y+8]=h,this.uint8[v+36]=p,this.uint8[v+37]=d,t},e}(Jn);fr.prototype.bytesPerElement=40,bn("StructArrayLayout2i2ui3ul3ui2f2ub40",fr);var hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.float32[n+0]=t,e},e.prototype.emplace=function(t,e){var n=1*t;return this.float32[n+0]=e,t},e}(Jn);hr.prototype.bytesPerElement=4,bn("StructArrayLayout1f4",hr);var pr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=n,r},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Jn);pr.prototype.bytesPerElement=6,bn("StructArrayLayout3i6",pr);var dr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[i+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=n,r},e.prototype.emplace=function(t,e,n,r){var i=2*t,o=4*t;return this.uint32[i+0]=e,this.uint16[o+2]=n,this.uint16[o+3]=r,t},e}(Jn);dr.prototype.bytesPerElement=8,bn("StructArrayLayout1ul2ui8",dr);var mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[i+0]=t,this.uint16[i+1]=e,this.uint16[i+2]=n,r},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Jn);mr.prototype.bytesPerElement=6,bn("StructArrayLayout3ui6",mr);var yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[r+0]=t,this.uint16[r+1]=e,n},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Jn);yr.prototype.bytesPerElement=4,bn("StructArrayLayout2ui4",yr);var vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[r+0]=t,this.float32[r+1]=e,n},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Jn);vr.prototype.bytesPerElement=8,bn("StructArrayLayout2f8",vr);var gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=n,this.float32[o+3]=r,i},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Jn);gr.prototype.bytesPerElement=16,bn("StructArrayLayout4f16",gr);var _r=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new m(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Kn);_r.prototype.size=24;var br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t){return new _r(this,t)},e}(ur);bn("CollisionBoxArray",br);var xr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(Kn);xr.prototype.size=40;var wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t){return new xr(this,t)},e}(fr);bn("PlacedSymbolArray",wr);var Er=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(Kn);Er.prototype.size=4;var Sr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new Er(this,t)},e}(hr);bn("GlyphOffsetArray",Sr);var kr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(Kn);kr.prototype.size=6;var Mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new kr(this,t)},e}(pr);bn("SymbolLineVertexArray",Mr);var Tr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(Kn);Tr.prototype.size=8;var Cr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t){return new Tr(this,t)},e}(dr);bn("FeatureIndexArray",Cr);var Pr=Qn([{name:"a_pos",components:2,type:"Int16"}],4).members,Ar=function(t){void 0===t&&(t=[]),this.segments=t};Ar.prototype.prepareSegment=function(t,e,n){var r=this.segments[this.segments.length-1];return Ar.MAX_VERTEX_ARRAY_LENGTH<t&&M("Max vertices per segment is "+Ar.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>Ar.MAX_VERTEX_ARRAY_LENGTH)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},this.segments.push(r)),r},Ar.prototype.get=function(){return this.segments},Ar.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},Ar.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bn("SegmentVector",Ar);var Or=function(t,e){return 256*(t=v(Math.floor(t),0,255))+v(Math.floor(e),0,255)};function zr(t){return[Or(255*t.r,255*t.g),Or(255*t.b,255*t.a)]}var Ir=function(t,e,n){this.value=t,this.name=e,this.type=n,this.statistics={max:-1/0}};Ir.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},Ir.prototype.populatePaintArray=function(){},Ir.prototype.updatePaintArray=function(){},Ir.prototype.upload=function(){},Ir.prototype.destroy=function(){},Ir.prototype.setUniforms=function(t,e,n,r){var i=r.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):o.uniform1f(e.uniforms["u_"+this.name],i)};var Rr=function(t,e,n){this.expression=t,this.name=e,this.type=n,this.statistics={max:-1/0};var r="color"===n?vr:hr;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}],this.paintVertexArray=new r};Rr.prototype.defines=function(){return[]},Rr.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Nn(0),e,{});if("color"===this.type)for(var o=zr(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.statistics.max=Math.max(this.statistics.max,i)}},Rr.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=zr(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var u=t;u<e;u++)i.emplace(u,o);this.statistics.max=Math.max(this.statistics.max,o)}},Rr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Rr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Rr.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var Nr=function(t,e,n,r,i){this.expression=t,this.name=e,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.statistics={max:-1/0};var o="color"===n?gr:vr;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}],this.paintVertexArray=new o};Nr.prototype.defines=function(){return[]},Nr.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new Nn(this.zoom),e,{}),o=this.expression.evaluate(new Nn(this.zoom+1),e,{});if("color"===this.type)for(var a=zr(i),s=zr(o),u=r;u<t;u++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=r;l<t;l++)n.emplaceBack(i,o);this.statistics.max=Math.max(this.statistics.max,i,o)}},Nr.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=zr(o),u=zr(a),l=t;l<e;l++)i.emplace(l,s[0],s[1],u[0],u[1]);else{for(var c=t;c<e;c++)i.emplace(c,o,a);this.statistics.max=Math.max(this.statistics.max,o,a)}},Nr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Nr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Nr.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Nr.prototype.setUniforms=function(t,e,n){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var Dr=function(){this.binders={},this.cacheKey="",this._buffers=[],this._idMap={},this._bufferOffset=0};Dr.createDynamic=function(t,e,n){var r,i,o=new Dr,a=[];for(var s in t.paint._values)if(n(s)){var u=t.paint.get(s);if(u instanceof Vn&&Qt(u.property.specification)){var l=(r=s,i=t.type,{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[r]||r.replace(i+"-","").replace(/-/g,"_")),c=u.property.specification.type,f=u.property.useIntegerZoom;"constant"===u.value.kind?(o.binders[s]=new Ir(u.value,l,c),a.push("/u_"+l)):"source"===u.value.kind?(o.binders[s]=new Rr(u.value,l,c),a.push("/a_"+l)):(o.binders[s]=new Nr(u.value,l,c,f,e),a.push("/z_"+l))}}return o.cacheKey=a.sort().join(""),o},Dr.prototype.populatePaintArrays=function(t,e,n){for(var r in this.binders)this.binders[r].populatePaintArray(t,e);if(e.id){var i=String(e.id);this._idMap[i]=this._idMap[i]||[],this._idMap[i].push({index:n,start:this._bufferOffset,end:t})}this._bufferOffset=t},Dr.prototype.updatePaintArrays=function(t,e,n){var r=!1;for(var i in t){var o=this._idMap[i];if(o)for(var a=t[i],s=0,u=o;s<u.length;s+=1){var l=u[s],c=e.feature(l.index);for(var f in this.binders){var h=this.binders[f];if(!(h instanceof Ir)&&!0===h.expression.isStateDependent){var p=n.paint.get(f);h.expression=p.value,h.updatePaintArray(l.start,l.end,c,a),r=!0}}}}return r},Dr.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Dr.prototype.setUniforms=function(t,e,n,r){for(var i in this.binders)this.binders[i].setUniforms(t,e,r,n.get(i))},Dr.prototype.getPaintVertexBuffers=function(){return this._buffers},Dr.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof Rr||i instanceof Nr)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Dr.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Lr=function(t,e,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Dr.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};Lr.prototype.populatePaintArrays=function(t,e,n){for(var r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,n);this.needsUpload=!0},Lr.prototype.updatePaintArrays=function(t,e,n){for(var r=0,i=n;r<i.length;r+=1){var o=i[r];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,e,o)||this.needsUpload}},Lr.prototype.get=function(t){return this.programConfigurations[t]},Lr.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Lr.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},bn("ConstantBinder",Ir),bn("SourceExpressionBinder",Rr),bn("CompositeExpressionBinder",Nr),bn("ProgramConfiguration",Dr,{omit:["_buffers"]}),bn("ProgramConfigurationSet",Lr);var jr=8192,Fr={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function Br(t){for(var e=jr/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<Fr.min||a.x>Fr.max||a.y<Fr.min||a.y>Fr.max)&&M("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Ur(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Vr=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new er,this.indexArray=new mr,this.segments=new Ar,this.programConfigurations=new Lr(Pr,t.layers,t.zoom)};function qr(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(Kr(i,e))return!0;if(Zr(e,i,n))return!0}return!1}function Yr(t,e){if(1===t.length&&1===t[0].length)return Xr(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(Xr(t,r[i]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(Xr(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(Hr(a,e[u]))return!0}return!1}function Wr(t,e,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++){var a=t[o];if(3<=a.length)for(var s=0;s<i.length;s++)if(Kr(a,i[s]))return!0;if($r(a,i,n))return!0}return!1}function $r(t,e,n){if(1<t.length){if(Hr(t,e))return!0;for(var r=0;r<e.length;r++)if(Zr(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Zr(t[i],e,n))return!0;return!1}function Hr(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(a=r,s=i,u=e[o],l=e[o+1],T(a,u,l)!==T(s,u,l)&&T(a,s,u)!==T(a,s,l))return!0;var a,s,u,l;return!1}function Zr(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Gr(t,e[i-1],e[i])<r)return!0;return!1}function Gr(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):1<i?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function Xr(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function Kr(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Jr(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].statistics.max}function Qr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ti(t,e,n,r,i){if(!e[0]&&!e[1])return t;var o=m.convert(e);"viewport"===n&&o._rotate(-r);for(var a=[],s=0;s<t.length;s++){for(var u=t[s],l=[],c=0;c<u.length;c++)l.push(u[c].sub(o._mult(i)));a.push(l)}return a}Vr.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nn(this.zoom),o)){var u=Br(o);this.addFeature(o,u,a),e.featureIndex.insert(o,u,a,s,this.index)}}},Vr.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},Vr.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vr.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vr.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Pr),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Vr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vr.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],u=s.x,l=s.y;if(!(u<0||jr<=u||l<0||jr<=l)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),f=c.vertexLength;Ur(this.layoutVertexArray,u,l,-1,-1),Ur(this.layoutVertexArray,u,l,1,-1),Ur(this.layoutVertexArray,u,l,1,1),Ur(this.layoutVertexArray,u,l,-1,1),this.indexArray.emplaceBack(f,f+1,f+2),this.indexArray.emplaceBack(f,f+3,f+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n)},bn("CircleBucket",Vr,{omit:["layers"]});var ei={paint:new Zn({"circle-radius":new Wn(j.paint_circle["circle-radius"]),"circle-color":new Wn(j.paint_circle["circle-color"]),"circle-blur":new Wn(j.paint_circle["circle-blur"]),"circle-opacity":new Wn(j.paint_circle["circle-opacity"]),"circle-translate":new Yn(j.paint_circle["circle-translate"]),"circle-translate-anchor":new Yn(j.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yn(j.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yn(j.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wn(j.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wn(j.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wn(j.paint_circle["circle-stroke-opacity"])})},ni="undefined"!=typeof Float32Array?Float32Array:Array;function ri(){var t=new ni(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ii(){var t=new ni(3);return t[0]=0,t[1]=0,t[2]=0,t}function oi(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function ai(t,e,n){var r=new ni(3);return r[0]=t,r[1]=e,r[2]=n,r}Math.PI;var si,ui=oi,li=(si=ii(),function(t,e,n,r,i,o){var a,s;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)si[0]=t[a],si[1]=t[a+1],si[2]=t[a+2],i(si,si,o),t[a]=si[0],t[a+1]=si[1],t[a+2]=si[2];return t});function ci(){var t=new ni(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function fi(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return 0<a&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}function hi(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}var pi,di,mi=(pi=ci(),function(t,e,n,r,i,o){var a,s;for(e||(e=4),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)pi[0]=t[a],pi[1]=t[a+1],pi[2]=t[a+2],pi[3]=t[a+3],i(pi,pi,o),t[a]=pi[0],t[a+1]=pi[1],t[a+2]=pi[2],t[a+3]=pi[3];return t});function yi(){var t=new ni(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}ii(),ai(1,0,0),ai(0,1,0),yi(),yi(),ri(),(di=new ni(2))[0]=0,di[1]=0;var vi=function(e){function t(t){e.call(this,t,ei)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.createBucket=function(t){return new Vr(t)},t.prototype.queryRadius=function(t){var e=t;return Jr("circle-radius",this,e)+Jr("circle-stroke-width",this,e)+Qr(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var u=ti(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),f=c?u:function(t,e,n){return u.map(function(t){return t.map(function(t){return gi(t,e,n)})})}(0,s,o),h=c?l*a:l,p=0,d=r;p<d.length;p+=1)for(var m=0,y=d[p];m<y.length;m+=1){var v=y[m],g=c?v:gi(v,s,o),_=h,b=hi([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),qr(f,g,_))return!0}return!1},t}(Gn);function gi(t,e,n){var r=hi([],[t.x,t.y,0,1],e);return new m((r[0]/r[3]+1)*n.width*.5,(r[1]/r[3]+1)*n.height*.5)}var _i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(Vr);function bi(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function xi(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=bi({},{width:r,height:i},n);wi(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function wi(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<i.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((r.y+u)*e.width+r.x)*o,f=0;f<i.width*o;f++)s[c+f]=a[l+f];return e}bn("HeatmapBucket",_i,{omit:["layers"]});var Ei=function(t,e){bi(this,t,1,e)};Ei.prototype.resize=function(t){xi(this,t,1)},Ei.prototype.clone=function(){return new Ei({width:this.width,height:this.height},new Uint8Array(this.data))},Ei.copy=function(t,e,n,r,i){wi(t,e,n,r,i,1)};var Si=function(t,e){bi(this,t,4,e)};Si.prototype.resize=function(t){xi(this,t,4)},Si.prototype.clone=function(){return new Si({width:this.width,height:this.height},new Uint8Array(this.data))},Si.copy=function(t,e,n,r,i){wi(t,e,n,r,i,4)},bn("AlphaImage",Ei),bn("RGBAImage",Si);var ki={paint:new Zn({"heatmap-radius":new Wn(j.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wn(j.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yn(j.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Hn(j.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yn(j.paint_heatmap["heatmap-opacity"])})};function Mi(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new Si({width:256,height:1},n)}var Ti=function(e){function t(t){e.call(this,t,ki),this._updateColorRamp()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.createBucket=function(t){return new _i(t)},t.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Mi(t,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Gn),Ci={paint:new Zn({"hillshade-illumination-direction":new Yn(j.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yn(j.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yn(j.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yn(j.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yn(j.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yn(j.paint_hillshade["hillshade-accent-color"])})},Pi=function(e){function t(t){e.call(this,t,Ci)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Gn),Ai=Qn([{name:"a_pos",components:2,type:"Int16"}],4).members,Oi=Ii,zi=Ii;function Ii(t,e,n){n=n||2;var r,i,o,a,s,u,l,c=e&&e.length,f=c?e[0]*n:t.length,h=Ri(t,0,f,n,!0),p=[];if(!h)return p;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ri(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Yi(a));for(s.sort(Ui),i=0;i<s.length;i++)Vi(s[i],n),n=Ni(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<f;d+=n)(s=t[d])<r&&(r=s),(u=t[d+1])<i&&(i=u),o<s&&(o=s),a<u&&(a=u);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Di(h,p,n,r,i,l),p}function Ri(t,e,n,r,i){var o,a;if(i===0<to(t,e,n,r))for(o=e;o<n;o+=r)a=Ki(o,t[o],t[o+1],a);else for(o=n-r;e<=o;o-=r)a=Ki(o,t[o],t[o+1],a);return a&&Hi(a,a.next)&&(Ji(a),a=a.next),a}function Ni(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Hi(r,r.next)&&0!==$i(r.prev,r,r.next))r=r.next;else{if(Ji(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Di(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){for(var i=t;null===i.z&&(i.z=qi(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,(i=i.next)!==t;);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,o=t=null,a=0;n;){for(a++,r=n,e=s=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;0<s||0<u&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(n=(i=n).nextZ,s--):(r=(i=r).nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(1<a)}(i)}(t,r,i,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?ji(t,r,i,o):Li(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Ji(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?Di(t=Fi(t,e,n),e,n,r,i,o,2):2===a&&Bi(t,e,n,r,i,o):Di(Ni(t),e,n,r,i,o,1);break}}}function Li(t){var e=t.prev,n=t,r=t.next;if(0<=$i(e,n,r))return!1;for(var i=t.next.next;i!==t.prev;){if(Wi(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&0<=$i(i.prev,i,i.next))return!1;i=i.next}return!0}function ji(t,e,n,r){var i=t.prev,o=t,a=t.next;if(0<=$i(i,o,a))return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=qi(s,u,e,n,r),h=qi(l,c,e,n,r),p=t.prevZ,d=t.nextZ;p&&p.z>=f&&d&&d.z<=h;){if(p!==t.prev&&p!==t.next&&Wi(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=$i(p.prev,p,p.next))return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&Wi(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=$i(d.prev,d,d.next))return!1;d=d.nextZ}for(;p&&p.z>=f;){if(p!==t.prev&&p!==t.next&&Wi(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&0<=$i(p.prev,p,p.next))return!1;p=p.prevZ}for(;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&Wi(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&0<=$i(d.prev,d,d.next))return!1;d=d.nextZ}return!0}function Fi(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Hi(i,o)&&Zi(i,r,r.next,o)&&Gi(i,o)&&Gi(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ji(r),Ji(r.next),r=t=o),r=r.next}while(r!==t);return r}function Bi(t,e,n,r,i,o){var a,s,u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&(s=l,(a=u).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Zi(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(a,s)&&Gi(a,s)&&Gi(s,a)&&function(t,e){for(var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),(n=n.next)!==t;);return r}(a,s))){var c=Xi(u,l);return u=Ni(u,u.next),c=Ni(c,c.next),Di(u,e,n,r,i,o),void Di(c,e,n,r,i,o)}l=l.next}u=u.next}while(u!==t)}function Ui(t,e){return t.x-e.x}function Vi(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&a<s){if((a=s)===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Wi(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&Gi(r,t)&&(n=r,h=u),r=r.next;return n}(t,e)){var n=Xi(e,t);Ni(n,n.next)}}function qi(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Yi(t){for(var e=t,n=t;e.x<n.x&&(n=e),(e=e.next)!==t;);return n}function Wi(t,e,n,r,i,o,a,s){return 0<=(i-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(r-s)-(n-a)*(e-s)&&0<=(n-a)*(o-s)-(i-a)*(r-s)}function $i(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Hi(t,e){return t.x===e.x&&t.y===e.y}function Zi(t,e,n,r){return!!(Hi(t,e)&&Hi(n,r)||Hi(t,r)&&Hi(n,e))||0<$i(t,e,n)!=0<$i(t,e,r)&&0<$i(n,r,t)!=0<$i(n,r,e)}function Gi(t,e){return $i(t.prev,t,t.next)<0?0<=$i(t,e,t.next)&&0<=$i(t,t.prev,e):$i(t,e,t.prev)<0||$i(t,t.next,e)<0}function Xi(t,e){var n=new Qi(t.i,t.x,t.y),r=new Qi(e.i,e.x,e.y),i=t.next,o=e.prev;return(t.next=e).prev=t,(n.next=i).prev=n,(r.next=n).prev=r,(o.next=r).prev=o,r}function Ki(t,e,n,r){var i=new Qi(t,e,n);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function Ji(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qi(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function to(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}Ii.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(to(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(to(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},Ii.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);0<i&&(r+=t[i-1].length,n.holes.push(r))}return n},Oi.default=zi;var eo=ro,no=ro;function ro(t,e,n,r,i){!function t(e,n,r,i,o){for(;r<i;){if(600<i-r){var a=i-r+1,s=n-r+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*l/a+c)),Math.min(i,Math.floor(n+(a-s)*l/a+c)),o)}var f=e[n],h=r,p=i;for(io(e,r,n),0<o(e[i],f)&&io(e,r,i);h<p;){for(io(e,h,p),h++,p--;o(e[h],f)<0;)h++;for(;0<o(e[p],f);)p--}0===o(e[r],f)?io(e,r,p):io(e,++p,i),p<=n&&(r=p+1),n<=p&&(i=p-1)}}(t,e,n||0,r||t.length-1,i||oo)}function io(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function oo(t,e){return t<e?-1:e<t?1:0}function ao(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=C(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),1<e)for(var u=0;u<o.length;u++)o[u].length<=e||(eo(o[u],e,1,o[u].length-1,so),o[u]=o[u].slice(0,e));return o}function so(t,e){return e.area-t.area}eo.default=no;var uo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new er,this.indexArray=new mr,this.indexArray2=new yr,this.programConfigurations=new Lr(Ai,t.layers,t.zoom),this.segments=new Ar,this.segments2=new Ar};uo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nn(this.zoom),o)){var u=Br(o);this.addFeature(o,u,a),e.featureIndex.insert(o,u,a,s,this.index)}}},uo.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},uo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},uo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ai),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},uo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},uo.prototype.addFeature=function(t,e,n){for(var r=0,i=ao(e,500);r<i.length;r+=1){for(var o=i[r],a=0,s=0,u=o;s<u.length;s+=1)a+=u[s].length;for(var l=this.segments.prepareSegment(a,this.layoutVertexArray,this.indexArray),c=l.vertexLength,f=[],h=[],p=0,d=o;p<d.length;p+=1){var m=d[p];if(0!==m.length){m!==o[0]&&h.push(f.length/2);var y=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),v=y.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(v+m.length-1,v),f.push(m[0].x),f.push(m[0].y);for(var g=1;g<m.length;g++)this.layoutVertexArray.emplaceBack(m[g].x,m[g].y),this.indexArray2.emplaceBack(v+g-1,v+g),f.push(m[g].x),f.push(m[g].y);y.vertexLength+=m.length,y.primitiveLength+=m.length}}for(var _=Oi(f,h),b=0;b<_.length;b+=3)this.indexArray.emplaceBack(c+_[b],c+_[b+1],c+_[b+2]);l.vertexLength+=a,l.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n)},bn("FillBucket",uo,{omit:["layers"]});var lo={paint:new Zn({"fill-antialias":new Yn(j.paint_fill["fill-antialias"]),"fill-opacity":new Wn(j.paint_fill["fill-opacity"]),"fill-color":new Wn(j.paint_fill["fill-color"]),"fill-outline-color":new Wn(j.paint_fill["fill-outline-color"]),"fill-translate":new Yn(j.paint_fill["fill-translate"]),"fill-translate-anchor":new Yn(j.paint_fill["fill-translate-anchor"]),"fill-pattern":new $n(j.paint_fill["fill-pattern"])})},co=function(e){function t(t){e.call(this,t,lo)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t);var e=this.paint._values["fill-outline-color"];"constant"===e.value.kind&&void 0===e.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(t){return new uo(t)},t.prototype.queryRadius=function(){return Qr(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Yr(ti(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},t}(Gn),fo=Qn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ho=Math.pow(2,13);function po(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*ho)+a,i*ho*2,o*ho*2,Math.round(s))}var mo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new rr,this.indexArray=new mr,this.programConfigurations=new Lr(fo,t.layers,t.zoom),this.segments=new Ar};mo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nn(this.zoom),o)){var u=Br(o);this.addFeature(o,u,a),e.featureIndex.insert(o,u,a,s,this.index)}}},mo.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},mo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},mo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},mo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,fo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},mo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},mo.prototype.addFeature=function(t,e,n){for(var r=0,i=ao(e,500);r<i.length;r+=1){for(var o=i[r],a=0,s=0,u=o;s<u.length;s+=1)a+=u[s].length;for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),c=0,f=o;c<f.length;c+=1){var h=f[c];if(0!==h.length&&!((z=h).every(function(t){return t.x<0})||z.every(function(t){return t.x>jr})||z.every(function(t){return t.y<0})||z.every(function(t){return t.y>jr})))for(var p=0,d=0;d<h.length;d++){var m=h[d];if(1<=d){var y=h[d-1];if(O=y,!((A=m).x===O.x&&(A.x<0||A.x>jr)||A.y===O.y&&(A.y<0||A.y>jr))){l.vertexLength+4>Ar.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=m.sub(y)._perp()._unit(),g=y.dist(m);32768<p+g&&(p=0),po(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,0,p),po(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,1,p),p+=g,po(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,p),po(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,p);var _=l.vertexLength;this.indexArray.emplaceBack(_,_+1,_+2),this.indexArray.emplaceBack(_+1,_+2,_+3),l.vertexLength+=4,l.primitiveLength+=2}}}}l.vertexLength+a>Ar.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(a,this.layoutVertexArray,this.indexArray));for(var b=[],x=[],w=l.vertexLength,E=0,S=o;E<S.length;E+=1){var k=S[E];if(0!==k.length){k!==o[0]&&x.push(b.length/2);for(var M=0;M<k.length;M++){var T=k[M];po(this.layoutVertexArray,T.x,T.y,0,0,1,1,0),b.push(T.x),b.push(T.y)}}}for(var C=Oi(b,x),P=0;P<C.length;P+=3)this.indexArray.emplaceBack(w+C[P],w+C[P+1],w+C[P+2]);l.primitiveLength+=C.length/3,l.vertexLength+=a}var A,O,z;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n)},bn("FillExtrusionBucket",mo,{omit:["layers"]});var yo={paint:new Zn({"fill-extrusion-opacity":new Yn(j["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wn(j["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yn(j["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yn(j["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new $n(j["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wn(j["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wn(j["paint_fill-extrusion"]["fill-extrusion-base"])})},vo=function(e){function t(t){e.call(this,t,yo)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.createBucket=function(t){return new mo(t)},t.prototype.queryRadius=function(){return Qr(this.paint.get("fill-extrusion-translate"))},t.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return Yr(ti(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),r)},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t}(Gn),go=Qn([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,_o=bo;function bo(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(xo,this,e)}function xo(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function wo(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}bo.types=["Unknown","Point","LineString","Polygon"],bo.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[];t.pos<n;){if(i<=0){var u=t.readVarint();r=7&u,i=u>>3}if(i--,1===r||2===r)o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new m(o,a));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},bo.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),s<i&&(s=i),(o+=t.readSVarint())<u&&(u=o),l<o&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},bo.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=bo.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+s)/o;t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];c(u=f);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=wo(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var h={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Eo=So;function So(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ko,this,e),this.length=this._features.length}function ko(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function Mo(t,e,n){if(3===t){var r=new Eo(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}So.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new _o(this._pbf,e,this.extent,this._keys,this._values)};var To={VectorTile:function(t,e){this.layers=t.readFields(Mo,{},e)},VectorTileFeature:_o,VectorTileLayer:Eo},Co=To.VectorTileFeature.types,Po=Math.cos(Math.PI/180*37.5),Ao=Math.pow(2,14)/.5;function Oo(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(63*n.x)+128,Math.round(63*n.y)+128,1+(0===o?0:o<0?-1:1)|(.5*a&63)<<2,.5*a>>6)}var zo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new ir,this.indexArray=new mr,this.programConfigurations=new Lr(go,t.layers,t.zoom),this.segments=new Ar};function Io(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(Ao-1)}zo.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new Nn(this.zoom),o)){var u=Br(o);this.addFeature(o,u,a),e.featureIndex.insert(o,u,a,s,this.index)}}},zo.prototype.update=function(t,e){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers)},zo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},zo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},zo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,go),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},zo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},zo.prototype.addFeature=function(t,e,n){for(var r=this.layers[0].layout,i=r.get("line-join").evaluate(t,{}),o=r.get("line-cap"),a=r.get("line-miter-limit"),s=r.get("line-round-limit"),u=0,l=e;u<l.length;u+=1){var c=l[u];this.addLine(c,t,i,o,a,s,n)}},zo.prototype.addLine=function(t,e,n,r,i,o,a){var s=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(s={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Co[e.type],l=t.length;2<=l&&t[l-1].equals(t[l-2]);)l--;for(var c=0;c<l-1&&t[c].equals(t[c+1]);)c++;if(!(l<(u?3:2))){s&&(s.tileTotal=function(t,e,n){for(var r,i,o=0,a=c;a<n-1;a++)r=t[a],i=t[a+1],o+=r.dist(i);return o}(t,0,l)),"bevel"===n&&(i=1.05);var f,h,p,d=jr/(512*this.overscaling)*15,m=t[c],y=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),v=r,g=u?"butt":r,_=!(this.distance=0),b=void 0,x=void 0,w=void 0,E=void 0;this.e1=this.e2=this.e3=-1,u&&(f=t[l-2],E=m.sub(f)._unit()._perp());for(var S=c;S<l;S++)if(!(x=u&&S===l-1?t[c+1]:t[S+1])||!t[S].equals(x)){E&&(w=E),f&&(b=f),f=t[S],E=x?x.sub(f)._unit()._perp():w;var k=(w=w||E).add(E);0===k.x&&0===k.y||k._unit();var M=k.x*E.x+k.y*E.y,T=0!==M?1/M:1/0,C=M<Po&&b&&x;if(C&&c<S){var P=f.dist(b);if(2*d<P){var A=f.sub(f.sub(b)._mult(d/P)._round());this.distance+=A.dist(b),this.addCurrentVertex(A,this.distance,w.mult(1),0,0,!1,y,s),b=A}}var O=b&&x,z=O?n:x?v:g;if(O&&"round"===z&&(T<o?z="miter":T<=2&&(z="fakeround")),"miter"===z&&i<T&&(z="bevel"),"bevel"===z&&(2<T&&(z="flipbevel"),T<i&&(z="miter")),b&&(this.distance+=f.dist(b)),"miter"===z)k._mult(T),this.addCurrentVertex(f,this.distance,k,0,0,!1,y,s);else if("flipbevel"===z){if(100<T)k=E.clone().mult(-1);else{var I=0<w.x*E.y-w.y*E.x?-1:1,R=T*w.add(E).mag()/w.sub(E).mag();k._perp()._mult(R*I)}this.addCurrentVertex(f,this.distance,k,0,0,!1,y,s),this.addCurrentVertex(f,this.distance,k.mult(-1),0,0,!1,y,s)}else if("bevel"===z||"fakeround"===z){var N=0<w.x*E.y-w.y*E.x,D=-Math.sqrt(T*T-1);if(N?(p=0,h=D):(h=0,p=D),_||this.addCurrentVertex(f,this.distance,w,h,p,!1,y,s),"fakeround"===z){for(var L=Math.floor(8*(.5-(M-.5))),j=void 0,F=0;F<L;F++)j=E.mult((F+1)/(L+1))._add(w)._unit(),this.addPieSliceVertex(f,this.distance,j,N,y,s);this.addPieSliceVertex(f,this.distance,k,N,y,s);for(var B=L-1;0<=B;B--)j=w.mult((B+1)/(L+1))._add(E)._unit(),this.addPieSliceVertex(f,this.distance,j,N,y,s)}x&&this.addCurrentVertex(f,this.distance,E,-h,-p,!1,y,s)}else"butt"===z?(_||this.addCurrentVertex(f,this.distance,w,0,0,!1,y,s),x&&this.addCurrentVertex(f,this.distance,E,0,0,!1,y,s)):"square"===z?(_||(this.addCurrentVertex(f,this.distance,w,1,1,!1,y,s),this.e1=this.e2=-1),x&&this.addCurrentVertex(f,this.distance,E,-1,-1,!1,y,s)):"round"===z&&(_||(this.addCurrentVertex(f,this.distance,w,0,0,!1,y,s),this.addCurrentVertex(f,this.distance,w,1,1,!0,y,s),this.e1=this.e2=-1),x&&(this.addCurrentVertex(f,this.distance,E,-1,-1,!0,y,s),this.addCurrentVertex(f,this.distance,E,0,0,!1,y,s)));if(C&&S<l-1){var U=f.dist(x);if(2*d<U){var V=f.add(x.sub(f)._mult(d/U)._round());this.distance+=V.dist(f),this.addCurrentVertex(V,this.distance,E.mult(1),0,0,!1,y,s),f=V}}_=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a)}},zo.prototype.addCurrentVertex=function(t,e,n,r,i,o,a,s){var u,l=this.layoutVertexArray,c=this.indexArray;s&&(e=Io(e,s)),u=n.clone(),r&&u._sub(n.perp()._mult(r)),Oo(l,t,u,o,!1,r,e),this.e3=a.vertexLength++,0<=this.e1&&0<=this.e2&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),i&&u._sub(n.perp()._mult(i)),Oo(l,t,u,o,!0,-i,e),this.e3=a.vertexLength++,0<=this.e1&&0<=this.e2&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,Ao/2<e&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))},zo.prototype.addPieSliceVertex=function(t,e,n,r,i,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=Io(e,o)),Oo(a,t,n,!1,r,0,e),this.e3=i.vertexLength++,0<=this.e1&&0<=this.e2&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},bn("LineBucket",zo,{omit:["layers"]});var Ro=new Zn({"line-cap":new Yn(j.layout_line["line-cap"]),"line-join":new Wn(j.layout_line["line-join"]),"line-miter-limit":new Yn(j.layout_line["line-miter-limit"]),"line-round-limit":new Yn(j.layout_line["line-round-limit"])}),No={paint:new Zn({"line-opacity":new Wn(j.paint_line["line-opacity"]),"line-color":new Wn(j.paint_line["line-color"]),"line-translate":new Yn(j.paint_line["line-translate"]),"line-translate-anchor":new Yn(j.paint_line["line-translate-anchor"]),"line-width":new Wn(j.paint_line["line-width"]),"line-gap-width":new Wn(j.paint_line["line-gap-width"]),"line-offset":new Wn(j.paint_line["line-offset"]),"line-blur":new Wn(j.paint_line["line-blur"]),"line-dasharray":new $n(j.paint_line["line-dasharray"]),"line-pattern":new $n(j.paint_line["line-pattern"]),"line-gradient":new Hn(j.paint_line["line-gradient"])}),layout:Ro},Do=new(function(i){function t(){i.apply(this,arguments)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.possiblyEvaluate=function(t,e){return e=new Nn(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),i.prototype.possiblyEvaluate.call(this,t,e)},t.prototype.evaluate=function(t,e,n,r){return e=y({},e,{zoom:Math.floor(e.zoom)}),i.prototype.evaluate.call(this,t,e,n,r)},t}(Wn))(No.paint.properties["line-width"].specification);Do.useIntegerZoom=!0;var Lo=function(e){function t(t){e.call(this,t,No)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},t.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Mi(t,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=Do.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(t){return new zo(t)},t.prototype.queryRadius=function(t){var e=t,n=jo(Jr("line-width",this,e),Jr("line-gap-width",this,e)),r=Jr("line-offset",this,e);return n/2+Math.abs(r)+Qr(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){var s=ti(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),u=a/2*jo(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),l=this.paint.get("line-offset").evaluate(e,n);return l&&(r=function(t,e){for(var n=[],r=new m(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var u=o[s-1],l=o[s],c=o[s+1],f=0===s?r:l.sub(u)._unit()._perp(),h=s===o.length-1?r:c.sub(l)._unit()._perp(),p=f._add(h)._unit(),d=p.x*h.x+p.y*h.y;p._mult(1/d),a.push(p._mult(e)._add(l))}n.push(a)}return n}(r,l*a)),Wr(s,r,u)},t}(Gn);function jo(t,e){return 0<e?e+2*t:t}var Fo=Qn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Bo=Qn([{name:"a_projected_pos",components:3,type:"Float32"}],4),Uo=(Qn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Qn([{name:"a_placed",components:2,type:"Uint8"}],4)),Vo=(Qn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Qn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),qo=Qn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);Qn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),Qn([{type:"Float32",name:"offsetX"}]),Qn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Yo={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Wo=function(i){function t(t,e,n,r){i.call(this,t,e),this.angle=n,void 0!==r&&(this.segment=r)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(m);function $o(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new Nn(t+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate(new Nn(t+1)),zoomRange:a,sizeRange:{min:n.evaluate(new Nn(a.min)),max:n.evaluate(new Nn(a.max))},propertyValue:e.value}}bn("Anchor",Wo);var Ho=To.VectorTileFeature.types,Zo=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Go(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function Xo(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var Ko=function(t){this.layoutVertexArray=new or,this.indexArray=new mr,this.programConfigurations=t,this.segments=new Ar,this.dynamicLayoutVertexArray=new ar,this.opacityVertexArray=new sr,this.placedSymbolArray=new wr};Ko.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Fo.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Bo.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Zo,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},Ko.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},bn("SymbolBuffers",Ko);var Jo=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new Ar,this.collisionVertexArray=new cr};Jo.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Uo.members,!0)},Jo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},bn("CollisionBuffers",Jo);var Qo=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=$o(this.zoom,e["text-size"]),this.iconSizeData=$o(this.zoom,e["icon-size"]);var n=this.layers[0].layout;this.sortFeaturesByY=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sourceID=t.sourceID};Qo.prototype.createArrays=function(){this.text=new Ko(new Lr(Fo.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new Ko(new Lr(Fo.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new Jo(lr,Vo.members,yr),this.collisionCircle=new Jo(lr,qo.members,mr),this.glyphOffsetArray=new Sr,this.lineVertexArray=new Mr},Qo.prototype.populate=function(t,e){var n,r,i,o=this.layers[0],a=o.layout,s=a.get("text-font"),u=a.get("text-field"),l=a.get("icon-image"),c=("constant"!==u.value.kind||0<u.value.value.length)&&("constant"!==s.value.kind||0<s.value.value.length),f="constant"!==l.value.kind||l.value.value&&0<l.value.value.length;if(this.features=[],c||f){for(var h=e.iconDependencies,p=e.glyphDependencies,d=new Nn(this.zoom),m=0,y=t;m<y.length;m+=1){var v=y[m],g=v.feature,_=v.index,b=v.sourceLayerIndex;if(o._featureFilter(d,g)){var x=void 0;c&&(n=x=o.getValueAndResolveTokens("text-field",g),r=g,"uppercase"===(i=o.layout.get("text-transform").evaluate(r,{}))?n=n.toLocaleUpperCase():"lowercase"===i&&(n=n.toLocaleLowerCase()),Rn.applyArabicShaping&&(n=Rn.applyArabicShaping(n)),x=n);var w=void 0;if(f&&(w=o.getValueAndResolveTokens("icon-image",g)),x||w){var E={text:x,icon:w,index:_,sourceLayerIndex:b,geometry:Br(g),properties:g.properties,type:Ho[g.type]};if(void 0!==g.id&&(E.id=g.id),this.features.push(E),w&&(h[w]=!0),x)for(var S=s.evaluate(g,{}).join(","),k=p[S]=p[S]||{},M="map"===a.get("text-rotation-alignment")&&"point"!==a.get("symbol-placement"),T=Mn(x),C=0;C<x.length;C++)if(k[x.charCodeAt(C)]=!0,M&&T){var P=Yo[x.charAt(C)];P&&(k[P.charCodeAt(0)]=!0)}}}}"line"===a.get("symbol-placement")&&(this.features=function(e){var i={},o={},a=[],n=0;function t(t){a.push(e[t]),n++}function r(t,e,n){var r=o[t];return delete o[t],o[e]=r,a[r].geometry[0].pop(),a[r].geometry[0]=a[r].geometry[0].concat(n[0]),r}function s(t,e,n){var r=i[e];return delete i[e],i[t]=r,a[r].geometry[0].shift(),a[r].geometry[0]=n[0].concat(a[r].geometry[0]),r}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var l=0;l<e.length;l++){var c=e[l],f=c.geometry,h=c.text;if(h){var p=u(h,f),d=u(h,f,!0);if(p in o&&d in i&&o[p]!==i[d]){var m=s(p,d,f),y=r(p,d,a[m].geometry);delete i[p],delete o[d],o[u(h,a[y].geometry,!0)]=y,a[m].geometry=null}else p in o?r(p,d,f):d in i?s(p,d,f):(t(l),i[p]=n-1,o[d]=n-1)}else t(l)}return a.filter(function(t){return t.geometry})}(this.features))}},Qo.prototype.update=function(t,e){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers))},Qo.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Qo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Qo.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Qo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Qo.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;0<=s;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},0<s&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Qo.prototype.addSymbols=function(t,e,n,r,i,o,a,s,u,l){for(var c=t.indexArray,f=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,p=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),d=this.glyphOffsetArray.length,m=p.vertexLength,y=0,v=e;y<v.length;y+=1){var g=v[y],_=g.tl,b=g.tr,x=g.bl,w=g.br,E=g.tex,S=p.vertexLength,k=g.glyphOffset[1];Go(f,s.x,s.y,_.x,k+_.y,E.x,E.y,n),Go(f,s.x,s.y,b.x,k+b.y,E.x+E.w,E.y,n),Go(f,s.x,s.y,x.x,k+x.y,E.x,E.y+E.h,n),Go(f,s.x,s.y,w.x,k+w.y,E.x+E.w,E.y+E.h,n),Xo(h,s,0),c.emplaceBack(S,S+1,S+2),c.emplaceBack(S+1,S+2,S+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index)},Qo.prototype._addCollisionDebugVertex=function(t,e,n,r,i){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))},Qo.prototype.addCollisionDebugVertices=function(t,e,n,r,i,o,a,s){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=u.vertexLength,c=i.layoutVertexArray,f=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,f,o,a.anchor,new m(t,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new m(n,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new m(n,r)),this._addCollisionDebugVertex(c,f,o,a.anchor,new m(t,r)),u.vertexLength+=4,s){var h=i.indexArray;h.emplaceBack(l,l+1,l+2),h.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var p=i.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4}},Qo.prototype.generateCollisionDebugBuffers=function(){for(var t=0,e=this.symbolInstances;t<e.length;t+=1){var n=e[t];n.textCollisionFeature={boxStartIndex:n.textBoxStartIndex,boxEndIndex:n.textBoxEndIndex},n.iconCollisionFeature={boxStartIndex:n.iconBoxStartIndex,boxEndIndex:n.iconBoxEndIndex};for(var r=0;r<2;r++){var i=n[0===r?"textCollisionFeature":"iconCollisionFeature"];if(i)for(var o=i.boxStartIndex;o<i.boxEndIndex;o++){var a=this.collisionBoxArray.get(o),s=a.x1,u=a.y1,l=a.x2,c=a.y2,f=0<a.radius;this.addCollisionDebugVertices(s,u,l,c,f?this.collisionCircle:this.collisionBox,a.anchorPoint,n,f)}}}},Qo.prototype.deserializeCollisionBoxes=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<i;u++){var l=t.get(u);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},o.iconFeatureIndex=l.featureIndex;break}}return o},Qo.prototype.hasTextData=function(){return 0<this.text.segments.get().length},Qo.prototype.hasIconData=function(){return 0<this.icon.segments.get().length},Qo.prototype.hasCollisionBoxData=function(){return 0<this.collisionBox.segments.get().length},Qo.prototype.hasCollisionCircleData=function(){return 0<this.collisionCircle.segments.get().length},Qo.prototype.sortFeatures=function(t){var i=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(1<this.text.segments.get().length||1<this.icon.segments.get().length))){for(var e=[],n=0;n<this.symbolInstances.length;n++)e.push(n);var o=Math.sin(t),a=Math.cos(t);e.sort(function(t,e){var n=i.symbolInstances[t],r=i.symbolInstances[e];return(0|Math.round(o*n.anchor.x+a*n.anchor.y))-(0|Math.round(o*r.anchor.x+a*r.anchor.y))||r.featureIndex-n.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,s=e;r<s.length;r+=1){var u=s[r],l=i.symbolInstances[u];i.featureSortOrder.push(l.featureIndex);for(var c=0,f=l.placedTextSymbolIndices;c<f.length;c+=1)for(var h=f[c],p=i.text.placedSymbolArray.get(h),d=p.vertexStartIndex+4*p.numGlyphs,m=p.vertexStartIndex;m<d;m+=4)i.text.indexArray.emplaceBack(m,m+1,m+2),i.text.indexArray.emplaceBack(m+1,m+2,m+3);var y=i.icon.placedSymbolArray.get(u);if(y.numGlyphs){var v=y.vertexStartIndex;i.icon.indexArray.emplaceBack(v,v+1,v+2),i.icon.indexArray.emplaceBack(v+1,v+2,v+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},bn("SymbolBucket",Qo,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),Qo.MAX_GLYPHS=65535,Qo.addDynamicAttributes=Xo;var ta=new Zn({"symbol-placement":new Yn(j.layout_symbol["symbol-placement"]),"symbol-spacing":new Yn(j.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yn(j.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new Yn(j.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yn(j.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yn(j.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yn(j.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wn(j.layout_symbol["icon-size"]),"icon-text-fit":new Yn(j.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yn(j.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wn(j.layout_symbol["icon-image"]),"icon-rotate":new Wn(j.layout_symbol["icon-rotate"]),"icon-padding":new Yn(j.layout_symbol["icon-padding"]),"icon-keep-upright":new Yn(j.layout_symbol["icon-keep-upright"]),"icon-offset":new Wn(j.layout_symbol["icon-offset"]),"icon-anchor":new Wn(j.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yn(j.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yn(j.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yn(j.layout_symbol["text-rotation-alignment"]),"text-field":new Wn(j.layout_symbol["text-field"]),"text-font":new Wn(j.layout_symbol["text-font"]),"text-size":new Wn(j.layout_symbol["text-size"]),"text-max-width":new Wn(j.layout_symbol["text-max-width"]),"text-line-height":new Yn(j.layout_symbol["text-line-height"]),"text-letter-spacing":new Wn(j.layout_symbol["text-letter-spacing"]),"text-justify":new Wn(j.layout_symbol["text-justify"]),"text-anchor":new Wn(j.layout_symbol["text-anchor"]),"text-max-angle":new Yn(j.layout_symbol["text-max-angle"]),"text-rotate":new Wn(j.layout_symbol["text-rotate"]),"text-padding":new Yn(j.layout_symbol["text-padding"]),"text-keep-upright":new Yn(j.layout_symbol["text-keep-upright"]),"text-transform":new Wn(j.layout_symbol["text-transform"]),"text-offset":new Wn(j.layout_symbol["text-offset"]),"text-allow-overlap":new Yn(j.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yn(j.layout_symbol["text-ignore-placement"]),"text-optional":new Yn(j.layout_symbol["text-optional"])}),ea={paint:new Zn({"icon-opacity":new Wn(j.paint_symbol["icon-opacity"]),"icon-color":new Wn(j.paint_symbol["icon-color"]),"icon-halo-color":new Wn(j.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wn(j.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wn(j.paint_symbol["icon-halo-blur"]),"icon-translate":new Yn(j.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yn(j.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wn(j.paint_symbol["text-opacity"]),"text-color":new Wn(j.paint_symbol["text-color"]),"text-halo-color":new Wn(j.paint_symbol["text-halo-color"]),"text-halo-width":new Wn(j.paint_symbol["text-halo-width"]),"text-halo-blur":new Wn(j.paint_symbol["text-halo-blur"]),"text-translate":new Yn(j.paint_symbol["text-translate"]),"text-translate-anchor":new Yn(j.paint_symbol["text-translate-anchor"])}),layout:ta},na=function(e){function t(t){e.call(this,t,ea)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(t,e){var n,r=this.layout.get(t).evaluate(e,{}),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||Te(i.value)?r:(n=e.properties,r.replace(/{([^{}]+)}/g,function(t,e){return e in n?String(n[e]):""}))},t.prototype.createBucket=function(t){return new Qo(t)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(Gn),ra={paint:new Zn({"background-color":new Yn(j.paint_background["background-color"]),"background-pattern":new $n(j.paint_background["background-pattern"]),"background-opacity":new Yn(j.paint_background["background-opacity"])})},ia=function(e){function t(t){e.call(this,t,ra)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t}(Gn),oa={paint:new Zn({"raster-opacity":new Yn(j.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yn(j.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yn(j.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yn(j.paint_raster["raster-brightness-max"]),"raster-saturation":new Yn(j.paint_raster["raster-saturation"]),"raster-contrast":new Yn(j.paint_raster["raster-contrast"]),"raster-resampling":new Yn(j.paint_raster["raster-resampling"]),"raster-fade-duration":new Yn(j.paint_raster["raster-fade-duration"])})},aa={circle:vi,heatmap:Ti,hillshade:Pi,fill:co,"fill-extrusion":vo,line:Lo,symbol:na,background:ia,raster:function(e){function t(t){e.call(this,t,oa)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t}(Gn)},sa=n(function(t,e){t.exports=function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function p(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,e,n){var r,i,o,a,s,u,l,c,f={freebin:-1,shelf:-1,waste:1/0},h=0;if("string"==typeof n||"number"==typeof n){if(r=this.getBin(n))return this.ref(r),r;"number"==typeof n&&(this.maxId=Math.max(n,this.maxId))}else n=++this.maxId;for(a=0;a<this.freebins.length;a++){if(e===(r=this.freebins[a]).maxh&&t===r.maxw)return this.allocFreebin(a,t,e,n);e>r.maxh||t>r.maxw||e<=r.maxh&&t<=r.maxw&&(o=r.maxw*r.maxh-t*e)<f.waste&&(f.waste=o,f.freebin=a)}for(a=0;a<this.shelves.length;a++)if(h+=(i=this.shelves[a]).h,!(t>i.free)){if(e===i.h)return this.allocShelf(a,t,e,n);e>i.h||e<i.h&&(o=(i.h-e)*t)<f.waste&&(f.freebin=-1,f.waste=o,f.shelf=a)}return-1!==f.freebin?this.allocFreebin(f.freebin,t,e,n):-1!==f.shelf?this.allocShelf(f.shelf,t,e,n):e<=this.h-h&&t<=this.w?(i=new p(h,this.w,e),this.allocShelf(this.shelves.push(i)-1,t,e,n)):this.autoResize?(s=u=this.h,((l=c=this.w)<=s||l<t)&&(c=2*Math.max(t,l)),(s<l||s<e)&&(u=2*Math.max(e,s)),this.resize(c,u),this.packOne(t,e,n)):null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t].alloc(e,n,r);return this.bins[r]=i,this.ref(i),i},t.prototype.shrink=function(){if(0<this.shelves.length){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},p.prototype.alloc=function(t,e,n){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new function(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}(n,r,this.y,t,e,t,this.h)},p.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t}()}),ua=function(t,e){var n=e.pixelRatio;this.paddedRect=t,this.pixelRatio=n},la={tl:{configurable:!0},br:{configurable:!0},displaySize:{configurable:!0}};la.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},la.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},la.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(ua.prototype,la);var ca=function(t){var e=new Si({width:0,height:0}),n={},r=new sa(0,0,{autoResize:!0});for(var i in t){var o=t[i],a=r.packOne(o.data.width+2,o.data.height+2);e.resize({width:r.w,height:r.h}),Si.copy(o.data,e,{x:0,y:0},{x:a.x+1,y:a.y+1},o.data),n[i]=new ua(a,o)}r.shrink(),e.resize({width:r.w,height:r.h}),this.image=e,this.positions=n};bn("ImagePosition",ua),bn("ImageAtlas",ca);var fa=self.HTMLImageElement,ha=self.HTMLCanvasElement,pa=self.HTMLVideoElement,da=self.ImageData,ma=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};ma.prototype.update=function(t,e){var n=t.width,r=t.height,i=!this.size||this.size[0]!==n||this.size[1]!==r,o=this.context,a=o.gl;this.useMipmap=Boolean(e&&e.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),i?(this.size=[n,r],o.pixelStoreUnpack.set(1),this.format!==a.RGBA||e&&!1===e.premultiply||o.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof fa||t instanceof ha||t instanceof pa||t instanceof da?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,t):a.texImage2D(a.TEXTURE_2D,0,this.format,n,r,0,this.format,a.UNSIGNED_BYTE,t.data)):t instanceof fa||t instanceof ha||t instanceof pa||t instanceof da?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,t):a.texSubImage2D(a.TEXTURE_2D,0,0,0,n,r,a.RGBA,a.UNSIGNED_BYTE,t.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},ma.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},ma.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ma.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var ya=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;0<c;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},va=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(e+=1<=a+f?h/u:h*Math.pow(2,1-f))*u&&(a++,u/=2),c<=a+f?(s=0,a=c):1<=a+f?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));8<=i;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*m},ga=_a;function _a(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function ba(t){return t.type===_a.Bytes?t.readVarint()+t.pos:t.pos+1}function xa(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function wa(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;t<=i;i--)n.buf[i+r]=n.buf[i]}function Ea(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Sa(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function ka(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Ma(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function Ta(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Ca(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Pa(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Aa(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Oa(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function za(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Ia(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Ra(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}_a.Varint=0,_a.Fixed64=1,_a.Bytes=2,_a.Fixed32=5,_a.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=za(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Ra(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=za(this.buf,this.pos)+4294967296*za(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=za(this.buf,this.pos)+4294967296*Ra(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=ya(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=ya(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return xa(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return xa(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return xa(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return xa(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return xa(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return xa(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],l=null,c=239<u?4:223<u?3:191<u?2:1;if(n<i+c)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||55296<=l&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||1114112<=l)&&(l=null)),null===l?(l=65533,c=1):65535<l&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=ba(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=ba(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===_a.Varint)for(;127<this.buf[this.pos++];);else if(e===_a.Bytes)this.pos=this.readVarint()+this.pos;else if(e===_a.Fixed32)this.pos+=4;else{if(e!==_a.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ia(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ia(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ia(this.buf,-1&t,this.pos),Ia(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ia(this.buf,-1&t,this.pos),Ia(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(l){268435455<(l=+l||0)||l<0?function(t,e){var n,r,i,o,a,s,u;if(0<=l?(n=l%4294967296|0,r=l/4294967296|0):(r=~(-l/4294967296),4294967295^(n=~(-l%4294967296))?n=n+1|0:r=r+1|(n=0)),0x10000000000000000<=l||l<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),s=n,(u=e).buf[u.pos++]=127&s|128,s>>>=7,u.buf[u.pos++]=127&s|128,s>>>=7,u.buf[u.pos++]=127&s|128,s>>>=7,u.buf[u.pos++]=127&s|128,s>>>=7,u.buf[u.pos]=127&s,a=(7&(i=r))<<4,(o=e).buf[o.pos++]|=a|((i>>>=3)?128:0),i&&(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i|((i>>>=7)?128:0),i&&(o.buf[o.pos++]=127&i)))))}(0,this):(this.realloc(4),this.buf[this.pos++]=127&l|(127<l?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(127<l?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(127<l?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if(55295<(r=e.charCodeAt(o))&&r<57344){if(!i){56319<r||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);t[n++]=r<128?r:(t[n++]=r<2048?r>>6|192:(t[n++]=r<65536?r>>12|224:(t[n++]=r>>18|240,r>>12&63|128),r>>6&63|128),63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;128<=n&&wa(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),va(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),va(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;128<=r&&wa(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,_a.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Ea,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Sa,e)},writePackedBoolean:function(t,e){this.writeMessage(t,Ta,e)},writePackedFloat:function(t,e){this.writeMessage(t,ka,e)},writePackedDouble:function(t,e){this.writeMessage(t,Ma,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Ca,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Pa,e)},writePackedFixed64:function(t,e){this.writeMessage(t,Aa,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,Oa,e)},writeBytesField:function(t,e){this.writeTag(t,_a.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,_a.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,_a.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,_a.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,_a.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,_a.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,_a.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,_a.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,_a.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,_a.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Na=3;function Da(t,e,n){1===t&&n.readMessage(La,e)}function La(t,e,n){if(3===t){var r=n.readMessage(ja,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,u=r.left,l=r.top,c=r.advance;e.push({id:i,bitmap:new Ei({width:a+2*Na,height:s+2*Na},o),metrics:{width:a,height:s,left:u,top:l,advance:c}})}}function ja(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var Fa=Na,Ba=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,b(["receive"],this),this.target.addEventListener("message",this.receive,!1)};Ba.prototype.send=function(t,e,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:wn(e,o)},o)},Ba.prototype.receive=function(t){var e,r=this,n=t.data,i=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var o=function(t,e){var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(i),error:t?wn(t):null,data:wn(e,n)},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(En(n.error)):e&&e(null,En(n.data));else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,En(n.data),o);else if(void 0!==n.id&&this.parent.getWorkerSource){var a=n.type.split("."),s=En(n.data);this.parent.getWorkerSource(n.sourceMapId,a[0],s.source)[a[1]](s,o)}else this.parent[n.type](En(n.data))}},Ba.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Ua=n(function(t,e){!function(t){function a(t,e,n){var r=o(256*t,256*(e=Math.pow(2,n)-e-1),n),i=o(256*(t+1),256*(e+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}function o(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}t.getURL=function(t,e,n,r,i,o){return o=o||{},t+"?"+["bbox="+a(n,r,i),"format="+(o.format||"image/png"),"service="+(o.service||"WMS"),"version="+(o.version||"1.1.1"),"request="+(o.request||"GetMap"),"srs="+(o.srs||"EPSG:3857"),"width="+(o.width||256),"height="+(o.height||256),"layers="+e].join("&")},t.getTileBBox=a,t.getMercCoords=o,Object.defineProperty(t,"__esModule",{value:!0})}(e)});e(Ua);var Va=Ua.getTileBBox,qa=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=$a(0,t,e,n)};qa.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},qa.prototype.url=function(t,e){var n=Va(this.x,this.y,this.z),r=function(t,e,n){for(var r,i="",o=t;0<o;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)};var Ya=function(t,e){this.wrap=t,this.canonical=e,this.key=$a(t,e.z,e.x,e.y)},Wa=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new qa(n,+r,+i),this.key=$a(e,t,r,i)};function $a(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}Wa.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Wa.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Wa(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Wa(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Wa.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Wa.prototype.children=function(t){if(this.overscaledZ>=t)return[new Wa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Wa(e,this.wrap,e,n,r),new Wa(e,this.wrap,e,n+1,r),new Wa(e,this.wrap,e,n,r+1),new Wa(e,this.wrap,e,n+1,r+1)]},Wa.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Wa.prototype.wrapped=function(){return new Wa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Wa.prototype.unwrapTo=function(t){return new Wa(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Wa.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Wa.prototype.toUnwrapped=function(){return new Ya(this.wrap,this.canonical)},Wa.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Wa.prototype.toCoordinate=function(){return new c(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},bn("CanonicalTileID",qa),bn("OverscaledTileID",Wa,{omit:["posMatrix"]});var Ha=function(t,e,n){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=n||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};Ha.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},Ha.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},Ha.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},bn("Level",Ha);var Za=function(t,e,n){this.uid=t,this.scale=e||1,this.level=n||new Ha(256,512),this.loaded=!!n};Za.prototype.loadFromImage=function(t,e){if(t.height!==t.width)throw new RangeError("DEM tiles must be square");if(e&&"mapbox"!==e&&"terrarium"!==e)return M('"'+e+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var n=this.level=new Ha(t.width,t.width/2),r=t.data;this._unpackData(n,r,e||"mapbox");for(var i=0;i<n.dim;i++)n.set(-1,i,n.get(0,i)),n.set(n.dim,i,n.get(n.dim-1,i)),n.set(i,-1,n.get(i,0)),n.set(i,n.dim,n.get(i,n.dim-1));n.set(-1,-1,n.get(0,0)),n.set(n.dim,-1,n.get(n.dim-1,0)),n.set(-1,n.dim,n.get(0,n.dim-1)),n.set(n.dim,n.dim,n.get(n.dim-1,n.dim-1)),this.loaded=!0},Za.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Za.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Za.prototype._unpackData=function(t,e,n){for(var r={mapbox:this._unpackMapbox,terrarium:this._unpackTerrarium}[n],i=0;i<t.dim;i++)for(var o=0;o<t.dim;o++){var a=4*(i*t.dim+o);t.set(o,i,this.scale*r(e[a],e[a+1],e[a+2]))}},Za.prototype.getPixels=function(){return new Si({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},Za.prototype.backfillBorder=function(t,e,n){var r=this.level,i=t.level;if(r.dim!==i.dim)throw new Error("level mismatch (dem dimension)");var o=e*r.dim,a=e*r.dim+r.dim,s=n*r.dim,u=n*r.dim+r.dim;switch(e){case-1:o=a-1;break;case 1:a=o+1}switch(n){case-1:s=u-1;break;case 1:u=s+1}for(var l=v(o,-r.border,r.dim+r.border),c=v(a,-r.border,r.dim+r.border),f=v(s,-r.border,r.dim+r.border),h=v(u,-r.border,r.dim+r.border),p=-e*r.dim,d=-n*r.dim,m=f;m<h;m++)for(var y=l;y<c;y++)r.set(y,m,i.get(y+p,m+d))},bn("DEMData",Za);var Ga=Qn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Xa=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Xa.prototype.encode=function(t){return this._stringToNumber[t]},Xa.prototype.decode=function(t){return this._numberToString[t]};var Ka=function(t,e,n,r){this.type="Feature",(this._vectorTileFeature=t)._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},Ja={geometry:{configurable:!0}};Ja.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ja.geometry.set=function(t){this._geometry=t},Ka.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Ka.prototype,Ja);var Qa=function(){this.state={},this.stateChanges={}};Qa.prototype.updateState=function(t,e,n){e=String(e),this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][e]=this.stateChanges[t][e]||{},y(this.stateChanges[t][e],n)},Qa.prototype.getState=function(t,e){e=String(e);var n=this.state[t]||{},r=this.stateChanges[t]||{};return y({},n[e],r[e])},Qa.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Qa.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),y(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}if(this.stateChanges={},0!==Object.keys(n).length)for(var a in t)t[a].setFeatureState(n,e)};var ts=function(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new mn(jr,16,0),this.featureIndexArray=n||new Cr};function es(t,e){return e-t}ts.prototype.insert=function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<e.length;a++){for(var s=e[a],u=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var c=s[l];u[0]=Math.min(u[0],c.x),u[1]=Math.min(u[1],c.y),u[2]=Math.max(u[2],c.x),u[3]=Math.max(u[3],c.y)}u[0]<jr&&u[1]<jr&&0<=u[2]&&0<=u[3]&&this.grid.insert(o,u[0],u[1],u[2],u[3])}},ts.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new To.VectorTile(new ga(this.rawTileData)).layers,this.sourceLayerCoder=new Xa(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ts.prototype.query=function(i,o,a){var s=this;this.loadVTLayers();for(var u=i.params||{},l=jr/i.tileSize/i.scale,c=Ve(u.filter),f=i.queryGeometry,t=i.queryPadding*l,e=1/0,n=1/0,r=-1/0,h=-1/0,p=0;p<f.length;p++)for(var d=f[p],m=0;m<d.length;m++){var y=d[m];e=Math.min(e,y.x),n=Math.min(n,y.y),r=Math.max(r,y.x),h=Math.max(h,y.y)}var v=this.grid.query(e-t,n-t,r+t,h+t);v.sort(es);for(var g,_={},b=function(t){var e=v[t];if(e!==g){g=e;var n=s.featureIndexArray.get(e),r=null;s.loadMatchingFeature(_,n.bucketIndex,n.sourceLayerIndex,n.featureIndex,c,u.layers,o,function(t,e){r||(r=Br(t));var n={};return t.id&&(n=a.getState(e.sourceLayer||"_geojsonTileLayer",String(t.id))),e.queryIntersectsFeature(f,t,n,r,s.z,i.transform,l,i.posMatrix)})}},x=0;x<v.length;x++)b(x);return _},ts.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var u=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1}(o,u)){var l=this.sourceLayerCoder.decode(n),c=this.vtLayers[l].feature(r);if(i(new Nn(this.tileID.overscaledZ),c))for(var f=0;f<u.length;f++){var h=u[f];if(!(o&&o.indexOf(h)<0)){var p=a[h];if(p&&(!s||s(c,p))){var d=new Ka(c,this.z,this.x,this.y);d.layer=p.serialize();var m=t[h];void 0===m&&(m=t[h]=[]),m.push({featureIndex:r,feature:d})}}}}},ts.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=Ve(r),u=0,l=t;u<l.length;u+=1){var c=l[u];this.loadMatchingFeature(a,e,n,c,s,i,o)}return a},ts.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},bn("FeatureIndex",ts,{omit:["rawTileData","sourceLayerCoder"]});var ns=function(t,e){this.tileID=t,this.uid=_(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.expiredRequestCount=0,this.state="loading"};ns.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<a.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},ns.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ns.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){if(t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a,o.stateDependentLayers=a.filter(function(t){return t.isStateDependent()});for(var s=0,u=a;s<u.length;s+=1)n[u[s].id]=o}}return n}(t.buckets,e.style),n)for(var r in this.buckets){var i=this.buckets[r];i instanceof Qo&&(i.justReloaded=!0)}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(a.layerIds[0]).queryRadius(a))}t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new br},ns.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ns.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},ns.prototype.getBucket=function(t){return this.buckets[t.id]},ns.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new ma(t,this.iconAtlasImage,r.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ma(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},ns.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,scale:r,tileSize:this.tileSize,posMatrix:s,transform:o,params:i,queryPadding:this.queryPadding*a},t,e):{}},ns.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=e?e.sourceLayer:"",i=n._geojsonTileLayer||n[r];if(i)for(var o=Ve(e&&e.filter),a={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},s=0;s<i.length;s++){var u=i.feature(s);if(o(new Nn(this.tileID.overscaledZ),u)){var l=new Ka(u,a.z,a.x,a.y);l.tile=a,t.push(l)}}}},ns.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},ns.prototype.setMask=function(t,e){if(!h(this.mask,t)&&(this.mask=t,this.clearMask(),!h(t,{0:!0}))){var n=new nr,r=new mr;this.segments=new Ar,this.segments.prepareSegment(0,n,r);for(var i=Object.keys(t),o=0;o<i.length;o++){var a=t[i[o]],s=jr>>a.z,u=new m(a.x*s,a.y*s),l=new m(u.x+s,u.y+s),c=this.segments.prepareSegment(4,n,r);n.emplaceBack(u.x,u.y,u.x,u.y),n.emplaceBack(l.x,u.y,l.x,u.y),n.emplaceBack(u.x,l.y,u.x,l.y),n.emplaceBack(l.x,l.y,l.x,l.y);var f=c.vertexLength;r.emplaceBack(f,f+1,f+2),r.emplaceBack(f+1,f+2,f+3),c.vertexLength+=4,c.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,Ga.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},ns.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ns.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=function(t){var o={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,e,n,r){var i=n||r;return o[e]=!i||i.toLowerCase(),""}),o["max-age"]){var e=parseInt(o["max-age"],10);isNaN(e)?delete o["max-age"]:o["max-age"]=e}return o}(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ns.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ns.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(i.layerIds[0]).queryRadius(i))))}}};var rs={horizontal:1,vertical:2,horizontalOnly:3},is={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},os={};function as(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function ss(t,e,n,r,i,o){for(var a=null,s=as(e,n,i,o),u=0,l=r;u<l.length;u+=1){var c=l[u],f=as(e-c.x,n,i,o)+c.badness;f<=s&&(a=c,s=f)}return{index:t,x:e,priorBreak:a,badness:s}}function us(t,e,n,r){if(!n)return[];if(!t)return[];for(var i,o=[],a=function(t,e,n,r){for(var i=0,o=0;o<t.length;o++){var a=r[t.charCodeAt(o)];a&&(i+=a.metrics.advance+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,u=0;u<t.length;u++){var l=t.charCodeAt(u),c=r[l];c&&!is[l]&&(s+=c.metrics.advance+e),u<t.length-1&&(os[l]||!((i=l)<11904)&&(kn["Bopomofo Extended"](i)||kn.Bopomofo(i)||kn["CJK Compatibility Forms"](i)||kn["CJK Compatibility Ideographs"](i)||kn["CJK Compatibility"](i)||kn["CJK Radicals Supplement"](i)||kn["CJK Strokes"](i)||kn["CJK Symbols and Punctuation"](i)||kn["CJK Unified Ideographs Extension A"](i)||kn["CJK Unified Ideographs"](i)||kn["Enclosed CJK Letters and Months"](i)||kn["Halfwidth and Fullwidth Forms"](i)||kn.Hiragana(i)||kn["Ideographic Description Characters"](i)||kn["Kangxi Radicals"](i)||kn["Katakana Phonetic Extensions"](i)||kn.Katakana(i)||kn["Vertical Forms"](i)||kn["Yi Radicals"](i)||kn["Yi Syllables"](i)))&&o.push(ss(u+1,s,a,o,(f=l,h=t.charCodeAt(u+1),p=void 0,p=0,10===f&&(p-=1e4),40!==f&&65288!==f||(p+=50),41!==h&&65289!==h||(p+=50),p),!1))}var f,h,p;return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(ss(t.length,s,a,o,0,!0))}function ls(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function cs(t,e,n,r,i){if(i){var o=e[t[r].glyph];if(o)for(var a=o.metrics.advance,s=(t[r].x+a)*i,u=n;u<=r;u++)t[u].x-=s}}os[10]=!0,os[32]=!0,os[38]=!0,os[40]=!0,os[41]=!0,os[43]=!0,os[45]=!0,os[47]=!0,os[173]=!0,os[183]=!0,os[8203]=!0,os[8208]=!0,os[8211]=!0,os[8231]=!0,t.unwrapExports=e,t.createCommonjsModule=n,t.default=m,t.default$1=self,t.default$2=a,t.getJSON=function(e,n){var r=O(e);return r.setRequestHeader("Accept","application/json"),r.onerror=function(){n(new Error(r.statusText))},r.onload=function(){if(200<=r.status&&r.status<300&&r.response){var t;try{t=JSON.parse(r.response)}catch(t){return n(t)}n(null,t)}else 401===r.status&&e.url.match(/mapbox.com/)?n(new A(r.statusText+": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens",r.status,e.url)):n(new A(r.statusText,r.status,e.url))},r.send(),{cancel:function(){return r.abort()}}},t.getImage=function(t,o){return z(t,function(t,e){if(t)o(t);else if(e){var n=new self.Image,r=self.URL||self.webkitURL;n.onload=function(){o(null,n),r.revokeObjectURL(n.src)};var i=new self.Blob([new Uint8Array(e.data)],{type:"image/png"});n.cacheControl=e.cacheControl,n.expires=e.expires,n.src=e.data.byteLength?r.createObjectURL(i):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},t.ResourceType=P,t.RGBAImage=Si,t.default$3=sa,t.ImagePosition=ua,t.default$4=ma,t.getArrayBuffer=z,t.default$5=function(t){return new ga(t).readFields(Da,[])},t.default$6=kn,t.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var i=t.length,o=new Array(t.length),a=null;t.forEach(function(t,n){e(t,function(t,e){t&&(a=t),o[n]=e,0==--i&&r(a,o)})})},t.AlphaImage=Ei,t.default$7=j,t.endsWith=x,t.extend=y,t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.Evented=L,t.validateStyle=cn,t.validateLight=fn,t.emitValidationErrors=dn,t.default$8=ot,t.number=Ct,t.Properties=Zn,t.Transitionable=jn,t.Transitioning=Bn,t.PossiblyEvaluated=qn,t.DataConstantProperty=Yn,t.warnOnce=M,t.uniqueId=_,t.default$9=Ba,t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},t.clamp=v,t.Event=N,t.ErrorEvent=D,t.OverscaledTileID=Wa,t.default$10=jr,t.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++)e=Math.min(e,t[o].column),n=Math.min(n,t[o].row),r=Math.max(r,t[o].column),i=Math.max(i,t[o].row);var a=r-e,s=i-n,u=Math.max(a,s),l=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new c((e+r)/2,(n+i)/2,0).zoomTo(l)},t.CanonicalTileID=qa,t.RasterBoundsArray=nr,t.default$11=Ga,t.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.default$12=F,t.bindAll=b,t.default$13=h,t.default$14=ns,t.default$15=c,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.default$16=Qa,t.default$17=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.create=function(){var t=new ni(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],d=e[12],m=e[13],y=e[14],v=e[15],g=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,S=c*m-f*d,k=c*y-h*d,M=c*v-p*d,T=f*y-h*m,C=f*v-p*m,P=h*v-p*y,A=g*P-_*C+b*T+x*M-w*k+E*S;return A?(A=1/A,t[0]=(s*P-u*C+l*T)*A,t[1]=(i*C-r*P-o*T)*A,t[2]=(m*E-y*w+v*x)*A,t[3]=(h*w-f*E-p*x)*A,t[4]=(u*M-a*P-l*k)*A,t[5]=(n*P-i*M+o*k)*A,t[6]=(y*b-d*E-v*_)*A,t[7]=(c*E-h*b+p*_)*A,t[8]=(a*C-s*M+l*S)*A,t[9]=(r*M-n*C-o*S)*A,t[10]=(d*w-m*b+v*g)*A,t[11]=(f*b-c*w-p*g)*A,t[12]=(s*k-a*T-u*S)*A,t[13]=(n*T-r*k+i*S)*A,t[14]=(m*_-d*x-y*g)*A,t[15]=(c*x-f*_+h*g)*A,t):null},t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],m=e[12],y=e[13],v=e[14],g=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*f+w*m,t[1]=_*i+b*u+x*h+w*y,t[2]=_*o+b*l+x*p+w*v,t[3]=_*a+b*c+x*d+w*g,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*f+w*m,t[5]=_*i+b*u+x*h+w*y,t[6]=_*o+b*l+x*p+w*v,t[7]=_*a+b*c+x*d+w*g,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*f+w*m,t[9]=_*i+b*u+x*h+w*y,t[10]=_*o+b*l+x*p+w*v,t[11]=_*a+b*c+x*d+w*g,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*f+w*m,t[13]=_*i+b*u+x*h+w*y,t[14]=_*o+b*l+x*p+w*v,t[15]=_*a+b*c+x*d+w*g,t},t.translate=function(t,e,n){var r,i,o,a,s,u,l,c,f,h,p,d,m=n[0],y=n[1],v=n[2];return t[15]=e===t?(t[12]=e[0]*m+e[4]*y+e[8]*v+e[12],t[13]=e[1]*m+e[5]*y+e[9]*v+e[13],t[14]=e[2]*m+e[6]*y+e[10]*v+e[14],e[3]*m+e[7]*y+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=r*m+s*y+f*v+e[12],t[13]=i*m+u*y+h*v+e[13],t[14]=o*m+l*y+p*v+e[14],a*m+c*y+d*v+e[15]),t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=u*i+h*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-u*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=u*i+h*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-u*r,t},t.perspective=function(t,e,n,r,i){var o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},t.create$1=ci,t.normalize=fi,t.transformMat4=hi,t.forEach=mi,t.getSizeData=$o,t.evaluateSizeForFeature=function(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?Ct(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize},t.evaluateSizeForZoom=function(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=v(Ie(r,n.specification).interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+a*(o.max-o.min)}}var s=t.propertyValue,u=t.zoomRange;return{uSizeT:v(Ie(s,n.specification).interpolationFactor(e,u.min,u.max),0,1),uSize:0}},t.addDynamicAttributes=Xo,t.default$18=ea,t.WritingMode=rs,t.multiPolygonIntersectsBufferedPoint=qr,t.multiPolygonIntersectsMultiPolygon=Yr,t.multiPolygonIntersectsBufferedMultiLine=Wr,t.polygonIntersectsPolygon=function(t,e){for(var n=0;n<t.length;n++)if(Kr(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(Kr(t,e[r]))return!0;return!!Hr(t,e)},t.distToSegmentSquared=Gr,t.default$19=Gn,t.default$20=function(t){return new aa[t.type](t)},t.clone=S,t.filterObject=E,t.mapObject=w,t.registerForPluginAvailability=function(t){return On?t({pluginURL:On,completionCallback:Pn}):In.once("pluginAvailable",t),t},t.evented=In,t.default$21=Sn,t.createLayout=Qn,t.default$22=Dr,t.create$2=ri,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.create$3=ii,t.length=oi,t.fromValues=ai,t.normalize$1=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.len=ui,t.forEach$1=li,t.PosArray=er,t.UnwrappedTileID=Ya,t.create$4=function(){var t=new ni(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},t.ease=d,t.bezier=p,t.default$23=Nn,t.setRTLTextPlugin=function(t,e){if(An)throw new Error("setRTLTextPlugin cannot be called multiple times.");An=!0,On=a.resolveURL(t),Pn=function(t){t?(An=!1,On=null,e&&e(t)):zn=!0},In.fire(new N("pluginAvailable",{pluginURL:On,completionCallback:Pn}))},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.default$24=Ve,t.default$25=Wo,t.register=bn,t.GLYPH_PBF_BORDER=Fa,t.shapeText=function(t,s,u,e,n,r,l,i,o,a){var c=t.trim();a===rs.vertical&&(c=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&Cn(r)&&!Yo[t[n+1]]||i&&Cn(i)&&!Yo[t[n-1]]||!Yo[t[n]]?e+=t[n]:e+=Yo[t[n]]}return e}(c));var f=[],h={positionedGlyphs:f,text:c,top:i[1],bottom:i[1],left:i[0],right:i[0],writingMode:a},p=Rn.processBidirectionalText;return function(t,e,c,n,r,i,o,a,s){for(var u=0,l=-17,f=0,h=t.positionedGlyphs,p="right"===i?1:"left"===i?0:.5,d=0,m=c;d<m.length;d+=1){var y=m[d];if((y=y.trim()).length){for(var v=h.length,g=0;g<y.length;g++){var _=y.charCodeAt(g),b=e[_];b&&(Tn(_)&&o!==rs.horizontal?(h.push({glyph:_,x:u,y:0,vertical:!0}),u+=s+a):(h.push({glyph:_,x:u,y:l,vertical:!1}),u+=b.metrics.advance+a))}if(h.length!==v){var x=u-a;f=Math.max(x,f),cs(h,e,v,h.length-1,p)}u=0,l+=n}else l+=n}var w=ls(r),E=w.horizontalAlign,S=w.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(p-E)*f,u=(-S*c.length+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(h,0,0,0,0,n);var k=c.length*n;t.top+=-S*k,t.bottom=t.top+k,t.left+=-E*f,t.right=t.left+f}(h,s,p?p(c,us(c,l,u,s)):function(t,e){for(var n=[],r=0,i=0,o=us(c,l,u,s);i<o.length;i+=1){var a=o[i];n.push(t.substring(r,a)),r=a}return r<t.length&&n.push(t.substring(r,t.length)),n}(c),e,n,r,a,l,o),!!f.length&&h},t.shapeIcon=function(t,e,n){var r=ls(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*i,l=u+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:u,right:l}},t.allowsVerticalWritingMode=Mn,t.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),kn.Arabic(r)||kn["Arabic Supplement"](r)||kn["Arabic Extended-A"](r)||kn["Arabic Presentation Forms-A"](r)||kn["Arabic Presentation Forms-B"](r))return!1;var r;return!0},t.default$26=ao,t.default$27=Qo,t.default$28=ts,t.CollisionBoxArray=br,t.default$29=Xa,t.default$30=ca,t.default$31=To,t.default$32=ga,t.default$33=Za,t.__moduleExports=To,t.default$34=m,t.__moduleExports$1=ga,t.plugin=Rn}),t(0,function(at){function u(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",r=0,i=t;r<i.length;r+=1)n+=u(i[r])+",";return n+"]"}for(var o=Object.keys(t).sort(),a="{",s=0;s<o.length;s++)a+=JSON.stringify(o[s])+":"+u(t[o[s]])+",";return a+"}"}function g(t){for(var e="",n=0,r=at.default$17;n<r.length;n+=1)e+="/"+u(t[r[n]]);return e}var n=function(t){t&&this.replace(t)};function st(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;-n/2<s;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a-1],f=t[a],h=t[a+1];if(!h)return!1;var p=c.angleTo(f)-f.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(i<l)return!1;a++,s+=f.dist(h)}return!0}function ut(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function lt(t,e,n){return t?.6*e*n:0}function ct(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function ft(t,e,n,r,i,o){for(var a=lt(n,i,o),s=ct(n,r),u=0,l=ut(t)/2,c=0;c<t.length-1;c++){var f=t[c],h=t[c+1],p=f.dist(h);if(l<u+p){var d=(l-u)/p,m=at.number(f.x,h.x,d),y=at.number(f.y,h.y,d),v=new at.default$25(m,y,h.angleTo(f),c);if(v._round(),a&&!st(t,v,s,a,e))return;return v}u+=p}}n.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},n.prototype.update=function(t,e){for(var n=this,r=0,i=t;r<i.length;r+=1){var o=i[r];n._layerConfigs[o.id]=o;var a=n._layers[o.id]=at.default$20(o);a._featureFilter=at.default$24(a.filter)}for(var s=0,u=e;s<u.length;s+=1){var l=u[s];delete n._layerConfigs[l],delete n._layers[l]}this.familiesBySource={};for(var c=0,f=function(t){for(var e={},n=0;n<t.length;n++){var r=g(t[n]),i=e[r];i||(i=e[r]=[]),i.push(t[n])}var o=[];for(var a in e)o.push(e[a]);return o}(at.values(this._layerConfigs));c<f.length;c+=1){var h=f[c].map(function(t){return n._layers[t.id]}),p=h[0];if("none"!==p.visibility){var d=p.source||"",m=n.familiesBySource[d];m||(m=n.familiesBySource[d]={});var y=p.sourceLayer||"_geojsonTileLayer",v=m[y];v||(v=m[y]=[]),v.push(h)}}};var ht=function(){this.opacity=0,this.targetOpacity=0,this.time=0};ht.prototype.clone=function(){var t=new ht;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},at.register("OpacityState",ht);var pt=function(t,e,n,r,i,o,a,s,u,l,c,f){var h=a.top*s-u,p=a.bottom*s+u,d=a.left*s-u,m=a.right*s+u;if(this.boxStartIndex=t.length,l){var y=p-h,v=m-d;0<y&&(y=Math.max(10*s,y),this._addLineCollisionCircles(t,e,n,n.segment,v,y,r,i,o,c))}else{if(f){var g=new at.default(d,h),_=new at.default(m,h),b=new at.default(d,p),x=new at.default(m,p),w=f*Math.PI/180;g._rotate(w),_._rotate(w),b._rotate(w),x._rotate(w),d=Math.min(g.x,_.x,b.x,x.x),m=Math.max(g.x,_.x,b.x,x.x),h=Math.min(g.y,_.y,b.y,x.y),p=Math.max(g.y,_.y,b.y,x.y)}t.emplaceBack(n.x,n.y,d,h,m,p,r,i,o,0,0)}this.boxEndIndex=t.length};pt.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,u,l){var c=o/2,f=Math.floor(i/c),h=1+.4*Math.log(l)/Math.LN2,p=Math.floor(f*h/2),d=-o/2,m=n,y=r+1,v=d,g=-i/2,_=g-i/4;do{if(--y<0){if(g<v)return;y=0;break}v-=e[y].dist(m),m=e[y]}while(_<v);for(var b=e[y].dist(e[y+1]),x=-p;x<f+p;x++){var w=x*c,E=g+w;if(w<0&&(E+=w),i<w&&(E+=w-i),!(E<v)){for(;v+b<E;){if(v+=b,++y+1>=e.length)return;b=e[y].dist(e[y+1])}var S=E-v,k=e[y],M=e[y+1].sub(k)._unit()._mult(S)._add(k)._round(),T=Math.abs(E-d)<c?0:.8*(E-d);t.emplaceBack(M.x,M.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,T)}}};var b=r,t=r;function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,0<this.length)for(var n=(this.length>>1)-1;0<=n;n--)this._down(n)}function i(t,e){return t<e?-1:e<t?1:0}function dt(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,i=1/0,o=-1/0,a=-1/0,s=t[0],u=0;u<s.length;u++){var l=s[u];(!u||l.x<r)&&(r=l.x),(!u||l.y<i)&&(i=l.y),(!u||l.x>o)&&(o=l.x),(!u||l.y>a)&&(a=l.y)}var c=o-r,f=a-i,h=Math.min(c,f),p=h/2,d=new b(null,x);if(0===h)return new at.default(r,i);for(var m=r;m<o;m+=h)for(var y=i;y<a;y+=h)d.push(new w(m+p,y+p,p,t));for(var v=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var u=i[o],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,e+=3*c}return new w(n/e,r/e,0,t)}(t),g=d.length;d.length;){var _=d.pop();(_.d>v.d||!v.d)&&(v=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,g)),_.max-v.d<=e||(p=_.h/2,d.push(new w(_.p.x-p,_.p.y-p,p,t)),d.push(new w(_.p.x+p,_.p.y-p,p,t)),d.push(new w(_.p.x-p,_.p.y+p,p,t)),d.push(new w(_.p.x+p,_.p.y+p,p,t)),g+=4)}return n&&(console.log("num probes: "+g),console.log("best distance: "+v.d)),v.p}function x(t,e){return e.max-t.max}function w(t,e,n,r){this.p=new at.default(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,at.distToSegmentSquared(t,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}function M(t,e,n,r,i,o){t.createArrays(),t.symbolInstances=[];var a=512*t.overscaling;t.tilePixelRatio=at.default$10/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.functionType){var c=t.textSizeData.zoomRange,f=c.min,h=c.max;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new at.default$23(f)),u["text-size"].possiblyEvaluate(new at.default$23(h))]}if("composite"===t.iconSizeData.functionType){var p=t.iconSizeData.zoomRange,d=p.min,m=p.max;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new at.default$23(d)),u["icon-size"].possiblyEvaluate(new at.default$23(m))]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new at.default$23(t.zoom+1)),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new at.default$23(t.zoom+1)),l.textMaxSize=u["text-size"].possiblyEvaluate(new at.default$23(18));for(var y=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),_=0,b=t.features;_<b.length;_+=1){var x=b[_],w=s.get("text-font").evaluate(x,{}).join(","),E=e[w]||{},S=n[w]||{},k={},M=x.text;if(M){var T=s.get("text-offset").evaluate(x,{}).map(function(t){return 24*t}),C=24*s.get("text-letter-spacing").evaluate(x,{}),P=at.allowsLetterSpacing(M)?C:0,A=s.get("text-anchor").evaluate(x,{}),O=s.get("text-justify").evaluate(x,{}),z="point"===s.get("symbol-placement")?24*s.get("text-max-width").evaluate(x,{}):0;k.horizontal=at.shapeText(M,E,z,y,A,O,P,T,24,at.WritingMode.horizontal),at.allowsVerticalWritingMode(M)&&v&&g&&(k.vertical=at.shapeText(M,E,z,y,A,O,P,T,24,at.WritingMode.vertical))}var I=void 0;if(x.icon){var R=r[x.icon];R&&(I=at.shapeIcon(i[x.icon],s.get("icon-offset").evaluate(x,{}),s.get("icon-anchor").evaluate(x,{})),void 0===t.sdfIcons?t.sdfIcons=R.sdf:t.sdfIcons!==R.sdf&&at.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),R.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(k.horizontal||I)&&N(t,x,k,I,S,l)}o&&t.generateCollisionDebugBuffers()}function N(n,r,i,o,a,s){var t=s.layoutTextSize.evaluate(r,{}),e=s.layoutIconSize.evaluate(r,{}),u=s.textMaxSize.evaluate(r,{});void 0===u&&(u=t);var l,c,f,h,p,d,m,y,v,g,_,b,x=n.layers[0].layout,w=x.get("text-offset").evaluate(r,{}),E=x.get("icon-offset").evaluate(r,{}),S=t/24,k=n.tilePixelRatio*S,M=n.tilePixelRatio*u/24,T=n.tilePixelRatio*e,C=n.tilePixelRatio*x.get("symbol-spacing"),P=x.get("text-padding")*n.tilePixelRatio,A=x.get("icon-padding")*n.tilePixelRatio,O=x.get("text-max-angle")/180*Math.PI,z="map"===x.get("text-rotation-alignment")&&"point"!==x.get("symbol-placement"),I="map"===x.get("icon-rotation-alignment")&&"point"!==x.get("symbol-placement"),R=x.get("symbol-placement"),N=C/2,D=function(t,e){e.x<0||e.x>=at.default$10||e.y<0||e.y>=at.default$10||n.symbolInstances.push(function(t,e,n,r,i,o,a,s,u,l,c,f,h,p,d,m,y,v,g,_,b){var x,w,E=t.addToLineVertexArray(e,n),S=0,k=0,M=0,T=r.horizontal?r.horizontal.text:"",C=[];if(r.horizontal){var P=o.layout.get("text-rotate").evaluate(g,{});x=new pt(a,n,e,s,u,l,r.horizontal,c,f,h,t.overscaling,P),k+=mt(t,e,r.horizontal,o,h,g,p,E,r.vertical?at.WritingMode.horizontal:at.WritingMode.horizontalOnly,C,_,b),r.vertical&&(M+=mt(t,e,r.vertical,o,h,g,p,E,at.WritingMode.vertical,C,_,b))}var A=x?x.boxStartIndex:t.collisionBoxArray.length,O=x?x.boxEndIndex:t.collisionBoxArray.length;if(i){var z=function(t,e,n,r,i,o){var a,s,u,l,c=e.image,f=n.layout,h=e.top-1/c.pixelRatio,p=e.left-1/c.pixelRatio,d=e.bottom+1/c.pixelRatio,m=e.right+1/c.pixelRatio;if("none"!==f.get("icon-text-fit")&&i){var y=m-p,v=d-h,g=f.get("text-size").evaluate(o,{})/24,_=i.left*g,b=i.right*g,x=i.top*g,w=b-_,E=i.bottom*g-x,S=f.get("icon-text-fit-padding")[0],k=f.get("icon-text-fit-padding")[1],M=f.get("icon-text-fit-padding")[2],T=f.get("icon-text-fit-padding")[3],C="width"===f.get("icon-text-fit")?.5*(E-v):0,P="height"===f.get("icon-text-fit")?.5*(w-y):0,A="width"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?w:y,O="height"===f.get("icon-text-fit")||"both"===f.get("icon-text-fit")?E:v;a=new at.default(_+P-T,x+C-S),s=new at.default(_+P+k+A,x+C-S),u=new at.default(_+P+k+A,x+C+M+O),l=new at.default(_+P-T,x+C+M+O)}else a=new at.default(p,h),s=new at.default(m,h),u=new at.default(m,d),l=new at.default(p,d);var z=n.layout.get("icon-rotate").evaluate(o,{})*Math.PI/180;if(z){var I=Math.sin(z),R=Math.cos(z),N=[R,-I,I,R];a._matMult(N),s._matMult(N),l._matMult(N),u._matMult(N)}return[{tl:a,tr:s,bl:l,br:u,tex:c.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,o,0,r.horizontal,g),I=o.layout.get("icon-rotate").evaluate(g,{});w=new pt(a,n,e,s,u,l,i,d,m,!1,t.overscaling,I),S=4*z.length;var R=t.iconSizeData,N=null;"source"===R.functionType?N=[10*o.layout.get("icon-size").evaluate(g,{})]:"composite"===R.functionType&&(N=[10*b.compositeIconSizes[0].evaluate(g,{}),10*b.compositeIconSizes[1].evaluate(g,{})]),t.addSymbols(t.icon,z,N,v,y,g,!1,e,E.lineStartIndex,E.lineLength)}var D=w?w.boxStartIndex:t.collisionBoxArray.length,L=w?w.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=at.default$27.MAX_GLYPHS&&at.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:T,textBoxStartIndex:A,textBoxEndIndex:O,iconBoxStartIndex:D,iconBoxEndIndex:L,textOffset:p,iconOffset:v,anchor:e,line:n,featureIndex:s,feature:g,numGlyphVertices:k,numVerticalGlyphVertices:M,numIconVertices:S,textOpacityState:new ht,iconOpacityState:new ht,isDuplicate:!1,placedTextSymbolIndices:C,crossTileID:0}}(n,e,t,i,o,n.layers[0],n.collisionBoxArray,r.index,r.sourceLayerIndex,n.index,k,P,z,w,T,A,I,E,r,a,s))};if("line"===R)for(var L=0,j=function(t,e,n,r,i){for(var o=[],a=0;a<t.length;a++)for(var s=t[a],u=void 0,l=0;l<s.length-1;l++){var c=s[l],f=s[l+1];c.x<0&&f.x<0||(c.x<0?c=new at.default(0,c.y+(f.y-c.y)*((0-c.x)/(f.x-c.x)))._round():f.x<0&&(f=new at.default(0,c.y+(f.y-c.y)*((0-c.x)/(f.x-c.x)))._round()),c.y<0&&f.y<0||(c.y<0?c=new at.default(c.x+(f.x-c.x)*((0-c.y)/(f.y-c.y)),0)._round():f.y<0&&(f=new at.default(c.x+(f.x-c.x)*((0-c.y)/(f.y-c.y)),0)._round()),c.x>=r&&f.x>=r||(c.x>=r?c=new at.default(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round():f.x>=r&&(f=new at.default(r,c.y+(f.y-c.y)*((r-c.x)/(f.x-c.x)))._round()),c.y>=i&&f.y>=i||(c.y>=i?c=new at.default(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round():f.y>=i&&(f=new at.default(c.x+(f.x-c.x)*((i-c.y)/(f.y-c.y)),i)._round()),u&&c.equals(u[u.length-1])||(u=[c],o.push(u)),u.push(f)))))}return o}(r.geometry,0,0,at.default$10,at.default$10);L<j.length;L+=1)for(var F=j[L],B=0,U=(l=F,c=C,f=O,h=i.vertical||i.horizontal,p=o,d=24,m=M,y=n.overscaling,v=at.default$10,g=lt(h,d,m),_=ct(h,p),b=0===l[0].x||l[0].x===v||0===l[0].y||l[0].y===v,c-_*m<c/4&&(c=_*m+c/4),function t(e,n,r,i,o,a,s,u,l){for(var c=a/2,f=ut(e),h=0,p=n-r,d=[],m=0;m<e.length-1;m++){for(var y=e[m],v=e[m+1],g=y.dist(v),_=v.angleTo(y);p+r<h+g;){var b=((p+=r)-h)/g,x=at.number(y.x,v.x,b),w=at.number(y.y,v.y,b);if(0<=x&&x<l&&0<=w&&w<l&&0<=p-c&&p+c<=f){var E=new at.default$25(x,w,_,m);E._round(),i&&!st(e,E,a,i,o)||d.push(E)}}h+=g}return u||d.length||s||(d=t(e,h/2,r,i,o,a,s,!0,l)),d}(l,b?c/2*y%c:(_/2+2*d)*m*y%c,c,g,f,_*m,b,!1,v));B<U.length;B+=1){var V=U[B],q=i.horizontal;q&&yt(n,q.text,N,V)||D(F,V)}else if("line-center"===R)for(var Y=0,W=r.geometry;Y<W.length;Y+=1){var $=W[Y];if(1<$.length){var H=ft($,O,i.vertical||i.horizontal,o,24,M);H&&D($,H)}}else if("Polygon"===r.type)for(var Z=0,G=at.default$26(r.geometry,0);Z<G.length;Z+=1){var X=G[Z],K=dt(X,16);D(X[0],new at.default$25(K.x,K.y,0))}else if("LineString"===r.type)for(var J=0,Q=r.geometry;J<Q.length;J+=1){var tt=Q[J];D(tt,new at.default$25(tt[0].x,tt[0].y,0))}else if("Point"===r.type)for(var et=0,nt=r.geometry;et<nt.length;et+=1)for(var rt=0,it=nt[et];rt<it.length;rt+=1){var ot=it[rt];D([ot],new at.default$25(ot.x,ot.y,0))}}function mt(t,e,n,r,i,o,a,s,u,l,c,f){var h=function(t,e,n,r,i,o){for(var a=n.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,s=n.layout.get("text-offset").evaluate(i,{}).map(function(t){return 24*t}),u=e.positionedGlyphs,l=[],c=0;c<u.length;c++){var f=u[c],h=o[f.glyph];if(h){var p=h.rect;if(p){var d=at.GLYPH_PBF_BORDER+1,m=h.metrics.advance/2,y=r?[f.x+m,f.y]:[0,0],v=r?[0,0]:[f.x+m+s[0],f.y+s[1]],g=h.metrics.left-d-m+v[0],_=-h.metrics.top-d+v[1],b=g+p.w,x=_+p.h,w=new at.default(g,_),E=new at.default(b,_),S=new at.default(g,x),k=new at.default(b,x);if(r&&f.vertical){var M=new at.default(-m,m),T=-Math.PI/2,C=new at.default(5,0);w._rotateAround(T,M)._add(C),E._rotateAround(T,M)._add(C),S._rotateAround(T,M)._add(C),k._rotateAround(T,M)._add(C)}if(a){var P=Math.sin(a),A=Math.cos(a),O=[A,-P,P,A];w._matMult(O),E._matMult(O),S._matMult(O),k._matMult(O)}l.push({tl:w,tr:E,bl:S,br:k,tex:p,writingMode:e.writingMode,glyphOffset:y})}}}return l}(0,n,r,i,o,c),p=t.textSizeData,d=null;return"source"===p.functionType?d=[10*r.layout.get("text-size").evaluate(o,{})]:"composite"===p.functionType&&(d=[10*f.compositeTextSizes[0].evaluate(o,{}),10*f.compositeTextSizes[1].evaluate(o,{})]),t.addSymbols(t.text,h,d,a,i,o,u,e,s.lineStartIndex,s.lineLength),l.push(t.text.placedSymbolArray.length-1),4*h.length}function yt(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;0<=a;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];0<t;){var i=t-1>>1,o=e[i];if(0<=n(r,o))break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(s=e[o=a]),0<=n(s,i))break;e[t]=s,t=o}e[t]=i}},b.default=t;var T=function(t){var e=new at.AlphaImage({width:0,height:0}),n={},r=new at.default$3(0,0,{autoResize:!0});for(var i in t){var o=t[i],a=n[i]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l=r.packOne(u.bitmap.width+2,u.bitmap.height+2);e.resize({width:r.w,height:r.h}),at.AlphaImage.copy(u.bitmap,e,{x:0,y:0},{x:l.x+1,y:l.y+1},u.bitmap),a[s]={rect:l,metrics:u.metrics}}}}r.shrink(),e.resize({width:r.w,height:r.h}),this.image=e,this.positions=n};at.register("GlyphAtlas",T);var e=function(t){this.tileID=new at.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};function C(t,e){for(var n=new at.default$23(e),r=0,i=t;r<i.length;r+=1)i[r].recalculate(n)}e.prototype.parse=function(t,e,n,i){var r=this;this.status="parsing",this.data=t,this.collisionBoxArray=new at.CollisionBoxArray;var o=new at.default$29(Object.keys(t.layers).sort()),a=new at.default$28(this.tileID);a.bucketLayerIDs=[];var s,u,l,c={},f={featureIndex:a,iconDependencies:{},glyphDependencies:{}},h=e.familiesBySource[this.source];for(var p in h){var d=t.layers[p];if(d){1===d.version&&at.warnOnce('Vector tile source "'+r.source+'" layer "'+p+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var m=o.encode(p),y=[],v=0;v<d.length;v++){var g=d.feature(v);y.push({feature:g,index:v,sourceLayerIndex:m})}for(var _=0,b=h[p];_<b.length;_+=1){var x=b[_],w=x[0];w.minzoom&&r.zoom<Math.floor(w.minzoom)||w.maxzoom&&r.zoom>=w.maxzoom||"none"!==w.visibility&&(C(x,r.zoom),(c[w.id]=w.createBucket({index:a.bucketLayerIDs.length,layers:x,zoom:r.zoom,pixelRatio:r.pixelRatio,overscaling:r.overscaling,collisionBoxArray:r.collisionBoxArray,sourceLayerIndex:m,sourceID:r.source})).populate(y,f),a.bucketLayerIDs.push(x.map(function(t){return t.id})))}}}var E=at.mapObject(f.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(E).length?n.send("getGlyphs",{uid:this.uid,stacks:E},function(t,e){s||(s=t,u=e,k.call(r))}):u={};var S=Object.keys(f.iconDependencies);function k(){if(s)return i(s);if(u&&l){var t=new T(u),e=new at.default$30(l);for(var n in c){var r=c[n];r instanceof at.default$27&&(C(r.layers,this.zoom),M(r,u,t.positions,l,e.positions,this.showCollisionBoxes))}this.status="done",i(null,{buckets:at.values(c).filter(function(t){return!t.isEmpty()}),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,iconAtlasImage:e.image})}}S.length?n.send("getImages",{icons:S},function(t,e){s||(s=t,l=e,k.call(r))}):l={},k.call(this)};var o="undefined"!=typeof performance,f={getEntriesByName:function(t){return!!(o&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(o&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,n){return!!(o&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function(t){return!!(o&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(o&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},a=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},f.mark(this._marks.start)};function s(t,n){var e=at.getArrayBuffer(t.request,function(t,e){t?n(t):e&&n(null,{vectorTile:new at.default$31.VectorTile(new at.default$32(e.data)),rawData:e.data,cacheControl:e.cacheControl,expires:e.expires})});return function(){e.cancel(),n()}}a.prototype.finish=function(){f.mark(this._marks.end);var t=f.getEntriesByName(this._marks.measure);return 0===t.length&&(f.measure(this._marks.measure,this._marks.start,this._marks.end),t=f.getEntriesByName(this._marks.measure),f.clearMarks(this._marks.start),f.clearMarks(this._marks.end),f.clearMeasures(this._marks.measure)),t},f.Performance=a;var l=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(t,a){var s=this,u=t.uid;this.loading||(this.loading={});var l=!!(t&&t.request&&t.request.collectResourceTiming)&&new f.Performance(t.request),c=this.loading[u]=new e(t);c.abort=this.loadVectorData(t,function(t,e){if(delete s.loading[u],t||!e)return a(t);var n=e.rawData,r={};e.expires&&(r.expires=e.expires),e.cacheControl&&(r.cacheControl=e.cacheControl);var i={};if(l){var o=l.finish();o&&(i.resourceTiming=JSON.parse(JSON.stringify(o)))}c.vectorTile=e.vectorTile,c.parse(e.vectorTile,s.layerIndex,s.actor,function(t,e){if(t||!e)return a(t);a(null,at.extend({rawTileData:n.slice(0)},e,r,i))}),s.loaded=s.loaded||{},s.loaded[u]=c})},l.prototype.reloadTile=function(t,r){var e=this.loaded,n=t.uid,i=this;if(e&&e[n]){var o=e[n];o.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,e){var n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,i.actor,n)),r(t,e)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&o.parse(o.vectorTile,this.layerIndex,this.actor,a)}},l.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},l.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var c=function(){this.loading={},this.loaded={}};c.prototype.loadTile=function(t,e){var n=t.uid,r=t.encoding,i=new at.default$33(n);(this.loading[n]=i).loadFromImage(t.rawImageData,r),delete this.loading[n],this.loaded=this.loaded||{},e(null,this.loaded[n]=i)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var h={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function p(t){var e=0;if(t&&0<t.length){e+=Math.abs(d(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(d(t[n]))}return e}function d(t){var e,n,r,i,o,a,s=0,u=t.length;if(2<u){for(a=0;a<u;a++)o=a===u-2?(r=u-2,i=u-1,0):a===u-1?(r=u-1,i=0,1):(i=(r=a)+1,a+2),e=t[r],n=t[i],s+=(m(t[o][0])-m(e[0]))*Math.sin(m(n[1]));s=s*h.RADIUS*h.RADIUS/2}return s}function m(t){return t*Math.PI/180}var y={geometry:function t(e){var n,r=0;switch(e.type){case"Polygon":return p(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=p(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},ring:d};function v(e,n){return function(t){return e(t,n)}}function _(t,e){e=!!e,t[0]=E(t[0],e);for(var n=1;n<t.length;n++)t[n]=E(t[n],!e);return t}function E(t,e){return n=t,0<=y.ring(n)===e?t:t.reverse();var n}var S=at.default$31.VectorTileFeature.prototype.toGeoJSON,k=function(t){this._feature=t,this.extent=at.default$10,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};k.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,n=this._feature.geometry;e<n.length;e+=1){var r=n[e];t.push([new at.default(r[0],r[1])])}return t}for(var i=[],o=0,a=this._feature.geometry;o<a.length;o+=1){for(var s=[],u=0,l=a[o];u<l.length;u+=1){var c=l[u];s.push(new at.default(c[0],c[1]))}i.push(s)}return i},k.prototype.toGeoJSON=function(t,e,n){return S.call(this,t,e,n)};var P=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=at.default$10,this.length=t.length,this._features=t};P.prototype.feature=function(t){return new k(this._features[t])};var A=at.__moduleExports.VectorTileFeature,O=z;function z(t,e){this.options=e||{},this.features=t,this.length=t.length}function I(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}z.prototype.feature=function(t){return new I(this.features[t],this.options.extent)},I.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],r=[],i=0;i<n.length;i++)r.push(new at.default$34(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},I.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},I.prototype.toGeoJSON=A.prototype.toGeoJSON;var R=j,D=j,L=O;function j(t){var e=new at.__moduleExports$1;return function(t,e){for(var n in t.layers)e.writeMessage(3,F,t.layers[n])}(t,e),e.finish()}function F(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,B,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,W,o[n])}function B(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,U,t),e.writeVarintField(3,n.type),e.writeMessage(4,Y,n)}function U(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,h=a[f];void 0===h&&(i.push(l),h=i.length-1,a[f]=h),e.writeVarint(h)}}function V(t,e){return(e<<3)+(7&t)}function q(t){return t<<1^t>>31}function Y(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===r&&(l=u.length),e.writeVarint(V(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&e.writeVarint(V(2,c-1));var h=u[f].x-i,p=u[f].y-o;e.writeVarint(q(h)),e.writeVarint(q(p)),i+=h,o+=p}3===r&&e.writeVarint(V(7,0))}}function W(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function $(t,e,n,r){H(t,n,r),H(e,2*n,2*r),H(e,2*n+1,2*r+1)}function H(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Z(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function G(t,e,n,r,i){return new X(t,e,n,r,i)}function X(t,e,n,r,i){e=e||K,n=n||J,i=i||Array,this.nodeSize=r||64,this.points=t,this.ids=new i(t.length),this.coords=new i(2*t.length);for(var o=0;o<t.length;o++)this.ids[o]=o,this.coords[2*o]=e(t[o]),this.coords[2*o+1]=n(t[o]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=Math.floor((i+o)/2);!function t(e,n,r,i,o,a){for(;i<o;){if(600<o-i){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var h=n[2*r+a],p=i,d=o;for($(e,n,i,r),n[2*o+a]>h&&$(e,n,i,o);p<d;){for($(e,n,p,d),p++,d--;n[2*p+a]<h;)p++;for(;n[2*d+a]>h;)d--}n[2*i+a]===h?$(e,n,i,d):$(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function K(t){return t[0]}function J(t){return t[1]}function Q(t){this.options=it(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function tt(t){return{type:"Feature",properties:et(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function et(t){var e=t.numPoints,n=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return it(it({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function nt(t){return t/360+.5}function rt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function it(t,e){for(var n in e)t[n]=e[n];return t}function ot(t){return t.x}function vt(t){return t.y}function gt(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);1<u?(n=i,r=o):0<u&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function _t(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)bt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)bt(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)bt(t,e[r][i])}(i),i}function bt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function xt(t,e,n){if(e.geometry){var r=e.geometry.coordinates,i=e.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),a=[];if("Point"===i)wt(r,a);else if("MultiPoint"===i)for(var s=0;s<r.length;s++)wt(r[s],a);else if("LineString"===i)Et(r,a,o,!1);else if("MultiLineString"===i){if(n.lineMetrics){for(s=0;s<r.length;s++)a=[],Et(r[s],a,o,!1),t.push(_t(e.id,"LineString",a,e.properties));return}St(r,a,o,!1)}else if("Polygon"===i)St(r,a,o,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"!==i)throw new Error("Input data is not a valid GeoJSON object.");for(s=0;s<e.geometry.geometries.length;s++)xt(t,{id:e.id,geometry:e.geometry.geometries[s],properties:e.properties},n);return}for(s=0;s<r.length;s++){var u=[];St(r[s],u,o,!0),a.push(u)}}t.push(_t(e.id,i,a,e.properties))}}function wt(t,e){e.push(kt(t[0])),e.push(Mt(t[1])),e.push(0)}function Et(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var u=kt(t[s][0]),l=Mt(t[s][1]);e.push(u),e.push(l),e.push(0),0<s&&(a+=r?(i*l-u*o)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-o,2))),i=u,o=l}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,u=r-n,l=e[n],c=e[n+1],f=e[r],h=e[r+1],p=n+3;p<r;p+=3){var d=gt(e[p],e[p+1],l,c,f,h);if(a<d)o=p,a=d;else if(d===a){var m=Math.abs(p-s);m<u&&(o=p,u=m)}}i<a&&(3<o-n&&t(e,n,o,i),e[o+2]=a,3<r-o&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function St(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];Et(t[i],o,n,r),e.push(o)}}function kt(t){return t/360+.5}function Mt(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:1<n?1:n}function Tt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||r<=o)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],f=c.geometry,h=c.type,p=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(n<=p&&d<r)u.push(c);else if(!(d<n||r<=p)){var m=[];if("Point"===h||"MultiPoint"===h)Ct(f,m,n,r,i);else if("LineString"===h)Pt(f,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)Ot(f,m,n,r,i,!1);else if("Polygon"===h)Ot(f,m,n,r,i,!0);else if("MultiPolygon"===h)for(var y=0;y<f.length;y++){var v=[];Ot(f[y],v,n,r,i,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(y=0;y<m.length;y++)u.push(_t(c.id,h,m[y],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),u.push(_t(c.id,h,m,c.tags))}}}return u.length?u:null}function Ct(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];n<=a&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function Pt(t,e,n,r,i,o,a){for(var s,u,l=At(t),c=0===i?It:Rt,f=t.start,h=0;h<t.length-3;h+=3){var p=t[h],d=t[h+1],m=t[h+2],y=t[h+3],v=t[h+4],g=0===i?p:d,_=0===i?y:v,b=!1;a&&(s=Math.sqrt(Math.pow(p-y,2)+Math.pow(d-v,2))),g<n?n<=_&&(u=c(l,p,d,y,v,n),a&&(l.start=f+s*u)):r<=g?_<r&&(u=c(l,p,d,y,v,r),a&&(l.start=f+s*u)):zt(l,p,d,m),_<n&&n<=g&&(u=c(l,p,d,y,v,n),b=!0),r<_&&g<=r&&(u=c(l,p,d,y,v,r),b=!0),!o&&b&&(a&&(l.end=f+s*u),e.push(l),l=At(t)),a&&(f+=s)}var x=t.length-3;p=t[x],d=t[x+1],m=t[x+2],(g=0===i?p:d)>=n&&g<=r&&zt(l,p,d,m),x=l.length-3,o&&3<=x&&(l[x]!==l[0]||l[x+1]!==l[1])&&zt(l,l[0],l[1],l[2]),l.length&&e.push(l)}function At(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function Ot(t,e,n,r,i,o){for(var a=0;a<t.length;a++)Pt(t[a],e,n,r,i,o,!1)}function zt(t,e,n,r){t.push(e),t.push(n),t.push(r)}function It(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function Rt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function Nt(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=Dt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(Dt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(Dt(o.geometry[s][l],e));i.push(u)}n.push(_t(o.id,a,i,o.tags))}return n}function Dt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function Lt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(jt(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(jt(l[r][i],l[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function jt(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Ft(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Bt(a,t[s],o,i);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function Bt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)Ut(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Ut(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)Ut(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},e.tags)c[f]=e.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function Ut(t,e,n,r,i,o){var a=r*r;if(0<r&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(0<n===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Vt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||24<e.maxZoom)throw new Error("maxZoom should be in the 0-24 range");var r,i,o,a,s,u,l=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)xt(n,t.features[r],e);else"Feature"===t.type?xt(n,t,e):xt(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=l,i=e,o=i.buffer/i.extent,a=r,s=Tt(r,1,-1-o,o,0,-1,2,i),u=Tt(r,1,1-o,2+o,0,-1,2,i),(s||u)&&(a=Tt(r,1,-o,1+o,0,-1,2,i)||[],s&&(a=Nt(s,1).concat(a)),u&&(a=a.concat(Nt(u,-1)))),l=a).length&&this.splitTile(l,0,0,0),n&&(l.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function qt(t,e,n){return 32*((1<<t)*n+e)+t}function Yt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new P(r.features),o=R(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}R.fromVectorTileJs=D,R.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new O(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return j({layers:n})},R.GeoJSONWrapper=L,Vt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:(Q.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:(X.prototype={range:function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var f=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var d=p;d<=h;d++)s=e[2*d],u=e[2*d+1],n<=s&&s<=i&&r<=u&&u<=o&&c.push(t[d]);else{var m=Math.floor((p+h)/2);s=e[2*m],u=e[2*m+1],n<=s&&s<=i&&r<=u&&u<=o&&c.push(t[m]);var y=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(p),l.push(m-1),l.push(y)),(0===f?s<=i:u<=o)&&(l.push(m+1),l.push(h),l.push(y))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),c=a.pop(),f=a.pop();if(c-f<=o)for(var h=f;h<=c;h++)Z(e[2*h],e[2*h+1],n,r)<=u&&s.push(t[h]);else{var p=Math.floor((f+c)/2),d=e[2*p],m=e[2*p+1];Z(d,m,n,r)<=u&&s.push(t[p]);var y=(l+1)%2;(0===l?n-i<=d:r-i<=m)&&(a.push(f),a.push(p-1),a.push(y)),(0===l?d<=n+i:m<=r+i)&&(a.push(p+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)}},!1),reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;for(var r,i,o=[],a=0;a<t.length;a++)t[a].geometry&&o.push({x:nt((i=t[r=a].geometry.coordinates)[0]),y:rt(i[1]),zoom:1/0,id:r,parentId:-1});this.trees[this.options.maxZoom+1]=G(o,ot,vt,this.options.nodeSize,Float32Array),e&&console.timeEnd(n);for(var s=this.options.maxZoom;s>=this.options.minZoom;s--){var u=+Date.now();o=this._cluster(o,s),this.trees[s]=G(o,ot,vt,this.options.nodeSize,Float32Array),e&&console.log("z%d: %d clusters in %dms",s,o.length,+Date.now()-u)}return e&&console.timeEnd("total time"),this},getClusters:function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(360<=t[2]-t[0])n=-180,i=180;else if(i<n){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=u.range(nt(n),rt(o),nt(i),rt(r)),c=[],f=0;f<l.length;f++){var h=u.points[l[f]];c.push(h.numPoints?tt(h):this.points[h.id])}return c},getChildren:function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),u=[],l=0;l<s.length;l++){var c=i.points[s[l]];c.parentId===t&&u.push(c.numPoints?tt(c):this.points[c.id])}if(0===u.length)throw new Error(r);return u},getLeaves:function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius/o,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,u),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},getClusterExpansionZoom:function(t){for(var e=t%32-1;e<this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i){for(var o=this.getChildren(e),a=0;a<o.length;a++){var s=o[a].properties;if(s&&s.cluster?i+s.point_count<=r?i+=s.point_count:i=this._appendLeaves(t,s.cluster_id,n,r,i):i<r?i++:t.push(o[a]),t.length===n)break}return i},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?et(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var o=t[i];if(!(o.zoom<=e)){o.zoom=e;var a=this.trees[e+1],s=a.within(o.x,o.y,r),u=o.numPoints||1,l=o.x*u,c=o.y*u,f=null;this.options.reduce&&(f=this.options.initial(),this._accumulate(f,o));for(var h=(i<<5)+(e+1),p=0;p<s.length;p++){var d=a.points[s[p]];if(!(d.zoom<=e)){d.zoom=e;var m=d.numPoints||1;l+=d.x*m,c+=d.y*m,u+=m,d.parentId=h,this.options.reduce&&this._accumulate(f,d)}}1===u?n.push(o):(o.parentId=h,n.push({x:l/u,y:c/u,zoom:1/0,id:h,parentId:-1,numPoints:u,properties:f}))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}},!1),debug:0},Vt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,f=qt(e,n,r),h=this.tiles[f];if(!h&&(1<l&&console.time("creation"),h=this.tiles[f]=Ft(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),l)){1<l&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,i){if(e===u.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==t.length){1<l&&console.time("clipping");var m,y,v,g,_,b,x=.5*u.buffer/u.extent,w=.5-x,E=.5+x,S=1+x;m=y=v=g=null,_=Tt(t,c,n-x,n+E,0,h.minX,h.maxX,u),b=Tt(t,c,n+w,n+S,0,h.minX,h.maxX,u),t=null,_&&(m=Tt(_,c,r-x,r+E,1,h.minY,h.maxY,u),y=Tt(_,c,r+w,r+S,1,h.minY,h.maxY,u),_=null),b&&(v=Tt(b,c,r-x,r+E,1,h.minY,h.maxY,u),g=Tt(b,c,r+w,r+S,1,h.minY,h.maxY,u),b=null),1<l&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*r),s.push(y||[],e+1,2*n,2*r+1),s.push(v||[],e+1,2*n+1,2*r),s.push(g||[],e+1,2*n+1,2*r+1)}}},Vt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||24<t)return null;var a=1<<t,s=qt(t,e=(e%a+a)%a,n);if(this.tiles[s])return Lt(this.tiles[s],i);1<o&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,f=n;!u&&0<l;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[qt(l,c,f)];return u&&u.source?(1<o&&console.log("found parent tile z%d-%d-%d",l,c,f),1<o&&console.time("drilling down"),this.splitTile(u.source,l,c,f,t,e,n),1<o&&console.timeEnd("drilling down"),this.tiles[s]?Lt(this.tiles[s],i):null):null};var Wt=function(i){function t(t,e,n){i.call(this,t,e,Yt),n&&(this.loadGeoJSON=n)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},t.prototype._loadData=function(){var o=this;if(this._pendingCallback&&this._pendingLoadDataParams){var a=this._pendingCallback,s=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var u=!!(s&&s.request&&s.request.collectResourceTiming)&&new f.Performance(s.request);this.loadGeoJSON(s,function(t,e){if(t||!e)return a(t);if("object"!=typeof e)return a(new Error("Input data is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(v(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return i=n,"Polygon"===(r=e).type?r.coordinates=_(r.coordinates,i):"MultiPolygon"===r.type&&(r.coordinates=r.coordinates.map(v(_,i))),r;default:return e}var r,i}(e,!0);try{o._geoJSONIndex=s.cluster?(n=s.superclusterOptions,new Q(n)).load(e.features):new Vt(e,s.geojsonVtOptions)}catch(t){return a(t)}o.loaded={};var n,r={};if(u){var i=u.finish();i&&(r.resourceTiming={},r.resourceTiming[s.source]=JSON.parse(JSON.stringify(i)))}a(null,r)})}},t.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},t.prototype.reloadTile=function(t,e){var n=this.loaded,r=t.uid;return n&&n[r]?i.prototype.reloadTile.call(this,t,e):this.loadTile(t,e)},t.prototype.loadGeoJSON=function(t,e){if(t.request)at.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},t.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},t.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},t.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},t}(l),$t=function(t){var n=this;this.self=t,this.actor=new at.default$9(t,this),this.layerIndexes={},this.workerSourceTypes={vector:l,geojson:Wt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(t){if(at.plugin.isLoaded())throw new Error("RTL text plugin already registered.");at.plugin.applyArabicShaping=t.applyArabicShaping,at.plugin.processBidirectionalText=t.processBidirectionalText}};return $t.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},$t.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},$t.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},$t.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},$t.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},$t.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},$t.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},$t.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},$t.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},$t.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},$t.prototype.loadRTLTextPlugin=function(t,e,n){try{at.plugin.isLoaded()||(this.self.importScripts(e),n(at.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t.toString())}},$t.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new n),e},$t.prototype.getWorkerSource=function(r,t,e){var i=this;if(this.workerSources[r]||(this.workerSources[r]={}),this.workerSources[r][t]||(this.workerSources[r][t]={}),!this.workerSources[r][t][e]){var n={send:function(t,e,n){i.actor.send(t,e,n,r)}};this.workerSources[r][t][e]=new this.workerSourceTypes[t](n,this.getLayerIndex(r))}return this.workerSources[r][t][e]},$t.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&new $t(self),$t}),t(0,function(q){var n=q.createCommonjsModule(function(t){function o(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&(e=t&&t.failIfMajorPerformanceCaveat,void 0===a[e]&&(a[e]=(n=e,r=document.createElement("canvas"),(i=Object.create(o.webGLContextAttributes)).failIfMajorPerformanceCaveat=n,r.probablySupportsContext?r.probablySupportsContext("webgl",i)||r.probablySupportsContext("experimental-webgl",i):r.supportsContext?r.supportsContext("webgl",i)||r.supportsContext("experimental-webgl",i):r.getContext("webgl",i)||r.getContext("experimental-webgl",i))),a[e]));var e,n,r,i}t.exports?t.exports=o:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=o);var a={};o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),g={create:function(t,e,n){var r=q.default$1.document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r},createNS:function(t,e){return q.default$1.document.createElementNS(t,e)}},r=q.default$1.document?q.default$1.document.documentElement.style:null;function t(t){if(!r)return null;for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var e,i=t(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);g.disableDrag=function(){r&&i&&(e=r[i],r[i]="none")},g.enableDrag=function(){r&&i&&(r[i]=e)};var o=t(["transform","WebkitTransform"]),a=!(g.setTransform=function(t,e){t.style[o]=e});try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});q.default$1.addEventListener("test",s,s),q.default$1.removeEventListener("test",s,s)}catch(q){a=!1}g.addEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&a?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},g.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&a?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var u=function(t){t.preventDefault(),t.stopPropagation(),q.default$1.removeEventListener("click",u,!0)};g.suppressClick=function(){q.default$1.addEventListener("click",u,!0),q.default$1.setTimeout(function(){q.default$1.removeEventListener("click",u,!0)},0)},g.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new q.default(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},g.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),r=[],i="touchend"===e.type?e.changedTouches:e.touches,o=0;o<i.length;o++)r.push(new q.default(i[o].clientX-n.left-t.clientLeft,i[o].clientY-n.top-t.clientTop));return r},g.mouseButton=function(t){return void 0!==q.default$1.InstallTrigger&&2===t.button&&t.ctrlKey&&0<=q.default$1.navigator.platform.toUpperCase().indexOf("MAC")?0:t.button},g.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var l={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null},c="See https://www.mapbox.com/api-documentation/#access-tokens";function f(t,e){var n=v(l.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!l.REQUIRE_ACCESS_TOKEN)return _(t);if(!(e=e||l.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),_(t)}function h(t){return 0===t.indexOf("mapbox:")}var m=function(t,e,n,r){var i=v(t);return h(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,f(i,r)):(i.path+=""+e+n,_(i))},p=/(\.(png|jpg)\d*)(?=$)/,d=function(t,e,n){if(!e||!h(e))return t;var r=v(t),i=2<=q.default$2.devicePixelRatio||512===n?"@2x":"",o=q.default$2.supportsWebp?".webp":"$1";return r.path=r.path.replace(p,""+i+o),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(l.ACCESS_TOKEN||""))}(r.params),_(r)},y=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function v(t){var e=t.match(y);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function _(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var b=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new q.default$3(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new q.RGBAImage({width:64,height:64}),this.dirty=!0};b.prototype.isLoaded=function(){return this.loaded},b.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},b.prototype.getImage=function(t){return this.images[t]},b.prototype.addImage=function(t,e){this.images[t]=e},b.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},b.prototype.listImages=function(){return Object.keys(this.images)},b.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},b.prototype._notify=function(t,e){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=this.images[o];a&&(n[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}e(null,n)},b.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},b.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var r=n.data.width+2,i=n.data.height+2,o=this.shelfPack.packOne(r,i);if(!o)return null;this.atlasImage.resize(this.getPixelSize());var a=n.data,s=this.atlasImage,u=o.x+1,l=o.y+1,c=a.width,f=a.height;q.RGBAImage.copy(a,s,{x:0,y:0},{x:u,y:l},{width:c,height:f}),q.RGBAImage.copy(a,s,{x:0,y:f-1},{x:u,y:l-1},{width:c,height:1}),q.RGBAImage.copy(a,s,{x:0,y:0},{x:u,y:l+f},{width:c,height:1}),q.RGBAImage.copy(a,s,{x:c-1,y:0},{x:u-1,y:l},{width:1,height:f}),q.RGBAImage.copy(a,s,{x:0,y:0},{x:u+c,y:l},{width:1,height:f}),this.dirty=!0;var h=new q.ImagePosition(o,n);return this.patterns[t]={bin:o,position:h},h},b.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new q.default$4(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)};var x=E,w=1e20;function E(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(0<=navigator.userAgent.indexOf("Gecko/")?1.2:1))}function S(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)r[u]=t[u*e+s];for(k(r,i,o,a,n),u=0;u<n;u++)t[u*e+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)r[s]=t[u*e+s];for(k(r,i,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(i[s])}}function k(t,e,n,r,i){r[n[0]=0]=-w,r[1]=+w;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+w}for(a=o=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}E.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?w:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?w:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(S(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),S(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var o=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n};var M=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};M.prototype.setURL=function(t){this.url=t},M.prototype.getGlyphs=function(t,l){var u=this,e=[];for(var n in t)for(var r=0,i=t[n];r<i.length;r+=1){var o=i[r];e.push({stack:n,id:o})}q.asyncAll(e,function(t,n){var r=t.stack,i=t.id,o=u.entries[r];o||(o=u.entries[r]={glyphs:{},requests:{}});var e=o.glyphs[i];if(void 0===e)if(e=u._tinySDF(o,r,i))n(null,{stack:r,id:i,glyph:e});else{var a=Math.floor(i/256);if(65535<256*a)n(new Error("glyphs > 65535 not supported"));else{var s=o.requests[a];s||(s=o.requests[a]=[],M.loadGlyphRange(r,a,u.url,u.requestTransform,function(t,e){if(e)for(var n in e)o.glyphs[+n]=e[+n];for(var r=0,i=s;r<i.length;r+=1)(0,i[r])(t,e);delete o.requests[a]})),s.push(function(t,e){t?n(t):e&&n(null,{stack:r,id:i,glyph:e[i]||null})})}}else n(null,{stack:r,id:i,glyph:e})},function(t,e){if(t)l(t);else if(e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.stack,s=o.id,u=o.glyph;(n[a]||(n[a]={}))[s]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}l(null,n)}})},M.prototype._tinySDF=function(t,e,n){var r=this.localIdeographFontFamily;if(r&&(q.default$6["CJK Unified Ideographs"](n)||q.default$6["Hangul Syllables"](n))){var i=t.tinySDF;if(!i){var o="400";/bold/i.test(e)?o="900":/medium/i.test(e)?o="500":/light/i.test(e)&&(o="200"),i=t.tinySDF=new M.TinySDF(24,3,8,.25,r,o)}return{id:n,bitmap:new q.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},M.loadGlyphRange=function(t,e,n,r,a){var i=256*e,o=i+255,s=r(function(t,e){if(!h(t))return t;var n=v(t);return n.path="/fonts/v1"+n.path,f(n,e)}(n).replace("{fontstack}",t).replace("{range}",i+"-"+o),q.ResourceType.Glyphs);q.getArrayBuffer(s,function(t,e){if(t)a(t);else if(e){for(var n={},r=0,i=q.default$5(e.data);r<i.length;r+=1){var o=i[r];n[o.id]=o}a(null,n)}})},M.TinySDF=x;var T=function(){this.specification=q.default$7.light.position};T.prototype.possiblyEvaluate=function(t,e){return q.sphericalToCartesian(t.expression.evaluate(e))},T.prototype.interpolate=function(t,e,n){return{x:q.number(t.x,e.x,n),y:q.number(t.y,e.y,n),z:q.number(t.z,e.z,n)}};var C=new q.Properties({anchor:new q.DataConstantProperty(q.default$7.light.anchor),position:new T,color:new q.DataConstantProperty(q.default$7.light.color),intensity:new q.DataConstantProperty(q.default$7.light.intensity)}),P=function(e){function t(t){e.call(this),this._transitionable=new q.Transitionable(C),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getLight=function(){return this._transitionable.serialize()},t.prototype.setLight=function(t){if(!this._validate(q.validateLight,t))for(var e in t){var n=t[e];q.endsWith(e,"-transition")?this._transitionable.setTransition(e.slice(0,-"-transition".length),n):this._transitionable.setValue(e,n)}},t.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},t.prototype.hasTransition=function(){return this._transitioning.hasTransition()},t.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},t.prototype._validate=function(t,e){return q.emitValidationErrors(this,t.call(q.validateStyle,q.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:q.default$7})))},t}(q.Evented),A=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};A.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},A.prototype.addDash=function(t,e){var n=e?7:0,r=2*n+1;if(this.nextRow+r>this.height)return q.warnOnce("LineAtlas out of space"),null;for(var i=0,o=0;o<t.length;o++)i+=t[o];for(var a=this.width/i,s=a/2,u=t.length%2==1,l=-n;l<=n;l++)for(var c=this.nextRow+n+l,f=this.width*c,h=u?-t[t.length-1]:0,p=t[0],d=1,m=0;m<this.width;m++){for(;p<m/a;)h=p,p+=t[d],u&&d===t.length-1&&(p+=t[0]),d++;var y=Math.abs(m-h*a),v=Math.abs(m-p*a),g=Math.min(y,v),_=d%2==1,b=void 0;if(e){var x=n?l/n*(s+1):0;if(_){var w=s-Math.abs(x);b=Math.sqrt(g*g+w*w)}else b=s-Math.sqrt(g*g+x*x)}else b=(_?1:-1)*g;this.data[3+4*(f+m)]=Math.max(0,Math.min(255,b+128))}var E={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=r,this.dirty=!0,E},A.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var O=function t(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=q.uniqueId();for(var r=this.workerPool.acquire(this.id),i=0;i<r.length;i++){var o=r[i],a=new t.Actor(o,n,this.id);a.name="Worker "+i,this.actors.push(a)}};function z(t,e,r){var n=function(t,e){if(t)return r(t);if(e){var n=q.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(n.vectorLayers=e.vector_layers,n.vectorLayerIds=n.vectorLayers.map(function(t){return t.id})),r(null,n)}};return t.url?q.getJSON(e(function(t,e){if(!h(t))return t;var n=v(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),f(n,e)}(t.url),q.ResourceType.Source),n):q.default$2.frame(function(){return n(null,t)})}O.prototype.broadcast=function(n,r,t){t=t||function(){},q.asyncAll(this.actors,function(t,e){t.send(n,r,e)},t)},O.prototype.send=function(t,e,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},O.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=q.default$9;var I=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};I.prototype.wrap=function(){return new I(q.wrap(this.lng,-180,180),this.lat)},I.prototype.toArray=function(){return[this.lng,this.lat]},I.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},I.prototype.toBounds=function(t){var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new R(new I(this.lng-n,this.lat-e),new I(this.lng+n,this.lat+e))},I.convert=function(t){if(t instanceof I)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new I(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new I(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var R=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};R.prototype.setNorthEast=function(t){return this._ne=t instanceof I?new I(t.lng,t.lat):I.convert(t),this},R.prototype.setSouthWest=function(t){return this._sw=t instanceof I?new I(t.lng,t.lat):I.convert(t),this},R.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof I)n=e=t;else{if(!(t instanceof R))return Array.isArray(t)?t.every(Array.isArray)?this.extend(R.convert(t)):this.extend(I.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new I(e.lng,e.lat),this._ne=new I(n.lng,n.lat)),this},R.prototype.getCenter=function(){return new I((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},R.prototype.getSouthWest=function(){return this._sw},R.prototype.getNorthEast=function(){return this._ne},R.prototype.getNorthWest=function(){return new I(this.getWest(),this.getNorth())},R.prototype.getSouthEast=function(){return new I(this.getEast(),this.getSouth())},R.prototype.getWest=function(){return this._sw.lng},R.prototype.getSouth=function(){return this._sw.lat},R.prototype.getEast=function(){return this._ne.lng},R.prototype.getNorth=function(){return this._ne.lat},R.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},R.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},R.prototype.isEmpty=function(){return!(this._sw&&this._ne)},R.convert=function(t){return!t||t instanceof R?t:new R(t)};var N=function(t,e,n){this.bounds=R.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};N.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},N.prototype.contains=function(t){var e=Math.floor(this.lngX(this.bounds.getWest(),t.z)),n=Math.floor(this.latY(this.bounds.getNorth(),t.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),t.z)),i=Math.ceil(this.latY(this.bounds.getSouth(),t.z));return t.x>=e&&t.x<r&&t.y>=n&&t.y<i},N.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},N.prototype.latY=function(t,e){var n=q.clamp(Math.sin(Math.PI/180*t),-.9999,.9999),r=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-r};var D=function(i){function t(t,e,n,r){if(i.call(this),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,q.extend(this,q.pick(e,["url","scheme","tileSize"])),this._options=q.extend({type:"vector"},e),this._collectResourceTiming=e.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){var n=this;this.fire(new q.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=z(this._options,this.map._transformRequest,function(t,e){n._tileJSONRequest=null,t?n.fire(new q.ErrorEvent(t)):e&&(q.extend(n,e),e.bounds&&(n.tileBounds=new N(e.bounds,n.minzoom,n.maxzoom)),n.fire(new q.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new q.Event("data",{dataType:"source",sourceDataType:"content"})))})},t.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},t.prototype.serialize=function(){return q.extend({},this._options)},t.prototype.loadTile=function(n,r){var t=d(n.tileID.canonical.url(this.tiles,this.scheme),this.url),e={request:this.map._transformRequest(t,q.ResourceType.Tile),uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:q.default$2.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(t,e){return n.aborted?r(null):t?r(t):(e&&e.resourceTiming&&(n.resourceTiming=e.resourceTiming),this.map._refreshExpiredTiles&&n.setExpiryData(e),n.loadVectorData(e,this.map.painter),r(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}e.request.collectResourceTiming=this._collectResourceTiming,void 0===n.workerID||"expired"===n.state?n.workerID=this.dispatcher.send("loadTile",e,i.bind(this)):"loading"===n.state?n.reloadCallback=r:this.dispatcher.send("reloadTile",e,i.bind(this),n.workerID)},t.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},t.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},t.prototype.hasTransition=function(){return!1},t}(q.Evented),L=function(i){function t(t,e,n,r){i.call(this),this.id=t,this.dispatcher=n,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=q.extend({},e),q.extend(this,q.pick(e,["url","scheme","tileSize"]))}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){var n=this;this.fire(new q.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=z(this._options,this.map._transformRequest,function(t,e){n._tileJSONRequest=null,t?n.fire(new q.ErrorEvent(t)):e&&(q.extend(n,e),e.bounds&&(n.tileBounds=new N(e.bounds,n.minzoom,n.maxzoom)),n.fire(new q.Event("data",{dataType:"source",sourceDataType:"metadata"})),n.fire(new q.Event("data",{dataType:"source",sourceDataType:"content"})))})},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},t.prototype.serialize=function(){return q.extend({},this._options)},t.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},t.prototype.loadTile=function(i,o){var a=this,t=d(i.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);i.request=q.getImage(this.map._transformRequest(t,q.ResourceType.Tile),function(t,e){if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(t)i.state="errored",o(t);else if(e){a.map._refreshExpiredTiles&&i.setExpiryData(e),delete e.cacheControl,delete e.expires;var n=a.map.painter.context,r=n.gl;i.texture=a.map.painter.getTileTexture(e.width),i.texture?i.texture.update(e,{useMipmap:!0}):(i.texture=new q.default$4(n,e,r.RGBA,{useMipmap:!0}),i.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),i.state="loaded",o(null)}})},t.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},t.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},t.prototype.hasTransition=function(){return!1},t}(q.Evented),j=function(i){function t(t,e,n,r){i.call(this,t,e,n,r),this.type="raster-dem",this.maxzoom=22,this._options=q.extend({},e),this.encoding=e.encoding||"mapbox"}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},t.prototype.loadTile=function(i,o){var t=d(i.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);i.request=q.getImage(this.map._transformRequest(t,q.ResourceType.Tile),function(t,e){if(delete i.request,i.aborted)i.state="unloaded",o(null);else if(t)i.state="errored",o(t);else if(e){this.map._refreshExpiredTiles&&i.setExpiryData(e),delete e.cacheControl,delete e.expires;var n=q.default$2.getImageData(e),r={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:n,encoding:this.encoding};i.workerID&&"expired"!==i.state||(i.workerID=this.dispatcher.send("loadDEMTile",r,function(t,e){t&&(i.state="errored",o(t)),e&&(i.dem=e,i.needsHillshadePrepare=!0,i.state="loaded",o(null))}.bind(this)))}}.bind(this)),i.neighboringTiles=this._getNeighboringTiles(i.tileID)},t.prototype._getNeighboringTiles=function(t){var e=t.canonical,n=Math.pow(2,e.z),r=(e.x-1+n)%n,i=0===e.x?t.wrap-1:t.wrap,o=(e.x+1+n)%n,a=e.x+1===n?t.wrap+1:t.wrap,s={};return s[new q.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y).key]={backfilled:!1},s[new q.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y).key]={backfilled:!1},0<e.y&&(s[new q.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y-1).key]={backfilled:!1},s[new q.OverscaledTileID(t.overscaledZ,t.wrap,e.z,e.x,e.y-1).key]={backfilled:!1},s[new q.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y-1).key]={backfilled:!1}),e.y+1<n&&(s[new q.OverscaledTileID(t.overscaledZ,i,e.z,r,e.y+1).key]={backfilled:!1},s[new q.OverscaledTileID(t.overscaledZ,t.wrap,e.z,e.x,e.y+1).key]={backfilled:!1},s[new q.OverscaledTileID(t.overscaledZ,a,e.z,o,e.y+1).key]={backfilled:!1}),s},t.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},t}(L),F=function(o){function t(t,e,n,r){o.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=n,this.setEventedParent(r),this._data=e.data,this._options=q.extend({},e),this._collectResourceTiming=e.collectResourceTiming,this._resourceTiming=[],void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type),e.attribution&&(this.attribution=e.attribution);var i=q.default$10/this.tileSize;this.workerOptions=q.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*i,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*i,extent:q.default$10,maxZoom:this.maxzoom,lineMetrics:e.lineMetrics||!1},superclusterOptions:{maxZoom:void 0!==e.clusterMaxZoom?Math.min(e.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:q.default$10,radius:(e.clusterRadius||50)*i,log:!1}},e.workerOptions)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){var n=this;this.fire(new q.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)n.fire(new q.ErrorEvent(t));else{var e={dataType:"source",sourceDataType:"metadata"};n._collectResourceTiming&&n._resourceTiming&&0<n._resourceTiming.length&&(e.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new q.Event("data",e))}})},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new q.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)n.fire(new q.ErrorEvent(t));else{var e={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&0<n._resourceTiming.length&&(e.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new q.Event("data",e))}}),this},t.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},t.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},t.prototype.getClusterLeaves=function(t,e,n,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r,this.workerID),this},t.prototype._updateWorkerData=function(n){var r=this,i=q.extend({},this.workerOptions),t=this._data;"string"==typeof t?(i.request=this.map._transformRequest(q.default$2.resolveURL(t),q.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(t),this.workerID=this.dispatcher.send(this.type+".loadData",i,function(t,e){r._removed||e&&e.abandoned||(r._loaded=!0,e&&e.resourceTiming&&e.resourceTiming[r.id]&&(r._resourceTiming=e.resourceTiming[r.id].slice(0)),r.dispatcher.send(r.type+".coalesce",{source:i.source},null,r.workerID),n(t))},this.workerID)},t.prototype.loadTile=function(n,r){var i=this,o=void 0===n.workerID?"loadTile":"reloadTile",t={type:this.type,uid:n.uid,tileID:n.tileID,zoom:n.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:q.default$2.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};n.workerID=this.dispatcher.send(o,t,function(t,e){return n.unloadVectorData(),n.aborted?r(null):t?r(t):(n.loadVectorData(e,i.map.painter,"reloadTile"===o),r(null))},this.workerID)},t.prototype.abortTile=function(t){t.aborted=!0},t.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},t.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},t.prototype.serialize=function(){return q.extend({},this._options,{type:this.type,data:this._data})},t.prototype.hasTransition=function(){return!1},t}(q.Evented),B=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};B.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},B.prototype.freshBind=function(t,e,n,r,i,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}e.enableAttributes(c,t);for(var h=0,p=n;h<p.length;h+=1)p[h].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,m=n;d<m.length;d+=1){var y=m[d];y.bind(),y.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),l.currentNumAttributes=u},B.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var U=function(i){function t(t,e,n,r){i.call(this),this.id=t,this.dispatcher=n,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=e}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){var n=this;this.fire(new q.Event("dataloading",{dataType:"source"})),this.url=this.options.url,q.getImage(this.map._transformRequest(this.url,q.ResourceType.Image),function(t,e){t?n.fire(new q.ErrorEvent(t)):e&&(n.image=q.default$2.getImageData(e),n._finishLoading())})},t.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new q.Event("data",{dataType:"source",sourceDataType:"metadata"})))},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(I.convert(t)).zoomTo(0)}),r=this.centerCoord=q.getCoordinatesCenter(n);r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.tileID=new q.CanonicalTileID(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom;var i=n.map(function(t){var e=t.zoomTo(r.zoom);return new q.default(Math.round((e.column-r.column)*q.default$10),Math.round((e.row-r.row)*q.default$10))});return this._boundsArray=new q.RasterBoundsArray,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,q.default$10,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,q.default$10),this._boundsArray.emplaceBack(i[2].x,i[2].y,q.default$10,q.default$10),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new q.Event("data",{dataType:"source",sourceDataType:"content"})),this},t.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,q.default$11.members)),this.boundsVAO||(this.boundsVAO=new B),this.texture||(this.texture=new q.default$4(t,this.image,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},t.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t).buckets={}:t.state="errored",e(null)},t.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return!1},t}(q.Evented),V=function(i){function t(t,e,n,r){i.call(this,t,e,n,r),this.roundZoom=!0,this.type="video",this.options=e}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){var n=this,t=this.options;this.urls=[];for(var e=0,r=t.urls;e<r.length;e+=1){var i=r[e];n.urls.push(n.map._transformRequest(i,q.ResourceType.Source).url)}q.getVideo(this.urls,function(t,e){t?n.fire(new q.ErrorEvent(t)):e&&(n.video=e,n.video.loop=!0,n.video.addEventListener("playing",function(){n.map._rerender()}),n.map&&n.video.play(),n._finishLoading())})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,e=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,q.default$11.members)),this.boundsVAO||(this.boundsVAO=new B),this.texture?this.video.paused||(this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE),e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,this.video)):(this.texture=new q.default$4(t,this.video,e.RGBA),this.texture.bind(e.LINEAR,e.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this.video&&!this.video.paused},t}(U),Y=function(i){function t(t,e,n,r){i.call(this,t,e,n,r),e.coordinates?Array.isArray(e.coordinates)&&4===e.coordinates.length&&!e.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new q.ErrorEvent(new q.default$12("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new q.ErrorEvent(new q.default$12("sources."+t,null,'missing required property "coordinates"'))),e.animate&&"boolean"!=typeof e.animate&&this.fire(new q.ErrorEvent(new q.default$12("sources."+t,null,'optional "animate" property must be a boolean value'))),e.canvas?"string"==typeof e.canvas||e.canvas instanceof q.default$1.HTMLCanvasElement||this.fire(new q.ErrorEvent(new q.default$12("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new q.ErrorEvent(new q.default$12("sources."+t,null,'missing required property "canvas"'))),this.options=e,this.animate=void 0===e.animate||e.animate}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof q.default$1.HTMLCanvasElement?this.options.canvas:q.default$1.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new q.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},t.prototype.onRemove=function(){this.pause()},t.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,q.default$11.members)),this.boundsVAO||(this.boundsVAO=new B),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.canvas)):(this.texture=new q.default$4(e,this.canvas,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},t.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this._playing},t.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},t}(U),W={vector:D,raster:L,"raster-dem":j,geojson:F,video:V,image:U,canvas:Y};function $(n,t,e,r,i){var o=i.maxPitchScaleFactor(),a=n.tilesIn(e,o);a.sort(H);for(var y=[],s=0,u=a;s<u.length;s+=1){var l=u[s];y.push({wrappedTileID:l.tileID.wrapped().key,queryResults:l.tile.queryRenderedFeatures(t,n._state,l.queryGeometry,l.scale,r,i,o,n.transform.calculatePosMatrix(l.tileID.toUnwrapped()))})}var c=function(t){for(var e={},n={},r=0,i=y;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],f=u[l]=u[l]||{},h=e[l]=e[l]||[],p=0,d=c;p<d.length;p+=1){var m=d[p];f[m.featureIndex]||(f[m.featureIndex]=!0,h.push(m.feature))}}return e}();for(var f in c)c[f].forEach(function(t){var e=n.getFeatureState(t.layer["source-layer"],t.id);t.source=t.layer.source,t.layer["source-layer"]&&(t.sourceLayer=t.layer["source-layer"]),t.state=e});return c}function H(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var Z=function(t,e){this.max=t,this.onRemove=e,this.reset()};Z.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},Z.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout(function(){r.remove(t,o)},n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},Z.prototype.has=function(t){return t.wrapped().key in this.data},Z.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},Z.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},Z.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},Z.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},Z.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var G=function(t,e,n){var r=(this.context=t).gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};G.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},G.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},G.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},G.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var X={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},K=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r;var i=(this.context=t).gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};K.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},K.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},K.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.attributes[r.name];void 0!==i&&t.enableVertexAttribArray(i)}},K.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[X[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},K.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var J=function(t){this.context=t,this.current=q.default$8.transparent};J.prototype.get=function(){return this.current},J.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var Q=function(t){this.context=t,this.current=1};Q.prototype.get=function(){return this.current},Q.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var tt=function(t){this.context=t,this.current=0};tt.prototype.get=function(){return this.current},tt.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var et=function(t){this.context=t,this.current=[!0,!0,!0,!0]};et.prototype.get=function(){return this.current},et.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var nt=function(t){this.context=t,this.current=!0};nt.prototype.get=function(){return this.current},nt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var rt=function(t){this.context=t,this.current=255};rt.prototype.get=function(){return this.current},rt.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var it=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};it.prototype.get=function(){return this.current},it.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var ot=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};ot.prototype.get=function(){return this.current},ot.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var at=function(t){this.context=t,this.current=!1};at.prototype.get=function(){return this.current},at.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var st=function(t){this.context=t,this.current=[0,1]};st.prototype.get=function(){return this.current},st.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var ut=function(t){this.context=t,this.current=!1};ut.prototype.get=function(){return this.current},ut.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var lt=function(t){this.context=t,this.current=t.gl.LESS};lt.prototype.get=function(){return this.current},lt.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var ct=function(t){this.context=t,this.current=!1};ct.prototype.get=function(){return this.current},ct.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var ft=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};ft.prototype.get=function(){return this.current},ft.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var ht=function(t){this.context=t,this.current=q.default$8.transparent};ht.prototype.get=function(){return this.current},ht.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var pt=function(t){this.context=t,this.current=null};pt.prototype.get=function(){return this.current},pt.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var dt=function(t){this.context=t,this.current=t.gl.TEXTURE0};dt.prototype.get=function(){return this.current},dt.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var mt=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};mt.prototype.get=function(){return this.current},mt.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var yt=function(t){this.context=t,this.current=null};yt.prototype.get=function(){return this.current},yt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var vt=function(t){this.context=t,this.current=null};vt.prototype.get=function(){return this.current},vt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var gt=function(t){this.context=t,this.current=null};gt.prototype.get=function(){return this.current},gt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var _t=function(t){this.context=t,this.current=null};_t.prototype.get=function(){return this.current},_t.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var bt=function(t){this.context=t,this.current=null};bt.prototype.get=function(){return this.current},bt.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var xt=function(t){this.context=t,this.current=null};xt.prototype.get=function(){return this.current},xt.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var wt=function(t){this.context=t,this.current=4};wt.prototype.get=function(){return this.current},wt.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var Et=function(t){this.context=t,this.current=!1};Et.prototype.get=function(){return this.current},Et.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var St=function(t,e){this.context=t,this.current=null,this.parent=e};St.prototype.get=function(){return this.current};var kt=function(n){function t(t,e){n.call(this,t,e),this.dirty=!1}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},t.prototype.setDirty=function(){this.dirty=!0},t}(St),Mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(St),Tt=function(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,i=this.framebuffer=r.createFramebuffer();this.colorAttachment=new kt(t,i),this.depthAttachment=new Mt(t,i)};Tt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var Ct=function(t,e,n){this.func=t,this.mask=e,this.range=n};Ct.ReadOnly=!1,Ct.ReadWrite=!0,Ct.disabled=new Ct(519,Ct.ReadOnly,[0,1]);var Pt=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Pt.disabled=new Pt({func:519,mask:0},0,0,7680,7680,7680);var At=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};At.disabled=new At(At.Replace=[1,0],q.default$8.transparent,[!1,!1,!1,!1]),At.unblended=new At(At.Replace,q.default$8.transparent,[!0,!0,!0,!0]),At.alphaBlended=new At([1,771],q.default$8.transparent,[!0,!0,!0,!0]);var Ot=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new J(this),this.clearDepth=new Q(this),this.clearStencil=new tt(this),this.colorMask=new et(this),this.depthMask=new nt(this),this.stencilMask=new rt(this),this.stencilFunc=new it(this),this.stencilOp=new ot(this),this.stencilTest=new at(this),this.depthRange=new st(this),this.depthTest=new ut(this),this.depthFunc=new lt(this),this.blend=new ct(this),this.blendFunc=new ft(this),this.blendColor=new ht(this),this.program=new pt(this),this.activeTexture=new dt(this),this.viewport=new mt(this),this.bindFramebuffer=new yt(this),this.bindRenderbuffer=new vt(this),this.bindTexture=new gt(this),this.bindVertexBuffer=new _t(this),this.bindElementBuffer=new bt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new xt(this),this.pixelStoreUnpack=new wt(this),this.pixelStoreUnpackPremultiplyAlpha=new Et(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};Ot.prototype.createIndexBuffer=function(t,e){return new G(this,t,e)},Ot.prototype.createVertexBuffer=function(t,e,n){return new K(this,t,e,n)},Ot.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Ot.prototype.createFramebuffer=function(t,e){return new Tt(this,t,e)},Ot.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ot.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Ot.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Ot.prototype.setColorMode=function(t){q.default$13(t.blendFunction,At.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)};var zt=function(i){function v(t,e,n){var r=this;i.call(this),this.id=t,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=function(t,e,n,r){var i=new W[e.type](t,e,n,r);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return q.bindAll(["load","abort","unload","serialize","prepare"],i),i}(t,e,n,this),this._tiles={},this._cache=new Z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={},this._state=new q.default$16}return i&&(v.__proto__=i),((v.prototype=Object.create(i&&i.prototype)).constructor=v).prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},v.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},v.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},v.prototype.getSource=function(){return this._source},v.prototype.pause=function(){this._paused=!0},v.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},v.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},v.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},v.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},v.prototype.serialize=function(){return this._source.serialize()},v.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[e].upload(t)},v.prototype.getIds=function(){var a=this;return Object.keys(this._tiles).map(Number).sort(function(t,e){var n=a._tiles[t].tileID,r=a._tiles[e].tileID,i=new q.default(n.canonical.x,n.canonical.y).rotate(a.transform.angle),o=new q.default(r.canonical.x,r.canonical.y).rotate(a.transform.angle);return n.overscaledZ-r.overscaledZ||o.y-i.y||o.x-i.x})},v.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},v.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},v.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},v.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},v.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},v.prototype._tileLoaded=function(t,e,n,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new q.ErrorEvent(r,{tile:t})):this.update(this.transform));t.timeAdded=q.default$2.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new q.Event("data",{dataType:"source",tile:t,coord:t.tileID})),this.map&&(this.map.painter.tileExtentVAO.vao=null)},v.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||1<Math.abs(r)||(1<Math.abs(n)&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},v.prototype.getTile=function(t){return this.getTileByID(t.key)},v.prototype.getTileByID=function(t){return this._tiles[t]},v.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},v.prototype._findLoadedChildren=function(t,e,n){var r=!1;for(var i in this._tiles){var o=this._tiles[i];if(!(n[i]||!o.hasData()||o.tileID.overscaledZ<=t.overscaledZ||o.tileID.overscaledZ>e)){var a=Math.pow(2,o.tileID.canonical.z-t.canonical.z);if(Math.floor(o.tileID.canonical.x/a)===t.canonical.x&&Math.floor(o.tileID.canonical.y/a)===t.canonical.y)for(n[i]=o.tileID,r=!0;o&&o.tileID.overscaledZ-1>t.overscaledZ;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);if(!s)break;(o=this._tiles[s.key])&&o.hasData()&&(delete n[i],n[s.key]=s)}}}return r},v.prototype.findLoadedParent=function(t,e,n){for(var r=t.overscaledZ-1;e<=r;r--){var i=t.scaledTo(r);if(!i)return;var o=String(i.key),a=this._tiles[o];if(a&&a.hasData())return n[o]=i,a;if(this._cache.has(i))return n[o]=i,this._cache.get(i)}},v.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},v.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var r={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var u=this._tiles[s];this._setTileReloadTimer(s,u)}}},v.prototype.update=function(t){var e=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new q.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(t){return e._source.hasTile(t)}))):n=[];var r,i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),o=Math.max(i-v.maxOverzooming,this._source.minzoom),a=Math.max(i+v.maxUnderzooming,this._source.minzoom),s=this._updateRetainedTiles(n,i),u={};if(Rt(this._source.type))for(var l=Object.keys(s),c=0;c<l.length;c++){var f=l[c],h=s[f],p=e._tiles[f];if(p&&(void 0===p.fadeEndTime||p.fadeEndTime>=q.default$2.now())){e._findLoadedChildren(h,a,s)&&(s[f]=h);var d=e.findLoadedParent(h,o,u);d&&e._addTile(d.tileID)}}for(r in u)s[r]||(e._coveredTiles[r]=!0);for(r in u)s[r]=u[r];for(var m=q.keysDifference(this._tiles,s),y=0;y<m.length;y++)e._removeTile(m[y])}},v.prototype._updateRetainedTiles=function(t,e){for(var n={},r={},i=Math.max(e-v.maxOverzooming,this._source.minzoom),o=Math.max(e+v.maxUnderzooming,this._source.minzoom),a=0;a<t.length;a++){var s=t[a],u=this._addTile(s),l=!1;if(u.hasData())n[s.key]=s;else{l=u.wasRequested(),n[s.key]=s;var c=!0;if(e+1>this._source.maxzoom){var f=s.children(this._source.maxzoom)[0],h=this.getTile(f);h&&h.hasData()?n[f.key]=f:c=!1}else{this._findLoadedChildren(s,o,n);for(var p=s.children(this._source.maxzoom),d=0;d<p.length;d++)if(!n[p[d].key]){c=!1;break}}if(!c)for(var m=s.overscaledZ-1;i<=m;--m){var y=s.scaledTo(m);if(r[y.key])break;if(r[y.key]=!0,!(u=this.getTile(y))&&l&&(u=this._addTile(y)),u&&(n[y.key]=y,l=u.wasRequested(),u.hasData()))break}}}return n},v.prototype._addTile=function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));var n=Boolean(e);return n||(e=new q.default$14(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire(new q.Event("dataloading",{tile:e,coord:e.tileID,dataType:"source"})),e):null},v.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},r))},v.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),0<e.uses||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},v.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},v.prototype.tilesIn=function(t,e){for(var n=[],r=this.getIds(),i=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0].zoom,l=0;l<t.length;l++){var c=t[l];i=Math.min(i,c.column),o=Math.min(o,c.row),a=Math.max(a,c.column),s=Math.max(s,c.row)}for(var f=0;f<r.length;f++){var h=this._tiles[r[f]],p=h.tileID,d=Math.pow(2,this.transform.zoom-h.tileID.overscaledZ),m=e*h.queryPadding*q.default$10/h.tileSize/d,y=[It(p,new q.default$15(i,o,u)),It(p,new q.default$15(a,s,u))];if(y[0].x-m<q.default$10&&y[0].y-m<q.default$10&&0<=y[1].x+m&&0<=y[1].y+m){for(var v=[],g=0;g<t.length;g++)v.push(It(p,t[g]));n.push({tile:h,tileID:p,queryGeometry:[v],scale:d})}}return n},v.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(function(t){return e._tiles[t].tileID}),n=0,r=t;n<r.length;n+=1){var i=r[n];i.posMatrix=e.transform.calculatePosMatrix(i.toUnwrapped())}return t},v.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Rt(this._source.type))for(var t in this._tiles){var e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=q.default$2.now())return!0}return!1},v.prototype.setFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.updateState(t,e,n)},v.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},v}(q.Evented);function It(t,e){var n=e.zoomTo(t.canonical.z);return new q.default((n.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*q.default$10,(n.row-t.canonical.y)*q.default$10)}function Rt(t){return"raster"===t||"image"===t||"video"===t}function Nt(){return new q.default$1.Worker(or.workerUrl)}zt.maxOverzooming=10,zt.maxUnderzooming=3;var Dt,Lt=function(){this.active={}};function jt(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return q.default$17.forEach(function(t){t in e&&(n[t]=e[t])}),n}function Ft(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=jt(t[r],e[t[r].ref]));return t}Lt.prototype.acquire=function(t){if(!this.workers){var e=or.workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new Nt)}return this.active[t]=!0,this.workers.slice()},Lt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)};var Bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ut(t,e,n){n.push({command:Bt.addSource,args:[t,e[t]]})}function Vt(t,e,n){e.push({command:Bt.removeSource,args:[t]}),n[t]=!0}function qt(t,e,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!q.default$13(t[n][r],e[n][r]))return!1;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!q.default$13(t[n][r],e[n][r]))return!1;return!0}function Yt(t,e,n,r,i,o){var a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(q.default$13(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(q.default$13(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function Wt(t){return t.id}function $t(t,e){return t[e.id]=e,t}var Ht=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};Ht.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ht.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ht.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Ht.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Ht.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Ht.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],f=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-f,y1:c-f,x2:l+f,y2:c+f})}return o?a.filter(o):a}var h={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,r,this._queryCell,a,h,o),i?0<a.length:a},Ht.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!r&&[];var l=[],c={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,u,this._queryCellCircle,l,c,i),r?0<l.length:l},Ht.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Ht.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Ht.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Ht.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,h=l;f<h.length;f+=1){var p=h[f];if(!u.box[p]){u.box[p]=!0;var d=4*p;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[p],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,v=0,g=m;v<g.length;v+=1){var _=g[v];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(y[b],y[b+1],y[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=y[b],w=y[b+1],E=y[b+2];o.push({key:this.circleKeys[_],x1:x-E,y1:w-E,x2:x+E,y2:w+E})}}}},Ht.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,h=0,p=c;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[m+0],f[m+1],f[m+2],f[m+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var y=this.circleCells[i];if(null!==y)for(var v=this.circles,g=0,_=y;g<_.length;g+=1){var b=_[g];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(this._circlesCollide(v[x],v[x+1],v[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Ht.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),h=u;h<=c;h++)for(var p=l;p<=f;p++){var d=this.xCellCount*p+h;if(i.call(this,t,e,n,r,d,o,a,s))return}},Ht.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Ht.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Ht.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,u=n+o;return a*a+s*s<u*u},Ht.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(t-(r+s));if(s+n<u)return!1;var l=(a-i)/2,c=Math.abs(e-(i+l));if(l+n<c)return!1;if(u<=s||c<=l)return!0;var f=u-s,h=c-l;return f*f+h*h<=n*n};var Zt=q.default$18.layout;function Gt(t,e,n,r,i){var o=q.identity(new Float32Array(16));return e?(q.identity(o),q.scale(o,o,[1/i,1/i,1]),n||q.rotateZ(o,o,r.angle)):(q.scale(o,o,[r.width/2,-r.height/2,1]),q.translate(o,o,[1,-1,0]),q.multiply(o,o,t)),o}function Xt(t,e){var n=[t.x,t.y,0,1];oe(n,n,e);var r=n[3];return{point:new q.default(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function Kt(t,e,n,r,i,o,a,s){var u,l,c,f,h=r?t.textSizeData:t.iconSizeData,p=q.evaluateSizeForZoom(h,n.transform.zoom,Zt.properties[r?"text-size":"icon-size"]),d=[256/n.width*2+1,256/n.height*2+1],m=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();for(var y=t.lineVertexArray,v=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=n.transform.width/n.transform.height,_=!1,b=0;b<v.length;b++){var x=v.get(b);if(x.hidden||x.writingMode===q.WritingMode.vertical&&!_)ie(x.numGlyphs,m);else{_=!1;var w=[x.anchorX,x.anchorY,0,1];if(q.transformMat4(w,w,e),l=d,c=(u=w)[0]/u[3],f=u[1]/u[3],c>=-l[0]&&c<=l[0]&&f>=-l[1]&&f<=l[1]){var E=.5+w[3]/n.transform.cameraToCenterDistance*.5,S=q.evaluateSizeForFeature(h,p,x),k=a?S*E:S/E,M=new q.default(x.anchorX,x.anchorY),T=Xt(M,i).point,C={},P=te(x,k,!1,s,e,i,o,t.glyphOffsetArray,y,m,T,M,C,g);_=P.useVertical,(P.notEnoughRoom||_||P.needsFlipping&&te(x,k,!0,s,e,i,o,t.glyphOffsetArray,y,m,T,M,C,g).notEnoughRoom)&&ie(x.numGlyphs,m)}else ie(x.numGlyphs,m)}}r?t.text.dynamicLayoutVertexBuffer.updateData(m):t.icon.dynamicLayoutVertexBuffer.updateData(m)}function Jt(t,e,n,r,i,o,a,s,u,l,c,f){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),y=e.getoffsetX(h-1),v=ne(t*m,n,r,i,o,a,s.segment,p,d,u,l,c,f);if(!v)return null;var g=ne(t*y,n,r,i,o,a,s.segment,p,d,u,l,c,f);return g?{first:v,last:g}:null}function Qt(t,e,n,r){return t===q.WritingMode.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*r?{useVertical:!0}:(t===q.WritingMode.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function te(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d,m=e/24,y=t.lineOffsetX*e,v=t.lineOffsetY*e;if(1<t.numGlyphs){var g=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,b=t.lineStartIndex+t.lineLength,x=Jt(m,s,y,v,n,c,f,t,u,o,h,!1);if(!x)return{notEnoughRoom:!0};var w=Xt(x.first.point,a).point,E=Xt(x.last.point,a).point;if(r&&!n){var S=Qt(t.writingMode,w,E,p);if(S)return S}d=[x.first];for(var k=t.glyphStartIndex+1;k<g-1;k++)d.push(ne(m*s.getoffsetX(k),y,v,n,c,f,t.segment,_,b,u,o,h,!1));d.push(x.last)}else{if(r&&!n){var M=Xt(f,i).point,T=t.lineStartIndex+t.segment+1,C=new q.default(u.getx(T),u.gety(T)),P=Xt(C,i),A=0<P.signedDistanceFromCamera?P.point:ee(f,C,M,1,i),O=Qt(t.writingMode,M,A,p);if(O)return O}var z=ne(m*s.getoffsetX(t.glyphStartIndex),y,v,n,c,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,o,h,!1);if(!z)return{notEnoughRoom:!0};d=[z]}for(var I=0,R=d;I<R.length;I+=1){var N=R[I];q.addDynamicAttributes(l,N.point,N.angle)}return{}}function ee(t,e,n,r,i){var o=Xt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function ne(t,e,n,r,i,o,a,s,u,l,c,f,h){var p=r?t-e:t+e,d=0<p?1:-1,m=0;r&&(d*=-1,m=Math.PI),d<0&&(m+=Math.PI);for(var y=0<d?s+a:s+a+1,v=y,g=i,_=i,b=0,x=0,w=Math.abs(p);b+x<=w;){if((y+=d)<s||u<=y)return null;if(_=g,void 0===(g=f[y])){var E=new q.default(l.getx(y),l.gety(y)),S=Xt(E,c);if(0<S.signedDistanceFromCamera)g=f[y]=S.point;else{var k=y-d;g=ee(0===b?o:new q.default(l.getx(k),l.gety(k)),E,_,w-b+1,c)}}b+=x,x=_.dist(g)}var M=(w-b)/x,T=g.sub(_),C=T.mult(M)._add(_);return C._add(T._unit()._perp()._mult(n*d)),{point:C,angle:m+Math.atan2(g.y-_.y,g.x-_.x),tileDistance:h?{prevTileDistance:y-d===v?0:l.gettileUnitDistanceFromAnchor(y-d),lastSegmentViewportDistance:w-b}:null}}var re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ie(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(re,3*r)}}function oe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var ae=function(t,e,n){void 0===e&&(e=new Ht(t.width+200,t.height+200,25)),void 0===n&&(n=new Ht(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function se(t,e,n){t[e+4]=n?1:0}function ue(t,e,n){return e*(q.default$10/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}ae.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,u=t.y1*a+o.point.y,l=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},ae.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},ae.prototype.placeCollisionCircles=function(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var d=[],m=this.projectAnchor(l,o.anchorX,o.anchorY),y=u/24,v=o.lineOffsetX*u,g=o.lineOffsetY*u,_=new q.default(o.anchorX,o.anchorY),b=Jt(y,s,v,g,!1,Xt(_,c).point,_,o,a,c,{},!0),x=!1,w=!1,E=!0,S=m.perspectiveRatio*r,k=1/(r*n),M=0,T=0;b&&(M=this.approximateTileDistance(b.first.tileDistance,b.first.angle,k,m.cameraDistance,h),T=this.approximateTileDistance(b.last.tileDistance,b.last.angle,k,m.cameraDistance,h));for(var C=0;C<t.length;C+=5){var P=t[C],A=t[C+1],O=t[C+2],z=t[C+3];if(!b||z<-M||T<z)se(t,C,!1);else{var I=this.projectPoint(l,P,A),R=O*S;if(0<d.length){var N=I.x-d[d.length-4],D=I.y-d[d.length-3];if(N*N+D*D<R*R*2&&C+8<t.length){var L=t[C+8];if(-M<L&&L<T){se(t,C,!1);continue}}}var j=C/5;d.push(I.x,I.y,R,j),se(t,C,!0);var F=I.x-R,B=I.y-R,U=I.x+R,V=I.y+R;if(E=E&&this.isOffscreen(F,B,U,V),w=w||this.isInsideGrid(F,B,U,V),!e&&this.grid.hitTestCircle(I.x,I.y,R,p)){if(!f)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:d,offscreen:E}},ae.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var e=[],n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var u=s[a],l=new q.default(u.x+100,u.y+100);n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y),e.push(l)}for(var c={},f={},h=0,p=this.grid.query(n,r,i,o).concat(this.ignoredGrid.query(n,r,i,o));h<p.length;h+=1){var d=p[h],m=d.key;if(void 0===c[m.bucketInstanceId]&&(c[m.bucketInstanceId]={}),!c[m.bucketInstanceId][m.featureIndex]){var y=[new q.default(d.x1,d.y1),new q.default(d.x2,d.y1),new q.default(d.x2,d.y2),new q.default(d.x1,d.y2)];q.polygonIntersectsPolygon(e,y)&&(c[m.bucketInstanceId][m.featureIndex]=!0,void 0===f[m.bucketInstanceId]&&(f[m.bucketInstanceId]=[]),f[m.bucketInstanceId].push(m.featureIndex))}}return f},ae.prototype.insertCollisionBox=function(t,e,n,r,i){var o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},ae.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},ae.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return oe(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},ae.prototype.projectPoint=function(t,e,n){var r=[e,n,0,1];return oe(r,r,t),new q.default((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},ae.prototype.projectAndGetPerspectiveRatio=function(t,e,n){var r=[e,n,0,1];return oe(r,r,t),{point:new q.default((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},ae.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},ae.prototype.isInsideGrid=function(t,e,n,r){return 0<=n&&t<this.gridRightBoundary&&0<=r&&e<this.gridBottomBoundary};var le=q.default$18.layout,ce=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};ce.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var fe=function(t,e,n,r,i){this.text=new ce(t?t.text:null,e,n,i),this.icon=new ce(t?t.icon:null,e,r,i)};fe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var he=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},pe=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};pe.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var de=function(t,e,n){this.transform=t.clone(),this.collisionIndex=new ae(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new pe(n)};function me(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}de.prototype.placeLayerTile=function(t,e,n,r){var i=e.getBucket(t),o=e.latestFeatureIndex;if(i&&o&&t.id===i.layerIds[0]){var a=e.collisionBoxArray,s=i.layers[0].layout,u=Math.pow(2,this.transform.zoom-e.tileID.overscaledZ),l=e.tileSize/q.default$10,c=this.transform.calculatePosMatrix(e.tileID.toUnwrapped()),f=Gt(c,"map"===s.get("text-pitch-alignment"),"map"===s.get("text-rotation-alignment"),this.transform,ue(e,1,this.transform.zoom)),h=Gt(c,"map"===s.get("icon-pitch-alignment"),"map"===s.get("icon-rotation-alignment"),this.transform,ue(e,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}(i.bucketInstanceId,o,i.sourceLayerIndex,i.index,e.tileID),this.placeLayerBucket(i,c,f,h,u,l,n,r,a)}},de.prototype.placeLayerBucket=function(t,e,n,r,i,o,a,s,u){for(var l=t.layers[0].layout,c=q.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,le.properties["text-size"]),f=!t.hasTextData()||l.get("text-optional"),h=!t.hasIconData()||l.get("icon-optional"),p=this.collisionGroups.get(t.sourceID),d=0,m=t.symbolInstances;d<m.length;d+=1){var y=m[d];if(!s[y.crossTileID]){var v=void 0!==y.feature.text,g=void 0!==y.feature.icon,_=!0,b=null,x=null,w=null,E=0,S=0;y.collisionArrays||(y.collisionArrays=t.deserializeCollisionBoxes(u,y.textBoxStartIndex,y.textBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex)),y.collisionArrays.textFeatureIndex&&(E=y.collisionArrays.textFeatureIndex),y.collisionArrays.textBox&&(v=0<(b=this.collisionIndex.placeCollisionBox(y.collisionArrays.textBox,l.get("text-allow-overlap"),o,e,p.predicate)).box.length,_=_&&b.offscreen);var k=y.collisionArrays.textCircles;if(k){var M=t.text.placedSymbolArray.get(y.placedTextSymbolIndices[0]),T=q.evaluateSizeForFeature(t.textSizeData,c,M);x=this.collisionIndex.placeCollisionCircles(k,l.get("text-allow-overlap"),i,o,y.key,M,t.lineVertexArray,t.glyphOffsetArray,T,e,n,a,"map"===l.get("text-pitch-alignment"),p.predicate),v=l.get("text-allow-overlap")||0<x.circles.length,_=_&&x.offscreen}y.collisionArrays.iconFeatureIndex&&(S=y.collisionArrays.iconFeatureIndex),y.collisionArrays.iconBox&&(g=0<(w=this.collisionIndex.placeCollisionBox(y.collisionArrays.iconBox,l.get("icon-allow-overlap"),o,e,p.predicate)).box.length,_=_&&w.offscreen),f||h?h?f||(g=g&&v):v=g&&v:g=v=g&&v,v&&b&&this.collisionIndex.insertCollisionBox(b.box,l.get("text-ignore-placement"),t.bucketInstanceId,E,p.ID),g&&w&&this.collisionIndex.insertCollisionBox(w.box,l.get("icon-ignore-placement"),t.bucketInstanceId,S,p.ID),v&&x&&this.collisionIndex.insertCollisionCircles(x.circles,l.get("text-ignore-placement"),t.bucketInstanceId,E,p.ID),this.placements[y.crossTileID]=new he(v,g,_||t.justReloaded),s[y.crossTileID]=!0}}t.justReloaded=!1},de.prototype.commit=function(t,e){this.commitTime=e;var n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,i=t?t.opacities:{};for(var o in this.placements){var a=this.placements[o],s=i[o];n=s?(this.opacities[o]=new fe(s,r,a.text,a.icon),n||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[o]=new fe(null,r,a.text,a.icon,a.skipFade),n||a.text||a.icon)}for(var u in i){var l=i[u];if(!this.opacities[u]){var c=new fe(l,r,!1,!1);c.isHidden()||(this.opacities[u]=c,n=n||l.text.placed||l.icon.placed)}}n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},de.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},de.prototype.updateBucketOpacities=function(t,e,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var r=t.layers[0].layout,i=new fe(null,0,!1,!1,!0),o=new fe(null,0,r.get("text-allow-overlap"),r.get("icon-allow-overlap"),!0),a=0;a<t.symbolInstances.length;a++){var s=t.symbolInstances[a],u=e[s.crossTileID],l=this.opacities[s.crossTileID];u?l=i:l||(l=o,this.opacities[s.crossTileID]=l),e[s.crossTileID]=!0;var c=0<s.numGlyphVertices||0<s.numVerticalGlyphVertices,f=0<s.numIconVertices;if(c){for(var h=Ee(l.text),p=(s.numGlyphVertices+s.numVerticalGlyphVertices)/4,d=0;d<p;d++)t.text.opacityVertexArray.emplaceBack(h);for(var m=0,y=s.placedTextSymbolIndices;m<y.length;m+=1){var v=y[m];t.text.placedSymbolArray.get(v).hidden=l.text.isHidden()}}if(f){for(var g=Ee(l.icon),_=0;_<s.numIconVertices/4;_++)t.icon.opacityVertexArray.emplaceBack(g);t.icon.placedSymbolArray.get(a).hidden=l.icon.isHidden()}s.collisionArrays||(s.collisionArrays=t.deserializeCollisionBoxes(n,s.textBoxStartIndex,s.textBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex));var b=s.collisionArrays;if(b){b.textBox&&t.hasCollisionBoxData()&&me(t.collisionBox.collisionVertexArray,l.text.placed,!1),b.iconBox&&t.hasCollisionBoxData()&&me(t.collisionBox.collisionVertexArray,l.icon.placed,!1);var x=b.textCircles;if(x&&t.hasCollisionCircleData())for(var w=0;w<x.length;w+=5){var E=u||0===x[w+4];me(t.collisionCircle.collisionVertexArray,l.text.placed,E)}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},de.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},de.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},de.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},de.prototype.setStale=function(){this.stale=!0};var ye=Math.pow(2,25),ve=Math.pow(2,24),ge=Math.pow(2,17),_e=Math.pow(2,16),be=Math.pow(2,9),xe=Math.pow(2,8),we=Math.pow(2,1);function Ee(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ye+e*ve+n*ge+e*_e+n*be+e*xe+n*we+e}var Se=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Se.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};var ke=function(t,e,n,r,i,o){this.placement=new de(t,i,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};ke.prototype.isDone=function(){return this._done},ke.prototype.continuePlacement=function(t,e,n){for(var r=this,i=q.default$2.now(),o=function(){var t=q.default$2.now()-i;return!r._forceFullPlacement&&2<t};0<=this._currentPlacementIndex;){var a=e[t[r._currentPlacementIndex]],s=r.placement.collisionIndex.transform.zoom;if("symbol"===a.type&&(!a.minzoom||a.minzoom<=s)&&(!a.maxzoom||a.maxzoom>s)){if(r._inProgressLayer||(r._inProgressLayer=new Se),r._inProgressLayer.continuePlacement(n[a.source],r.placement,r._showCollisionBoxes,a,o))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},ke.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement};var Me=512/q.default$10/2,Te=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}};Te.prototype.getScaledCoordinates=function(t,e){var n=e.canonical.z-this.tileID.canonical.z,r=Me/Math.pow(2,n),i=t.anchor;return{x:Math.floor((e.canonical.x*q.default$10+i.x)*r),y:Math.floor((e.canonical.y*q.default$10+i.y)*r)}},Te.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0,o=t;i<o.length;i+=1){var a=o[i];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var u=this.getScaledCoordinates(a,e),l=0,c=s;l<c.length;l+=1){var f=c[l];if(Math.abs(f.coord.x-u.x)<=r&&Math.abs(f.coord.y-u.y)<=r&&!n[f.crossTileID]){n[f.crossTileID]=!0,a.crossTileID=f.crossTileID;break}}}}};var Ce=function(){this.maxCrossTileID=0};Ce.prototype.generate=function(){return++this.maxCrossTileID};var Pe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Pe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Pe.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0,i=e.symbolInstances;r<i.length;r+=1)i[r].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var a in this.indexes){var s=this.indexes[a];if(Number(a)>t.overscaledZ)for(var u in s){var l=s[u];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,o)}else{var c=s[t.scaledTo(Number(a)).key];c&&c.findMatches(e.symbolInstances,t,o)}}for(var f=0,h=e.symbolInstances;f<h.length;f+=1){var p=h[f];p.crossTileID||(p.crossTileID=n.generate(),o[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Te(t,e.symbolInstances,e.bucketInstanceId),!0},Pe.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},Pe.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Ae=function(){this.layerIndexes={},this.crossTileIDs=new Ce,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ae.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Pe);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),o[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Ae.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Oe=function(t,e){return q.emitValidationErrors(t,e&&e.filter(function(t){return"source.canvas"!==t.identifier}))},ze=q.pick(Bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ie=q.pick(Bt,["setCenter","setZoom","setBearing","setPitch"]),Re=function(r){function i(t,e){var o=this;void 0===e&&(e={}),r.call(this),this.map=t,this.dispatcher=new O((Dt||(Dt=new Lt),Dt),this),this.imageManager=new b,this.glyphManager=new M(t._transformRequest,e.localIdeographFontFamily),this.lineAtlas=new A(256,512),this.crossTileSymbolIndex=new Ae,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new q.default$21,this._loaded=!1,this._resetUpdates();var n=this;this._rtlTextPluginCallback=i.registerForPluginAvailability(function(t){for(var e in n.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),n.sourceCaches)n.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}})}return r&&(i.__proto__=r),((i.prototype=Object.create(r&&r.prototype)).constructor=i).prototype.loadURL=function(t,e){var n=this;void 0===e&&(e={}),this.fire(new q.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof e.validate?e.validate:!h(t);t=function(t,e){if(!h(t))return t;var n=v(t);return n.path="/styles/v1"+n.path,f(n,e)}(t,e.accessToken);var i=this.map._transformRequest(t,q.ResourceType.Style);this._request=q.getJSON(i,function(t,e){n._request=null,t?n.fire(new q.ErrorEvent(t)):e&&n._load(e,r)})},i.prototype.loadJSON=function(t,e){var n=this;void 0===e&&(e={}),this.fire(new q.Event("dataloading",{dataType:"style"})),this._request=q.default$2.frame(function(){n._request=null,n._load(t,!1!==e.validate)})},i.prototype._load=function(t,e){var r=this;if(!e||!Oe(this,q.validateStyle(t))){for(var n in this._loaded=!0,(this.stylesheet=t).sources)r.addSource(n,t.sources[n],{validate:!1});t.sprite?this._spriteRequest=function(t,e,f){var h,p,d,n=1<q.default$2.devicePixelRatio?"@2x":"",r=q.getJSON(e(m(t,n,".json"),q.ResourceType.SpriteJSON),function(t,e){r=null,d||(d=t,h=e,o())}),i=q.getImage(e(m(t,n,".png"),q.ResourceType.SpriteImage),function(t,e){i=null,d||(d=t,p=e,o())});function o(){if(d)f(d);else if(h&&p){var t=q.default$2.getImageData(p),e={};for(var n in h){var r=h[n],i=r.width,o=r.height,a=r.x,s=r.y,u=r.sdf,l=r.pixelRatio,c=new q.RGBAImage({width:i,height:o});q.RGBAImage.copy(t,c,{x:a,y:s},{x:0,y:0},{width:i,height:o}),e[n]={data:c,pixelRatio:l,sdf:u}}f(null,e)}}return{cancel:function(){r&&(r.cancel(),r=null),i&&(i.cancel(),i=null)}}}(t.sprite,this.map._transformRequest,function(t,e){if(r._spriteRequest=null,t)r.fire(new q.ErrorEvent(t));else if(e)for(var n in e)r.imageManager.addImage(n,e[n]);r.imageManager.setLoaded(!0),r.fire(new q.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Ft(this.stylesheet.layers);this._order=i.map(function(t){return t.id}),this._layers={};for(var o=0,a=i;o<a.length;o+=1){var s=a[o];(s=q.default$20(s)).setEventedParent(r,{layer:{id:s.id}}),r._layers[s.id]=s}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new P(this.stylesheet.light),this.fire(new q.Event("data",{dataType:"style"})),this.fire(new q.Event("style.load"))}},i.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var r=e.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new q.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')))}}},i.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},i.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},i.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},i.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},i.prototype.update=function(t){if(this._loaded){if(this._changed){var e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var r in(e.length||n.length)&&this._updateWorkerLayers(e,n),this._updatedSources){var i=this._updatedSources[r];"reload"===i?this._reloadSource(r):"clear"===i&&this._clearSource(r)}for(var o in this._updatedPaintProps)this._layers[o].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire(new q.Event("data",{dataType:"style"}))}for(var a in this.sourceCaches)this.sourceCaches[a].used=!1;for(var s=0,u=this._order;s<u.length;s+=1){var l=u[s],c=this._layers[l];c.recalculate(t),!c.isHidden(t.zoom)&&c.source&&(this.sourceCaches[c.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},i.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},i.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},i.prototype.setState=function(t){var e=this;if(this._checkLoaded(),Oe(this,q.validateStyle(t)))return!1;(t=q.clone(t)).layers=Ft(t.layers);var n=function(t,e){if(!t)return[{command:Bt.setStyle,args:[e]}];var n=[];try{if(!q.default$13(t.version,e.version))return[{command:Bt.setStyle,args:[e]}];q.default$13(t.center,e.center)||n.push({command:Bt.setCenter,args:[e.center]}),q.default$13(t.zoom,e.zoom)||n.push({command:Bt.setZoom,args:[e.zoom]}),q.default$13(t.bearing,e.bearing)||n.push({command:Bt.setBearing,args:[e.bearing]}),q.default$13(t.pitch,e.pitch)||n.push({command:Bt.setPitch,args:[e.pitch]}),q.default$13(t.sprite,e.sprite)||n.push({command:Bt.setSprite,args:[e.sprite]}),q.default$13(t.glyphs,e.glyphs)||n.push({command:Bt.setGlyphs,args:[e.glyphs]}),q.default$13(t.transition,e.transition)||n.push({command:Bt.setTransition,args:[e.transition]}),q.default$13(t.light,e.light)||n.push({command:Bt.setLight,args:[e.light]});var r={},i=[];!function(t,e,n,r){var i,o,a,s;for(i in e=e||{},t=t||{})t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||Vt(i,n,r));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?q.default$13(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&qt(t,e,i)?n.push({command:Bt.setGeoJSONSourceData,args:[i,e[i].data]}):(a=e,Vt(o=i,s=n,r),Ut(o,a,s))):Ut(i,e,n))}(t.sources,e.sources,i,r);var o=[];t.layers&&t.layers.forEach(function(t){r[t.source]?n.push({command:Bt.removeLayer,args:[t.id]}):o.push(t)}),n=n.concat(i),function(t,e,n){e=e||[];var r,i,o,a,s,u,l,c=(t=t||[]).map(Wt),f=e.map(Wt),h=t.reduce($t,{}),p=e.reduce($t,{}),d=c.slice(),m=Object.create(null);for(i=r=0;r<c.length;r++)o=c[r],p.hasOwnProperty(o)?i++:(n.push({command:Bt.removeLayer,args:[o]}),d.splice(d.indexOf(o,i),1));for(i=r=0;r<f.length;r++)o=f[f.length-1-r],d[d.length-1-r]!==o&&(h.hasOwnProperty(o)?(n.push({command:Bt.removeLayer,args:[o]}),d.splice(d.lastIndexOf(o,d.length-i),1)):i++,u=d[d.length-r],n.push({command:Bt.addLayer,args:[p[o],u]}),d.splice(d.length-r,0,o),m[o]=!0);for(r=0;r<f.length;r++)if(a=h[o=f[r]],s=p[o],!m[o]&&!q.default$13(a,s))if(q.default$13(a.source,s.source)&&q.default$13(a["source-layer"],s["source-layer"])&&q.default$13(a.type,s.type)){for(l in Yt(a.layout,s.layout,n,o,null,Bt.setLayoutProperty),Yt(a.paint,s.paint,n,o,null,Bt.setPaintProperty),q.default$13(a.filter,s.filter)||n.push({command:Bt.setFilter,args:[o,s.filter]}),q.default$13(a.minzoom,s.minzoom)&&q.default$13(a.maxzoom,s.maxzoom)||n.push({command:Bt.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Yt(a[l],s[l],n,o,l.slice(6),Bt.setPaintProperty):q.default$13(a[l],s[l])||n.push({command:Bt.setLayerProperty,args:[o,l,s[l]]}));for(l in s)s.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Yt(a[l],s[l],n,o,l.slice(6),Bt.setPaintProperty):q.default$13(a[l],s[l])||n.push({command:Bt.setLayerProperty,args:[o,l,s[l]]}))}else n.push({command:Bt.removeLayer,args:[o]}),u=d[d.lastIndexOf(o)+1],n.push({command:Bt.addLayer,args:[s,u]})}(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Bt.setStyle,args:[e]}]}return n}(this.serialize(),t).filter(function(t){return!(t.command in Ie)});if(0===n.length)return!1;var r=n.filter(function(t){return!(t.command in ze)});if(0<r.length)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},i.prototype.addImage=function(t,e){if(this.getImage(t))return this.fire(new q.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,e),this.fire(new q.Event("data",{dataType:"style"}))},i.prototype.getImage=function(t){return this.imageManager.getImage(t)},i.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new q.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new q.Event("data",{dataType:"style"}))},i.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},i.prototype.addSource=function(t,e,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(0<=["vector","raster","geojson","video","image"].indexOf(e.type)&&this._validate(q.validateStyle.source,"sources."+t,e,null,n))){this.map&&this.map._collectResourceTiming&&(e.collectResourceTiming=!0);var i=this.sourceCaches[t]=new zt(t,e,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},i.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var e in this._layers)if(this._layers[e].source===t)return this.fire(new q.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+e+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new q.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},i.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},i.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},i.prototype.addLayer=function(t,e,n){this._checkLoaded();var r=t.id;if(this.getLayer(r))this.fire(new q.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else if("object"==typeof t.source&&(this.addSource(r,t.source),t=q.clone(t),t=q.extend(t,{source:r})),!this._validate(q.validateStyle.layer,"layers."+r,t,{arrayIndex:-1},n)){var i=q.default$20(t);this._validateLayer(i),i.setEventedParent(this,{layer:{id:r}});var o=e?this._order.indexOf(e):this._order.length;if(e&&-1===o)this.fire(new q.ErrorEvent(new Error('Layer with id "'+e+'" does not exist on this map.')));else{if(this._order.splice(o,0,r),this._layerOrderChanged=!0,this._layers[r]=i,this._removedLayers[r]&&i.source){var a=this._removedLayers[r];delete this._removedLayers[r],a.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i)}}},i.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==e){var n=this._order.indexOf(t);this._order.splice(n,1);var r=e?this._order.indexOf(e):this._order.length;e&&-1===r?this.fire(new q.ErrorEvent(new Error('Layer with id "'+e+'" does not exist on this map.'))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}}else this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},i.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(e){e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]}else this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},i.prototype.getLayer=function(t){return this._layers[t]},i.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?r.minzoom===e&&r.maxzoom===n||(null!=e&&(r.minzoom=e),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},i.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);if(n){if(!q.default$13(n.filter,e))return null==e?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(q.validateStyle.filter,"layers."+n.id+".filter",e)||(n.filter=q.clone(e),this._updateLayer(n)))}else this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},i.prototype.getFilter=function(t){return q.clone(this.getLayer(t).filter)},i.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?q.default$13(r.getLayoutProperty(e),n)||(r.setLayoutProperty(e,n),this._updateLayer(r)):this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},i.prototype.setPaintProperty=function(t,e,n){this._checkLoaded();var r=this.getLayer(t);r?q.default$13(r.getPaintProperty(e),n)||(r.setPaintProperty(e,n)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new q.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},i.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},i.prototype.setFeatureState=function(t,e){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];void 0!==i?"vector"!==i.getSource().type||r?i.setFeatureState(r,t.id,e):this.fire(new q.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types."))):this.fire(new q.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},i.prototype.getFeatureState=function(t){this._checkLoaded();var e=t.source,n=t.sourceLayer,r=this.sourceCaches[e];if(void 0!==r){if("vector"!==r.getSource().type||n)return r.getFeatureState(n,t.id);this.fire(new q.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new q.ErrorEvent(new Error("The source '"+e+"' does not exist in the map's style.")))},i.prototype.getTransition=function(){return q.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},i.prototype.serialize=function(){var e=this;return q.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:q.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},i.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},i.prototype._flattenRenderedFeatures=function(t){for(var e=[],n=this._order.length-1;0<=n;n--)for(var r=this._order[n],i=0,o=t;i<o.length;i+=1){var a=o[i][r];if(a)for(var s=0,u=a;s<u.length;s+=1){var l=u[s];e.push(l)}}return e},i.prototype.queryRenderedFeatures=function(t,e,n){e&&e.filter&&this._validate(q.validateStyle.filter,"queryRenderedFeatures.filter",e.filter);var r={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire(new q.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,o=e.layers;i<o.length;i+=1){var a=o[i],s=this._layers[a];if(!s)return this.fire(new q.ErrorEvent(new Error("The layer '"+a+"' does not exist in the map's style and cannot be queried for features."))),[];r[s.source]=!0}}var u=[];for(var l in this.sourceCaches)e.layers&&!r[l]||u.push($(this.sourceCaches[l],this._layers,t.worldCoordinate,e,n));return this.placement&&u.push(function(u,i,t,l,e,n){for(var c={},f=e.queryRenderedSymbols(t),r=[],o=0,a=Object.keys(f).map(Number);o<a.length;o+=1){var s=a[o];r.push(n[s])}r.sort(H);for(var h=function(){var i=d[p],t=i.featureIndex.lookupSymbolFeatures(f[i.bucketInstanceId],i.bucketIndex,i.sourceLayerIndex,l.filter,l.layers,u);for(var e in t){var n=c[e]=c[e]||[],r=t[e];r.sort(function(t,e){var n=i.featureSortOrder;if(n){var r=n.indexOf(t.featureIndex);return n.indexOf(e.featureIndex)-r}return e.featureIndex-t.featureIndex});for(var o=0,a=r;o<a.length;o+=1){var s=a[o];n.push(s.feature)}}},p=0,d=r;p<d.length;p+=1)h();var m=function(r){c[r].forEach(function(t){var e=u[r],n=i[e.source].getFeatureState(t.layer["source-layer"],t.id);t.source=t.layer.source,t.layer["source-layer"]&&(t.sourceLayer=t.layer["source-layer"]),t.state=n})};for(var y in c)m(y);return c}(this._layers,this.sourceCaches,t.viewport,e,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenRenderedFeatures(u)},i.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(q.validateStyle.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}(n,e):[]},i.prototype.addSourceType=function(t,e,n){return i.getSourceType(t)?n(new Error('A source type called "'+t+'" already exists.')):(i.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},i.prototype.getLight=function(){return this.light.getLight()},i.prototype.setLight=function(t){this._checkLoaded();var e=this.light.getLight(),n=!1;for(var r in t)if(!q.default$13(t[r],e[r])){n=!0;break}if(n){var i={now:q.default$2.now(),transition:q.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(i)}},i.prototype._validate=function(t,e,n,r,i){return(!i||!1!==i.validate)&&Oe(this,t.call(q.validateStyle,q.extend({key:e,style:this.serialize(),value:n,styleSpec:q.default$7},r)))},i.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),q.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},i.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},i.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},i.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},i.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},i.prototype._updatePlacement=function(t,e,n,r){for(var i=!1,o=!1,a={},s=0,u=this._order;s<u.length;s+=1){var l=u[s],c=this._layers[l];if("symbol"===c.type){if(!a[c.source]){var f=this.sourceCaches[c.source];a[c.source]=f.getRenderableIds().map(function(t){return f.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var h=this.crossTileSymbolIndex.addLayer(c,a[c.source],t.center.lng);i=i||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var p=this._layerOrderChanged;if((p||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(q.default$2.now()))&&(this.pauseablePlacement=new ke(t,this._order,p,e,n,r),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,q.default$2.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var d=0,m=this._order;d<m.length;d+=1){var y=m[d],v=this._layers[y];"symbol"===v.type&&this.placement.updateLayerOpacities(v,a[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(q.default$2.now())},i.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},i.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},i}(q.Evented);Re.getSourceType=function(t){return W[t]},Re.setSourceType=function(t,e){W[t]=e},Re.registerForPluginAvailability=q.registerForPluginAvailability;var Ne=q.createLayout([{name:"a_pos",type:"Int16",components:2}]),De={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field boxes in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"uniform float u_overscale_factor;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length / u_overscale_factor;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = clamp(\n        0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance),\n        0.0, // Prevents oversized near-field circles in pitched/overzoomed tiles\n        4.0);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\nuniform float u_maxzoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - u_maxzoom) * a) where a is an arbitrary value\n    // Here we use a=0.3 which works out to the expression below. see \n    // nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - u_maxzoom) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_linesofar;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},lineGradient:{fragmentSource:"\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nuniform sampler2D u_image;\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    // For gradient lines, v_lineprogress is the ratio along the entire line,\n    // scaled to [0, 2^15), and the gradient ramp is stored in a texture.\n    vec4 color = texture2D(u_image, vec2(v_lineprogress, 0.5));\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n// the attribute conveying progress along a line is scaled to [0, 2^15)\n#define MAX_LINE_DISTANCE 32767.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\nvarying highp float v_lineprogress;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    v_lineprogress = (floor(a_data.z / 4.0) + a_data.w * 64.0) * 2.0 / MAX_LINE_DISTANCE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n\n    // v_normal.y is 0 at the midpoint of the line, -1 at the lower edge, 1 at the upper edge\n    // we clamp the line width outset to be between 0 and half the pattern height plus padding (2.0)\n    // to ensure we don't sample outside the designated symbol on the sprite sheet.\n    // 0.5 is added to shift the component to be bounded between 0 and 1 for interpolation of\n    // the texture coordinate\n    float y_a = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_a.y + 2.0) / 2.0) / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * clamp(v_width2.s, 0.0, (u_pattern_size_b.y + 2.0) / 2.0) / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + (halfwidth == 0.0 ? 0.0 : ANTIALIASING);\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n            0.5 + 0.5 * distance_ratio,\n            0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n            4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = clamp(\n        0.5 + 0.5 * distance_ratio,\n        0.0, // Prevents oversized near-field symbols in pitched/overzoomed tiles\n        4.0);\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 32.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},Le=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,je=function(t){var e=De[t],a={};e.fragmentSource=e.fragmentSource.replace(Le,function(t,e,n,r,i){return a[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(Le,function(t,e,n,r,i){var o="float"===r?"vec2":"vec4";return a[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+o+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+o+"(a_"+i+", a_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})};for(var Fe in De)je(Fe);var Be=De,Ue=function(t,e,n,r){var i=t.gl;this.program=i.createProgram();var o=n.defines().concat("#define DEVICE_PIXEL_RATIO "+q.default$2.devicePixelRatio.toFixed(1));r&&o.push("#define OVERDRAW_INSPECTOR;");var a=o.concat(Be.prelude.fragmentSource,e.fragmentSource).join("\n"),s=o.concat(Be.prelude.vertexSource,e.vertexSource).join("\n"),u=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(u,a),i.compileShader(u),i.attachShader(this.program,u);var l=i.createShader(i.VERTEX_SHADER);i.shaderSource(l,s),i.compileShader(l),i.attachShader(this.program,l);for(var c=n.layoutAttributes||[],f=0;f<c.length;f++)i.bindAttribLocation(this.program,f,c[f].name);i.linkProgram(this.program),this.numAttributes=i.getProgramParameter(this.program,i.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var h=0;h<this.numAttributes;h++){var p=i.getActiveAttrib(this.program,h);p&&(this.attributes[p.name]=i.getAttribLocation(this.program,p.name))}for(var d=i.getProgramParameter(this.program,i.ACTIVE_UNIFORMS),m=0;m<d;m++){var y=i.getActiveUniform(this.program,m);y&&(this.uniforms[y.name]=i.getUniformLocation(this.program,y.name))}};function Ve(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o];if(r.isLessThan(a.tileID))break;if(e.key===a.tileID.key)return;if(a.tileID.isChildOf(e)){for(var s=e.children(1/0),u=0;u<s.length;u++)Ve(t,s[u],n.slice(o),r,i);return}}var l=e.overscaledZ-t.overscaledZ,c=new q.CanonicalTileID(l,e.canonical.x-(t.canonical.x<<l),e.canonical.y-(t.canonical.y<<l));i[c.key]=i[c.key]||c}function qe(t,e,n,r,i){var o=t.context,a=o.gl,s=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox");o.setDepthMode(Ct.disabled),o.setStencilMode(Pt.disabled),o.setColorMode(t.colorModeForRenderPass());for(var u=0;u<r.length;u++){var l=r[u],c=e.getTile(l),f=c.getBucket(n);if(f){var h=i?f.collisionCircle:f.collisionBox;if(h){a.uniformMatrix4fv(s.uniforms.u_matrix,!1,l.posMatrix),a.uniform1f(s.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var p=ue(c,1,t.transform.zoom),d=Math.pow(2,t.transform.zoom-c.tileID.overscaledZ);a.uniform1f(s.uniforms.u_pixels_to_tile_units,p),a.uniform2f(s.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(p*d),t.transform.pixelsToGLUnits[1]/(p*d)),a.uniform1f(s.uniforms.u_overscale_factor,c.tileID.overscaleFactor()),s.draw(o,i?a.TRIANGLES:a.LINES,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,h.collisionVertexBuffer,null)}}}}Ue.prototype.draw=function(t,e,n,r,i,o,a,s,u){for(var l,c=t.gl,f=(l={},l[c.LINES]=2,l[c.TRIANGLES]=3,l)[e],h=0,p=o.get();h<p.length;h+=1){var d=p[h],m=d.vaos||(d.vaos={});(m[n]||(m[n]=new B)).bind(t,this,r,a?a.getPaintVertexBuffers():[],i,d.vertexOffset,s,u),c.drawElements(e,d.primitiveLength*f,c.UNSIGNED_SHORT,d.primitiveOffset*f*2)}};var Ye=q.identity(new Float32Array(16)),We=q.default$18.layout;function $e(t,e,n,r,i,o,a,s,u,l){var c,f,h,p,d,m,y,v=t.context,g=v.gl,_=t.transform,b="map"===s,x="map"===u,w=b&&"point"!==n.layout.get("symbol-placement"),E=b&&!x&&!w,S=x;v.setDepthMode(S?t.depthModeForSublayer(0,Ct.ReadOnly):Ct.disabled);for(var k=0,M=r;k<M.length;k+=1){var T=M[k],C=e.getTile(T),P=C.getBucket(n);if(P){var A=i?P.text:P.icon;if(A&&A.segments.get().length){var O=A.programConfigurations.get(n.id),z=i||P.sdfIcons,I=i?P.textSizeData:P.iconSizeData;if(c||(c=t.useProgram(z?"symbolSDF":"symbolIcon",O),O.setUniforms(t.context,c,n.paint,{zoom:t.transform.zoom}),He(c,t,0,i,E,x,I)),v.activeTexture.set(g.TEXTURE0),g.uniform1i(c.uniforms.u_texture,0),i)C.glyphAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.uniform2fv(c.uniforms.u_texsize,C.glyphAtlasTexture.size);else{var R=1!==n.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear,N=x||0!==_.pitch;C.iconAtlasTexture.bind(z||t.options.rotating||t.options.zooming||R||N?g.LINEAR:g.NEAREST,g.CLAMP_TO_EDGE),g.uniform2fv(c.uniforms.u_texsize,C.iconAtlasTexture.size)}g.uniformMatrix4fv(c.uniforms.u_matrix,!1,t.translatePosMatrix(T.posMatrix,C,o,a));var D=ue(C,1,t.transform.zoom),L=Gt(T.posMatrix,x,b,t.transform,D),j=(f=T.posMatrix,h=x,p=b,d=t.transform,m=D,y=q.identity(new Float32Array(16)),h?(q.multiply(y,y,f),q.scale(y,y,[m,m,1]),p||q.rotateZ(y,y,-d.angle)):(q.scale(y,y,[1,-1,1]),q.translate(y,y,[-1,-1,0]),q.scale(y,y,[2/d.width,2/d.height,1])),y);g.uniformMatrix4fv(c.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(j,C,o,a,!0)),w?(g.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,Ye),Kt(P,T.posMatrix,t,i,L,j,x,l)):g.uniformMatrix4fv(c.uniforms.u_label_plane_matrix,!1,L),g.uniform1f(c.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),Ze(c,0,t,n,0,A,i,z,x)}}}}function He(t,e,n,r,i,o,a){var s=e.context.gl,u=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(t.uniforms.u_is_text,r?1:0),s.uniform1f(t.uniforms.u_pitch,u.pitch/360*2*Math.PI);var l="constant"===a.functionType||"source"===a.functionType,c="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,l?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,c?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var f=q.evaluateSizeForZoom(a,u.zoom,We.properties[r?"text-size":"icon-size"]);void 0!==f.uSizeT&&s.uniform1f(t.uniforms.u_size_t,f.uSizeT),void 0!==f.uSize&&s.uniform1f(t.uniforms.u_size,f.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,u.width/u.height),s.uniform1i(t.uniforms.u_rotate_symbol,i?1:0)}function Ze(t,e,n,r,i,o,a,s,u){var l=n.context,c=l.gl,f=n.transform;if(s){var h=0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),p=u?Math.cos(f._pitch)*f.cameraToCenterDistance:1;c.uniform1f(t.uniforms.u_gamma_scale,p),h&&(c.uniform1f(t.uniforms.u_is_halo,1),Ge(o,r,l,t)),c.uniform1f(t.uniforms.u_is_halo,0)}Ge(o,r,l,t)}function Ge(t,e,n,r){r.draw(n,n.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Xe(t,e,n,r,i,o,a,s,u){var l,c,f,h,p=e.context,d=p.gl,m=i.paint.get("line-dasharray"),y=i.paint.get("line-pattern");if(s||u){var v=1/ue(n,1,e.transform.tileZoom);if(m){l=e.lineAtlas.getDash(m.from,"round"===i.layout.get("line-cap")),c=e.lineAtlas.getDash(m.to,"round"===i.layout.get("line-cap"));var g=l.width*m.fromScale,_=c.width*m.toScale;d.uniform2f(t.uniforms.u_patternscale_a,v/g,-l.height/2),d.uniform2f(t.uniforms.u_patternscale_b,v/_,-c.height/2),d.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(g,_)*q.default$2.devicePixelRatio)/2)}else if(y){if(f=e.imageManager.getPattern(y.from),h=e.imageManager.getPattern(y.to),!f||!h)return;d.uniform2f(t.uniforms.u_pattern_size_a,f.displaySize[0]*y.fromScale/v,f.displaySize[1]),d.uniform2f(t.uniforms.u_pattern_size_b,h.displaySize[0]*y.toScale/v,h.displaySize[1]);var b=e.imageManager.getPixelSize(),x=b.width,w=b.height;d.uniform2fv(t.uniforms.u_texsize,[x,w])}d.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}s&&(m?(d.uniform1i(t.uniforms.u_image,0),p.activeTexture.set(d.TEXTURE0),e.lineAtlas.bind(p),d.uniform1f(t.uniforms.u_tex_y_a,l.y),d.uniform1f(t.uniforms.u_tex_y_b,c.y),d.uniform1f(t.uniforms.u_mix,m.t)):y&&(d.uniform1i(t.uniforms.u_image,0),p.activeTexture.set(d.TEXTURE0),e.imageManager.bind(p),d.uniform2fv(t.uniforms.u_pattern_tl_a,f.tl),d.uniform2fv(t.uniforms.u_pattern_br_a,f.br),d.uniform2fv(t.uniforms.u_pattern_tl_b,h.tl),d.uniform2fv(t.uniforms.u_pattern_br_b,h.br),d.uniform1f(t.uniforms.u_fade,y.t))),p.setStencilMode(e.stencilModeForClipping(o));var E=e.translatePosMatrix(o.posMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"));if(d.uniformMatrix4fv(t.uniforms.u_matrix,!1,E),d.uniform1f(t.uniforms.u_ratio,1/ue(n,1,e.transform.zoom)),i.paint.get("line-gradient")){p.activeTexture.set(d.TEXTURE0);var S=i.gradientTexture;if(!i.gradient)return;S||(S=i.gradientTexture=new q.default$4(p,i.gradient,d.RGBA)),S.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.uniform1i(t.uniforms.u_image,0)}t.draw(p,d.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,a)}var Ke=function(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);return!n||!r},Je=function(t,e,n){var r=e.context,i=r.gl,o=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);i.uniform1i(n.uniforms.u_image,0),i.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),i.uniform2fv(n.uniforms.u_pattern_br_a,o.br),i.uniform2fv(n.uniforms.u_pattern_tl_b,a.tl),i.uniform2fv(n.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),u=s.width,l=s.height;i.uniform2fv(n.uniforms.u_texsize,[u,l]),i.uniform1f(n.uniforms.u_mix,t.t),i.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),i.uniform2fv(n.uniforms.u_pattern_size_b,a.displaySize),i.uniform1f(n.uniforms.u_scale_a,t.fromScale),i.uniform1f(n.uniforms.u_scale_b,t.toScale),r.activeTexture.set(i.TEXTURE0),e.imageManager.bind(e.context)},Qe=function(t,e,n){var r=e.context.gl;r.uniform1f(n.uniforms.u_tile_units_to_pixels,1/ue(t,1,e.transform.tileZoom));var i=Math.pow(2,t.tileID.overscaledZ),o=t.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(t.tileID.canonical.x+t.tileID.wrap*i),s=o*t.tileID.canonical.y;r.uniform2f(n.uniforms.u_pixel_coord_upper,a>>16,s>>16),r.uniform2f(n.uniforms.u_pixel_coord_lower,65535&a,65535&s)};function tn(t,e,n,r,i){if(!Ke(n.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.getTile(u),c=l.getBucket(n);c&&(t.context.setStencilMode(t.stencilModeForClipping(u)),i(t,e,n,l,u,c,o),o=!1)}}function en(t,e,n,r,i,o,a){var s=t.context.gl,u=o.programConfigurations.get(n.id);rn("fill",n.paint.get("fill-pattern"),t,u,n,r,i,a).draw(t.context,s.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,u)}function nn(t,e,n,r,i,o,a){var s=t.context.gl,u=o.programConfigurations.get(n.id),l=rn("fillOutline",n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),t,u,n,r,i,a);s.uniform2f(l.uniforms.u_world,s.drawingBufferWidth,s.drawingBufferHeight),l.draw(t.context,s.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,u)}function rn(t,e,n,r,i,o,a,s){var u,l=n.context.program.get();return e?(u=n.useProgram(t+"Pattern",r),(s||u.program!==l)&&(r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom}),Je(e,n,u)),Qe(o,n,u)):(u=n.useProgram(t,r),(s||u.program!==l)&&r.setUniforms(n.context,u,i.paint,{zoom:n.transform.zoom})),n.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"))),u}function on(t,e,n,r,i,o,a){var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=t.context.program.get(),f=o.programConfigurations.get(n.id),h=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);if((a||h.program!==c)&&f.setUniforms(s,h,n.paint,{zoom:t.transform.zoom}),l){if(Ke(l,t))return;Je(l,t,h),Qe(r,t,h),u.uniform1f(h.uniforms.u_height_factor,-Math.pow(2,i.overscaledZ)/r.tileSize/8)}t.context.gl.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.translatePosMatrix(i.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),function(t,e){var n=e.context.gl,r=e.style.light,i=r.properties.get("position"),o=[i.x,i.y,i.z],a=q.create$2();"viewport"===r.properties.get("anchor")&&q.fromRotation(a,-e.transform.angle),q.transformMat3(o,o,a);var s=r.properties.get("color");n.uniform3fv(t.uniforms.u_lightpos,o),n.uniform1f(t.uniforms.u_lightintensity,r.properties.get("intensity")),n.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}(h,t),h.draw(s,u.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,f)}function an(t,e,n){var r,i,o,a,s,u,l,c=t.context,f=c.gl,h=e.fbo;if(h){var p=t.useProgram("hillshade"),d=t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),!0);a=p,s=t,l=(u=n).paint.get("hillshade-illumination-direction")*(Math.PI/180),"viewport"===u.paint.get("hillshade-illumination-anchor")&&(l-=s.transform.angle),s.context.gl.uniform2f(a.uniforms.u_light,u.paint.get("hillshade-exaggeration"),l);var m=(r=t,i=e.tileID.toCoordinate(),o=new q.default$15(i.column,i.row+1,i.zoom),[r.transform.coordinateLocation(i).lat,r.transform.coordinateLocation(o).lat]);c.activeTexture.set(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,h.colorAttachment.get()),f.uniformMatrix4fv(p.uniforms.u_matrix,!1,d),f.uniform2fv(p.uniforms.u_latrange,m),f.uniform1i(p.uniforms.u_image,0);var y=n.paint.get("hillshade-shadow-color");f.uniform4f(p.uniforms.u_shadow,y.r,y.g,y.b,y.a);var v=n.paint.get("hillshade-highlight-color");f.uniform4f(p.uniforms.u_highlight,v.r,v.g,v.b,v.a);var g=n.paint.get("hillshade-accent-color");if(f.uniform4f(p.uniforms.u_accent,g.r,g.g,g.b,g.a),e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments)p.draw(c,f.TRIANGLES,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments);else{var _=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(c,p,_,[]),f.drawArrays(f.TRIANGLE_STRIP,0,_.length)}}}function sn(t,e,n){var r=t.context,i=r.gl;if(e.dem&&e.dem.level){var o=e.dem.level.dim,a=e.dem.getPixels();if(r.activeTexture.set(i.TEXTURE1),r.pixelStoreUnpackPremultiplyAlpha.set(!1),e.demTexture=e.demTexture||t.getTileTexture(e.tileSize),e.demTexture){var s=e.demTexture;s.update(a,{premultiply:!1}),s.bind(i.NEAREST,i.CLAMP_TO_EDGE)}else e.demTexture=new q.default$4(r,a,i.RGBA,{premultiply:!1}),e.demTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE);r.activeTexture.set(i.TEXTURE0);var u=e.fbo;if(!u){var l=new q.default$4(r,{width:o,height:o,data:null},i.RGBA);l.bind(i.LINEAR,i.CLAMP_TO_EDGE),(u=e.fbo=r.createFramebuffer(o,o)).colorAttachment.set(l.texture)}r.bindFramebuffer.set(u.framebuffer),r.viewport.set([0,0,o,o]);var c=q.create();q.ortho(c,0,q.default$10,-q.default$10,0,0,1),q.translate(c,c,[0,-q.default$10,0]);var f=t.useProgram("hillshadePrepare");i.uniformMatrix4fv(f.uniforms.u_matrix,!1,c),i.uniform1f(f.uniforms.u_zoom,e.tileID.overscaledZ),i.uniform2fv(f.uniforms.u_dimension,[2*o,2*o]),i.uniform1i(f.uniforms.u_image,1),i.uniform1f(f.uniforms.u_maxzoom,n);var h=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(r,f,h,[]),i.drawArrays(i.TRIANGLE_STRIP,0,h.length),e.needsHillshadePrepare=!1}}function un(t,e,n,r,i){var o=r.paint.get("raster-fade-duration");if(0<o){var a=q.default$2.now(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,l=n.getSource(),c=i.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),f=!e||Math.abs(e.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),h=f&&t.refreshedUponExpiration?1:q.clamp(f?s:1-u,0,1);return t.refreshedUponExpiration&&1<=s&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function ln(t,e,n){var r=t.context,i=r.gl,o=n.posMatrix,a=t.useProgram("debug");r.setDepthMode(Ct.disabled),r.setStencilMode(Pt.disabled),r.setColorMode(t.colorModeForRenderPass()),i.uniformMatrix4fv(a.uniforms.u_matrix,!1,o),i.uniform4f(a.uniforms.u_color,1,0,0,1),t.debugVAO.bind(r,a,t.debugBuffer,[]),i.drawArrays(i.LINE_STRIP,0,t.debugBuffer.length);for(var s=function(t,e,n,r){r=r||1;var i,o,a,s,u,l,c,f,h=[];for(i=0,o=t.length;i<o;i++)if(u=cn[t[i]]){for(f=null,a=0,s=u[1].length;a<s;a+=2)f=-1===u[1][a]&&-1===u[1][a+1]?null:(l=e+u[1][a]*r,c=200-u[1][a+1]*r,f&&h.push(f.x,f.y,l,c),{x:l,y:c});e+=u[0]*r}return h}(n.toString(),50,0,5),u=new q.PosArray,l=0;l<s.length;l+=2)u.emplaceBack(s[l],s[l+1]);var c=r.createVertexBuffer(u,Ne.members);(new B).bind(r,a,c,[]),i.uniform4f(a.uniforms.u_color,1,1,1,1);for(var f=e.getTile(n).tileSize,h=q.default$10/(Math.pow(2,t.transform.zoom-n.overscaledZ)*f),p=[[-1,-1],[-1,1],[1,-1],[1,1]],d=0;d<p.length;d++){var m=p[d];i.uniformMatrix4fv(a.uniforms.u_matrix,!1,q.translate([],o,[h*m[0],h*m[1],0])),i.drawArrays(i.LINES,0,c.length)}i.uniform4f(a.uniforms.u_color,0,0,0,1),i.uniformMatrix4fv(a.uniforms.u_matrix,!1,o),i.drawArrays(i.LINES,0,c.length)}var cn={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},fn={symbol:function(t,e,n,r){if("translucent"===t.renderPass){var i=t.context;i.setStencilMode(Pt.disabled),i.setColorMode(t.colorModeForRenderPass()),0!==n.paint.get("icon-opacity").constantOr(1)&&$e(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&$e(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&(qe(o=t,a=e,s=n,u=r,!1),qe(o,a,s,u,!0))}var o,a,s,u},circle:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=t.context,u=s.gl;s.setDepthMode(t.depthModeForSublayer(0,Ct.ReadOnly)),s.setStencilMode(Pt.disabled),s.setColorMode(t.colorModeForRenderPass());for(var l=!0,c=0;c<r.length;c++){var f=r[c],h=e.getTile(f),p=h.getBucket(n);if(p){var d=t.context.program.get(),m=p.programConfigurations.get(n.id),y=t.useProgram("circle",m);if((l||y.program!==d)&&(m.setUniforms(s,y,n.paint,{zoom:t.transform.zoom}),l=!1),u.uniform1f(y.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),u.uniform1i(y.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){u.uniform1i(y.uniforms.u_pitch_with_map,1);var v=ue(h,1,t.transform.zoom);u.uniform2f(y.uniforms.u_extrude_scale,v,v)}else u.uniform1i(y.uniforms.u_pitch_with_map,0),u.uniform2fv(y.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);u.uniformMatrix4fv(y.uniforms.u_matrix,!1,t.translatePosMatrix(f.posMatrix,h,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),y.draw(s,u.TRIANGLES,n.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,m)}}}}},heatmap:function(t,e,n,r){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,o=i.gl;i.setDepthMode(t.depthModeForSublayer(0,Ct.ReadOnly)),i.setStencilMode(Pt.disabled),function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4))}}(i,t,n),i.clear({color:q.default$8.transparent}),i.setColorMode(new At([o.ONE,o.ONE],q.default$8.transparent,[!0,!0,!0,!0]));for(var a=!0,s=0;s<r.length;s++){var u=r[s];if(!e.hasRenderableParent(u)){var l=e.getTile(u),c=l.getBucket(n);if(c){var f=t.context.program.get(),h=c.programConfigurations.get(n.id),p=t.useProgram("heatmap",h),d=t.transform.zoom;(a||p.program!==f)&&(h.setUniforms(t.context,p,n.paint,{zoom:d}),a=!1),o.uniform1f(p.uniforms.u_extrude_scale,ue(l,1,d)),o.uniform1f(p.uniforms.u_intensity,n.paint.get("heatmap-intensity")),o.uniformMatrix4fv(p.uniforms.u_matrix,!1,u.posMatrix),p.draw(i,o.TRIANGLES,n.id,c.layoutVertexBuffer,c.indexBuffer,c.segments,h)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,e){var n=t.context,r=n.gl,i=e.heatmapFbo;if(i){n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(r.TEXTURE1);var o=e.colorRampTexture;o||(o=e.colorRampTexture=new q.default$4(n,e.colorRamp,r.RGBA)),o.bind(r.LINEAR,r.CLAMP_TO_EDGE),n.setDepthMode(Ct.disabled),n.setStencilMode(Pt.disabled);var a=t.useProgram("heatmapTexture"),s=e.paint.get("heatmap-opacity");r.uniform1f(a.uniforms.u_opacity,s),r.uniform1i(a.uniforms.u_image,0),r.uniform1i(a.uniforms.u_color_ramp,1);var u=q.create();q.ortho(u,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(a.uniforms.u_matrix,!1,u),r.uniform2f(a.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),t.viewportVAO.bind(t.context,a,t.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}(t,n))},line:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),o=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==o.constantOr(1)){var a=t.context;a.setDepthMode(t.depthModeForSublayer(0,Ct.ReadOnly)),a.setColorMode(t.colorModeForRenderPass());for(var s,u=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":n.paint.get("line-gradient")?"lineGradient":"line",l=!0,c=0,f=r;c<f.length;c+=1){var h=f[c],p=e.getTile(h),d=p.getBucket(n);if(d){var m=d.programConfigurations.get(n.id),y=t.context.program.get(),v=t.useProgram(u,m),g=l||v.program!==y,_=s!==p.tileID.overscaledZ;g&&m.setUniforms(t.context,v,n.paint,{zoom:t.transform.zoom}),Xe(v,t,p,d,n,h,m,g,_),s=p.tileID.overscaledZ,l=!1}}}}},fill:function(t,e,n,r){var i=n.paint.get("fill-color"),o=n.paint.get("fill-opacity");if(0!==o.constantOr(1)){var a=t.context;a.setColorMode(t.colorModeForRenderPass());var s=n.paint.get("fill-pattern")||1!==i.constantOr(q.default$8.transparent).a||1!==o.constantOr(0)?"translucent":"opaque";t.renderPass===s&&(a.setDepthMode(t.depthModeForSublayer(1,"opaque"===t.renderPass?Ct.ReadWrite:Ct.ReadOnly)),tn(t,e,n,r,en)),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&(a.setDepthMode(t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,Ct.ReadOnly)),tn(t,e,n,r,nn))}},"fill-extrusion":function(t,e,n,r){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===t.renderPass){!function(t,e){var n=t.context,r=n.gl,i=e.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!i){var o=new q.default$4(n,{width:t.width,height:t.height,data:null},r.RGBA);o.bind(r.LINEAR,r.CLAMP_TO_EDGE),(i=e.viewportFrame=n.createFramebuffer(t.width,t.height)).colorAttachment.set(o.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(n.clear({depth:1}),t.depthRboNeedsClear=!1),n.clear({color:q.default$8.transparent}),n.setStencilMode(Pt.disabled),n.setDepthMode(new Ct(r.LEQUAL,Ct.ReadWrite,[0,1])),n.setColorMode(t.colorModeForRenderPass())}(t,n);for(var i=!0,o=0,a=r;o<a.length;o+=1){var s=a[o],u=e.getTile(s),l=u.getBucket(n);l&&(on(t,0,n,u,s,l,i),i=!1)}}else"translucent"===t.renderPass&&function(t,e){var n=e.viewportFrame;if(n){var r=t.context,i=r.gl,o=t.useProgram("extrusionTexture");r.setStencilMode(Pt.disabled),r.setDepthMode(Ct.disabled),r.setColorMode(t.colorModeForRenderPass()),r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),i.uniform1f(o.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),i.uniform1i(o.uniforms.u_image,0);var a=q.create();q.ortho(a,0,t.width,t.height,0,0,1),i.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),i.uniform2f(o.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),t.viewportVAO.bind(r,o,t.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}(t,n)},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var i=t.context,o=e.getSource().maxzoom;i.setDepthMode(t.depthModeForSublayer(0,Ct.ReadOnly)),i.setStencilMode(Pt.disabled),i.setColorMode(t.colorModeForRenderPass());for(var a=0,s=r;a<s.length;a+=1){var u=s[a],l=e.getTile(u);l.needsHillshadePrepare&&"offscreen"===t.renderPass?sn(t,l,o):"translucent"===t.renderPass&&an(t,l,n)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")){var i,o,a=t.context,s=a.gl,u=e.getSource(),l=t.useProgram("raster");a.setStencilMode(Pt.disabled),a.setColorMode(t.colorModeForRenderPass()),s.uniform1f(l.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),s.uniform1f(l.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),s.uniform1f(l.uniforms.u_saturation_factor,0<(i=n.paint.get("raster-saturation"))?1-1/(1.001-i):-i),s.uniform1f(l.uniforms.u_contrast_factor,0<(o=n.paint.get("raster-contrast"))?1/(1-o):1+o),s.uniform3fv(l.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}(n.paint.get("raster-hue-rotate"))),s.uniform1f(l.uniforms.u_buffer_scale,1),s.uniform1i(l.uniforms.u_image0,0),s.uniform1i(l.uniforms.u_image1,1);for(var c=r.length&&r[0].overscaledZ,f=0,h=r;f<h.length;f+=1){var p=h[f];a.setDepthMode(t.depthModeForSublayer(p.overscaledZ-c,1===n.paint.get("raster-opacity")?Ct.ReadWrite:Ct.ReadOnly,s.LESS));var d=e.getTile(p),m=t.transform.calculatePosMatrix(p.toUnwrapped(),!0);d.registerFadeDuration(n.paint.get("raster-fade-duration")),s.uniformMatrix4fv(l.uniforms.u_matrix,!1,m);var y=e.findLoadedParent(p,0,{}),v=un(d,y,e,n,t.transform),g=void 0,_=void 0,b="nearest"===n.paint.get("raster-resampling")?s.NEAREST:s.LINEAR;if(a.activeTexture.set(s.TEXTURE0),d.texture.bind(b,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(s.TEXTURE1),y?(y.texture.bind(b,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),g=Math.pow(2,y.tileID.overscaledZ-d.tileID.overscaledZ),_=[d.tileID.canonical.x*g%1,d.tileID.canonical.y*g%1]):d.texture.bind(b,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),s.uniform2fv(l.uniforms.u_tl_parent,_||[0,0]),s.uniform1f(l.uniforms.u_scale_parent,g||1),s.uniform1f(l.uniforms.u_fade_t,v.mix),s.uniform1f(l.uniforms.u_opacity,v.opacity*n.paint.get("raster-opacity")),u instanceof U){var x=u.boundsBuffer;u.boundsVAO.bind(a,l,x,[]),s.drawArrays(s.TRIANGLE_STRIP,0,x.length)}else if(d.maskedBoundsBuffer&&d.maskedIndexBuffer&&d.segments)l.draw(a,s.TRIANGLES,n.id,d.maskedBoundsBuffer,d.maskedIndexBuffer,d.segments);else{var w=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(a,l,w,[]),s.drawArrays(s.TRIANGLE_STRIP,0,w.length)}}}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern"),c=l||1!==r.a||1!==i?"translucent":"opaque";if(t.renderPass===c){var f;if(o.setStencilMode(Pt.disabled),o.setDepthMode(t.depthModeForSublayer(0,"opaque"===c?Ct.ReadWrite:Ct.ReadOnly)),o.setColorMode(t.colorModeForRenderPass()),l){if(Ke(l,t))return;f=t.useProgram("backgroundPattern"),Je(l,t,f),t.tileExtentPatternVAO.bind(o,f,t.tileExtentBuffer,[])}else f=t.useProgram("background"),a.uniform4fv(f.uniforms.u_color,[r.r,r.g,r.b,r.a]),t.tileExtentVAO.bind(o,f,t.tileExtentBuffer,[]);a.uniform1f(f.uniforms.u_opacity,i);for(var h=0,p=s.coveringTiles({tileSize:u});h<p.length;h+=1){var d=p[h];l&&Qe({tileID:d,tileSize:u},t,f),a.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(d.toUnwrapped())),a.drawArrays(a.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)ln(t,e,n[r])}},hn=function(t,e){this.context=new Ot(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=zt.maxUnderzooming+zt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new q.default$22,this.crossTileSymbolIndex=new Ae};function pn(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function dn(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=0<t.dx,f=e.dx<0,h=o;h<a;h++){var p=u*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,h+f-e.y0))+e.x0;i(Math.floor(d),Math.ceil(p),h)}}function mn(t,e,n,r,i,o){var a,s=pn(t,e),u=pn(e,n),l=pn(n,t);s.dy>u.dy&&(a=s,s=u,u=a),s.dy>l.dy&&(a=s,s=l,l=a),u.dy>l.dy&&(a=u,u=l,l=a),s.dy&&dn(l,s,r,i,o),u.dy&&dn(l,u,r,i,o)}hn.prototype.resize=function(t,e){var n=this.context.gl;if(this.width=t*q.default$2.devicePixelRatio,this.height=e*q.default$2.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1){var o=i[r];this.style._layers[o].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},hn.prototype.setup=function(){var t=this.context,e=new q.PosArray;e.emplaceBack(0,0),e.emplaceBack(q.default$10,0),e.emplaceBack(0,q.default$10),e.emplaceBack(q.default$10,q.default$10),this.tileExtentBuffer=t.createVertexBuffer(e,Ne.members),this.tileExtentVAO=new B,this.tileExtentPatternVAO=new B;var n=new q.PosArray;n.emplaceBack(0,0),n.emplaceBack(q.default$10,0),n.emplaceBack(q.default$10,q.default$10),n.emplaceBack(0,q.default$10),n.emplaceBack(0,0),this.debugBuffer=t.createVertexBuffer(n,Ne.members),this.debugVAO=new B;var r=new q.RasterBoundsArray;r.emplaceBack(0,0,0,0),r.emplaceBack(q.default$10,0,q.default$10,0),r.emplaceBack(0,q.default$10,0,q.default$10),r.emplaceBack(q.default$10,q.default$10,q.default$10,q.default$10),this.rasterBoundsBuffer=t.createVertexBuffer(r,q.default$11.members),this.rasterBoundsVAO=new B;var i=new q.PosArray;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,Ne.members),this.viewportVAO=new B},hn.prototype.clearStencil=function(){var t=this.context,e=t.gl;t.setColorMode(At.disabled),t.setDepthMode(Ct.disabled),t.setStencilMode(new Pt({func:e.ALWAYS,mask:0},0,255,e.ZERO,e.ZERO,e.ZERO));var n=q.create();q.ortho(n,0,this.width,this.height,0,0,1),q.scale(n,n,[e.drawingBufferWidth,e.drawingBufferHeight,0]);var r=this.useProgram("clippingMask");e.uniformMatrix4fv(r.uniforms.u_matrix,!1,n),this.viewportVAO.bind(t,r,this.viewportBuffer,[]),e.drawArrays(e.TRIANGLE_STRIP,0,4)},hn.prototype._renderTileClippingMasks=function(t){var e=this.context,n=e.gl;e.setColorMode(At.disabled),e.setDepthMode(Ct.disabled);var r=1;this._tileClippingMaskIDs={};for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=this._tileClippingMaskIDs[a.key]=r++;e.setStencilMode(new Pt({func:n.ALWAYS,mask:0},s,255,n.KEEP,n.KEEP,n.REPLACE));var u=this.useProgram("clippingMask");n.uniformMatrix4fv(u.uniforms.u_matrix,!1,a.posMatrix),this.tileExtentVAO.bind(this.context,u,this.tileExtentBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}},hn.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Pt({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},hn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new At([t.CONSTANT_COLOR,t.ONE],new q.default$8(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?At.unblended:At.alphaBlended},hn.prototype.depthModeForSublayer=function(t,e,n){var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=r-1+this.depthRange;return new Ct(n||this.context.gl.LEQUAL,e,[i,r])},hn.prototype.render=function(t,e){var n=this;for(var r in this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(q.default$2.now()),t.sourceCaches){var i=n.style.sourceCaches[r];i.used&&i.prepare(n.context)}var o=this.style._order,a=q.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type}),s=function(t){var e=a[t];!function(t,e){for(var n=t.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),r=0;r<n.length;r++){var i={},o=n[r],a=n.slice(r+1);Ve(o.tileID.wrapped(),o.tileID,a,new q.OverscaledTileID(0,o.tileID.wrap+1,0,0,0),i),o.setMask(i,e)}}(e.getVisibleCoordinates().map(function(t){return e.getTile(t)}),n.context)};for(var u in a)s(u);this.renderPass="offscreen";var l,c=[];this.depthRboNeedsClear=!0;for(var f=0;f<o.length;f++){var h=n.style._layers[o[f]];h.hasOffscreenPass()&&!h.isHidden(n.transform.zoom)&&(h.source!==(l&&l.id)&&(c=[],(l=n.style.sourceCaches[h.source])&&(c=l.getVisibleCoordinates()).reverse()),c.length&&n.renderLayer(n,l,h,c))}this.context.bindFramebuffer.set(null),this.context.clear({color:e.showOverdrawInspector?q.default$8.black:q.default$8.transparent,depth:1}),this._showOverdrawInspector=e.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var p,d=[];for(this.currentLayer=o.length-1,this.currentLayer;0<=this.currentLayer;this.currentLayer--){var m=n.style._layers[o[n.currentLayer]];m.source!==(p&&p.id)&&(d=[],(p=n.style.sourceCaches[m.source])&&(n.clearStencil(),d=p.getVisibleCoordinates(),p.getSource().isTileClipped&&n._renderTileClippingMasks(d))),n.renderLayer(n,p,m,d)}this.renderPass="translucent";var y,v=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<o.length;this.currentLayer++){var g=n.style._layers[o[n.currentLayer]];g.source!==(y&&y.id)&&(v=[],(y=n.style.sourceCaches[g.source])&&(n.clearStencil(),v=y.getVisibleCoordinates(),y.getSource().isTileClipped&&n._renderTileClippingMasks(v)),v.reverse()),n.renderLayer(n,y,g,v)}if(this.options.showTileBoundaries){var _=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];_&&fn.debug(this,_,_.getVisibleCoordinates())}},hn.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},hn.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,fn[n.type](t,e,n,r))},hn.prototype.translatePosMatrix=function(t,e,n,r,i){if(!n[0]&&!n[1])return t;var o=i?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(o){var a=Math.sin(o),s=Math.cos(o);n=[n[0]*s-n[1]*a,n[0]*a+n[1]*s]}var u=[i?n[0]:ue(e,n[0],this.transform.zoom),i?n[1]:ue(e,n[1],this.transform.zoom),0],l=new Float32Array(16);return q.translate(l,t,u),l},hn.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},hn.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&0<e.length?e.pop():null},hn.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new Ue(this.context,Be[t],e,this._showOverdrawInspector)),this.cache[n]},hn.prototype.useProgram=function(t,e){var n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(n.program),n};var yn=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new I(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},vn={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},x:{configurable:!0},y:{configurable:!0},point:{configurable:!0}};yn.prototype.clone=function(){var t=new yn(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},vn.minZoom.get=function(){return this._minZoom},vn.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},vn.maxZoom.get=function(){return this._maxZoom},vn.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},vn.renderWorldCopies.get=function(){return this._renderWorldCopies},vn.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},vn.worldSize.get=function(){return this.tileSize*this.scale},vn.centerPoint.get=function(){return this.size._div(2)},vn.size.get=function(){return new q.default(this.width,this.height)},vn.bearing.get=function(){return-this.angle/Math.PI*180},vn.bearing.set=function(t){var e=-q.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=q.create$4(),q.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},vn.pitch.get=function(){return this._pitch/Math.PI*180},vn.pitch.set=function(t){var e=q.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},vn.fov.get=function(){return this._fov/Math.PI*180},vn.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},vn.zoom.get=function(){return this._zoom},vn.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},vn.center.get=function(){return this._center},vn.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},yn.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},yn.prototype.getVisibleUnwrappedCoordinates=function(t){var e=this.pointCoordinate(new q.default(0,0),0),n=this.pointCoordinate(new q.default(this.width,0),0),r=Math.floor(e.column),i=Math.floor(n.column),o=[new q.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var a=r;a<=i;a++)0!==a&&o.push(new q.UnwrappedTileID(a,t));return o},yn.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var r=this.pointCoordinate(this.centerPoint,e),i=new q.default(r.column-.5,r.row-.5);return function(s,t,u,l){void 0===l&&(l=!0);var c=1<<s,f={};function e(t,e,n){var r,i,o,a;if(0<=n&&n<=c)for(r=t;r<e;r++)i=Math.floor(r/c),o=(r%c+c)%c,0!==i&&!0!==l||(a=new q.OverscaledTileID(u,i,s,o,n),f[a.key]=a)}return mn(t[0],t[1],t[2],0,c,e),mn(t[2],t[3],t[0],0,c,e),Object.keys(f).map(function(t){return f[t]})}(e,[this.pointCoordinate(new q.default(0,0),e),this.pointCoordinate(new q.default(this.width,0),e),this.pointCoordinate(new q.default(this.width,this.height),e),this.pointCoordinate(new q.default(0,this.height),e)],t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return i.dist(t.canonical)-i.dist(e.canonical)})},yn.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},vn.unmodified.get=function(){return this._unmodified},yn.prototype.zoomScale=function(t){return Math.pow(2,t)},yn.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},yn.prototype.project=function(t){return new q.default(this.lngX(t.lng),this.latY(t.lat))},yn.prototype.unproject=function(t){return new I(this.xLng(t.x),this.yLat(t.y))},vn.x.get=function(){return this.lngX(this.center.lng)},vn.y.get=function(){return this.latY(this.center.lat)},vn.point.get=function(){return new q.default(this.x,this.y)},yn.prototype.lngX=function(t){return(180+t)*this.worldSize/360},yn.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},yn.prototype.xLng=function(t){return 360*t/this.worldSize-180},yn.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},yn.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},yn.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},yn.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},yn.prototype.locationCoordinate=function(t){return new q.default$15(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},yn.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new I(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},yn.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];q.transformMat4(n,n,this.pixelMatrixInverse),q.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[0]/i,s=r[0]/o,u=n[1]/i,l=r[1]/o,c=n[2]/i,f=r[2]/o,h=c===f?0:(0-c)/(f-c);return new q.default$15(q.number(a,s,h)/this.tileSize,q.number(u,l,h)/this.tileSize,this.zoom)._zoomTo(e)},yn.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return q.transformMat4(n,n,this.pixelMatrix),new q.default(n[0]/n[3],n[1]/n[3])},yn.prototype.calculatePosMatrix=function(t,e){void 0===e&&(e=!1);var n=t.key,r=e?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];var i=t.canonical,o=this.worldSize/this.zoomScale(i.z),a=i.x+Math.pow(2,i.z)*t.wrap,s=q.identity(new Float64Array(16));return q.translate(s,s,[a*o,i.y*o,0]),q.scale(s,s,[o/q.default$10,o/q.default$10,1]),q.multiply(s,e?this.alignedProjMatrix:this.projMatrix,s),r[n]=new Float32Array(s),r[n]},yn.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,r,i=-90,o=90,a=-180,s=180,u=this.size,l=this._unmodified;if(this.latRange){var c=this.latRange;i=this.latY(c[1]),t=(o=this.latY(c[0]))-i<u.y?u.y/(o-i):0}if(this.lngRange){var f=this.lngRange;a=this.lngX(f[0]),e=(s=this.lngX(f[1]))-a<u.x?u.x/(s-a):0}var h=Math.max(e||0,t||0);if(h)return this.center=this.unproject(new q.default(e?(s+a)/2:this.x,t?(o+i)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var p=this.y,d=u.y/2;p-d<i&&(r=i+d),o<p+d&&(r=o-d)}if(this.lngRange){var m=this.x,y=u.x/2;m-y<a&&(n=a+y),s<m+y&&(n=s-y)}void 0===n&&void 0===r||(this.center=this.unproject(new q.default(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=l,this._constraining=!1}},yn.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),r=this.x,i=this.y,o=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),a=new Float64Array(16);q.perspective(a,this._fov,this.width/this.height,1,o),q.scale(a,a,[1,-1,1]),q.translate(a,a,[0,0,-this.cameraToCenterDistance]),q.rotateX(a,a,this._pitch),q.rotateZ(a,a,this.angle),q.translate(a,a,[-r,-i,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));q.scale(a,a,[1,1,s,1]),this.projMatrix=a;var u=this.width%2/2,l=this.height%2/2,c=Math.cos(this.angle),f=Math.sin(this.angle),h=r-Math.round(r)+c*u+f*l,p=i-Math.round(i)+c*l+f*u,d=new Float64Array(a);if(q.translate(d,d,[.5<h?h-1:h,.5<p?p-1:p,0]),this.alignedProjMatrix=d,a=q.create(),q.scale(a,a,[this.width/2,-this.height/2,1]),q.translate(a,a,[1,-1,0]),this.pixelMatrix=q.multiply(new Float64Array(16),a,this.projMatrix),!(a=q.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},yn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new q.default(0,0)).zoomTo(this.zoom),e=[t.column*this.tileSize,t.row*this.tileSize,0,1];return q.transformMat4(e,e,this.pixelMatrix)[3]/this.cameraToCenterDistance},Object.defineProperties(yn.prototype,vn);var gn=function(){var t,e,n,r;q.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),e=!1,n=0,r=function(){n=0,e&&(t(),n=setTimeout(r,300),e=!1)},function(){return e=!0,n||r(),n})};gn.prototype.addTo=function(t){return this._map=t,q.default$1.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},gn.prototype.remove=function(){return q.default$1.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},gn.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},gn.prototype._onHashChange=function(){var t=q.default$1.location.hash.replace("#","").split("/");return 3<=t.length&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},gn.prototype._updateHashUnthrottled=function(){var t=this.getHashString();q.default$1.history.replaceState(q.default$1.history.state,"",t)};var _n=function(a){function t(t,e,n,r){void 0===r&&(r={});var i=g.mousePos(e.getCanvasContainer(),n),o=e.unproject(i);a.call(this,t,q.extend({point:i,lngLat:o,originalEvent:n},r)),this._defaultPrevented=!1,this.target=e}a&&(t.__proto__=a);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(q.Event),bn=function(s){function t(t,e,n){var r=g.touchPos(e.getCanvasContainer(),n),i=r.map(function(t){return e.unproject(t)}),o=r.reduce(function(t,e,n,r){return t.add(e.div(r.length))},new q.default(0,0)),a=e.unproject(o);s.call(this,t,{points:r,point:o,lngLats:i,lngLat:a,originalEvent:n}),this._defaultPrevented=!1}s&&(t.__proto__=s);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(s&&s.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(q.Event),xn=function(r){function t(t,e,n){r.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}r&&(t.__proto__=r);var e={defaultPrevented:{configurable:!0}};return((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.preventDefault=function(){this._defaultPrevented=!0},e.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,e),t}(q.Event),wn=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,q.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};wn.prototype.isEnabled=function(){return!!this._enabled},wn.prototype.isActive=function(){return!!this._active},wn.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},wn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},wn.prototype.onWheel=function(t){if(this.isEnabled()){var e=t.deltaMode===q.default$1.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=q.default$2.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":400<r?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()}},wn.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},wn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._map.fire(new q.Event("movestart",{originalEvent:t})),this._map.fire(new q.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var e=g.mousePos(this._el,t);this._around=I.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},wn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var e=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&4.000244140625<Math.abs(this._delta)?1/450:.01,r=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==r&&(r=1/r);var i="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(i*r))),"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o="number"==typeof this._targetZoom?this._targetZoom:e.zoom,a=this._startZoom,s=this._easing,u=!1;if("wheel"===this._type&&a&&s){var l=Math.min((q.default$2.now()-this._lastWheelEventTime)/200,1),c=s(l);e.zoom=q.number(a,o,c),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else e.zoom=o,u=!0;e.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new q.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new q.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.fire(new q.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new q.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},wn.prototype._smoothOutEasing=function(t){var e=q.ease;if(this._prevEase){var n=this._prevEase,r=(q.default$2.now()-n.start)/n.duration,i=n.easing(r+.01)-n.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);e=q.bezier(o,a,.25,1)}return this._prevEase={start:q.default$2.now(),duration:t,easing:e},e};var En=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1,q.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};En.prototype.isEnabled=function(){return!!this._enabled},En.prototype.isActive=function(){return!!this._active},En.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},En.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},En.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(q.default$1.document.addEventListener("mousemove",this._onMouseMove,!1),q.default$1.document.addEventListener("keydown",this._onKeyDown,!1),q.default$1.document.addEventListener("mouseup",this._onMouseUp,!1),g.disableDrag(),this._startPos=this._lastPos=g.mousePos(this._el,t),this._active=!0)},En.prototype._onMouseMove=function(t){var e=g.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=e,this._box||(this._box=g.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(n.x,e.x),i=Math.max(n.x,e.x),o=Math.min(n.y,e.y),a=Math.max(n.y,e.y);g.setTransform(this._box,"translate("+r+"px,"+o+"px)"),this._box.style.width=i-r+"px",this._box.style.height=a-o+"px"}},En.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=g.mousePos(this._el,t),r=(new R).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),g.suppressClick(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(r,{linear:!0}).fire(new q.Event("boxzoomend",{originalEvent:t,boxZoomBounds:r}))}},En.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},En.prototype._finish=function(){this._active=!1,q.default$1.document.removeEventListener("mousemove",this._onMouseMove,!1),q.default$1.document.removeEventListener("keydown",this._onKeyDown,!1),q.default$1.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(g.remove(this._box),this._box=null),g.enableDrag(),delete this._startPos,delete this._lastPos},En.prototype._fireEvent=function(t,e){return this._map.fire(new q.Event(t,{originalEvent:e}))};var Sn=q.bezier(0,0,.25,1),kn=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._state="disabled",this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,q.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};kn.prototype.isEnabled=function(){return"disabled"!==this._state},kn.prototype.isActive=function(){return"active"===this._state},kn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},kn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},kn.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=g.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==g.mouseButton(t))return;this._eventButton=0}g.disableDrag(),q.default$1.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),q.default$1.document.addEventListener("mouseup",this._onMouseUp),q.default$1.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[q.default$2.now(),this._map.getBearing()]],this._startPos=this._lastPos=g.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},kn.prototype._onMouseMove=function(t){var e=g.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},kn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform,n=this._startPos,r=this._lastPos,i=.8*(n.x-r.x),o=-.5*(n.y-r.y),a=e.bearing-i,s=e.pitch-o,u=this._inertia,l=u[u.length-1];this._drainInertiaBuffer(),u.push([q.default$2.now(),this._map._normalizeBearing(a,l[1])]),e.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=s),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},kn.prototype._onMouseUp=function(t){if(g.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",g.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},kn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},kn.prototype._unbind=function(){q.default$1.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),q.default$1.document.removeEventListener("mouseup",this._onMouseUp),q.default$1.removeEventListener("blur",this._onBlur),g.enableDrag()},kn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},kn.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)o();else{var a=i[0],s=i[i.length-1],u=i[i.length-2],l=n._normalizeBearing(r,u[1]),c=s[1]-a[1],f=c<0?-1:1,h=(s[0]-a[0])/1e3;if(0!==c&&0!==h){var p=Math.abs(c*(.25/h));180<p&&(p=180);var d=p/180;l+=f*p*(d/2),Math.abs(n._normalizeBearing(l,0))<this._bearingSnap&&(l=n._normalizeBearing(0,l)),n.rotateTo(l,{duration:1e3*d,easing:Sn,noMoveStart:!0},{originalEvent:t})}else o()}},kn.prototype._fireEvent=function(t,e){return this._map.fire(new q.Event(t,e?{originalEvent:e}:{}))},kn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=q.default$2.now();0<t.length&&160<e-t[0][0];)t.shift()};var Mn=q.bezier(0,0,.3,1),Tn=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=e.clickTolerance||1,q.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};Tn.prototype.isEnabled=function(){return"disabled"!==this._state},Tn.prototype.isActive=function(){return"active"===this._state},Tn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},Tn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},Tn.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==g.mouseButton(t)||(g.addEventListener(q.default$1.document,"mousemove",this._onMove,{capture:!0}),g.addEventListener(q.default$1.document,"mouseup",this._onMouseUp),this._start(t)))},Tn.prototype.onTouchStart=function(t){"enabled"===this._state&&(1<t.touches.length||(g.addEventListener(q.default$1.document,"touchmove",this._onMove,{capture:!0,passive:!1}),g.addEventListener(q.default$1.document,"touchend",this._onTouchEnd),this._start(t)))},Tn.prototype._start=function(t){q.default$1.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=g.mousePos(this._el,t),this._inertia=[[q.default$2.now(),this._startPos]]},Tn.prototype._onMove=function(t){t.preventDefault();var e=g.mousePos(this._el,t);this._lastPos.equals(e)||"pending"===this._state&&e.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=e,this._drainInertiaBuffer(),this._inertia.push([q.default$2.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},Tn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},Tn.prototype._onMouseUp=function(t){if(0===g.mouseButton(t))switch(this._state){case"active":this._state="enabled",g.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Tn.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},Tn.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},Tn.prototype._unbind=function(){g.removeEventListener(q.default$1.document,"touchmove",this._onMove,{capture:!0,passive:!1}),g.removeEventListener(q.default$1.document,"touchend",this._onTouchEnd),g.removeEventListener(q.default$1.document,"mousemove",this._onMove,{capture:!0}),g.removeEventListener(q.default$1.document,"mouseup",this._onMouseUp),g.removeEventListener(q.default$1,"blur",this._onBlur)},Tn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},Tn.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();1400<s&&(s=1400,a._unit()._mult(s));var u=s/750,l=a.mult(-u/2);this._map.panBy(l,{duration:1e3*u,easing:Mn,noMoveStart:!0},{originalEvent:t})}}},Tn.prototype._fireEvent=function(t,e){return this._map.fire(new q.Event(t,e?{originalEvent:e}:{}))},Tn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=q.default$2.now();0<t.length&&160<e-t[0][0];)t.shift()};var Cn=function(t){this._map=t,this._el=t.getCanvasContainer(),q.bindAll(["_onKeyDown"],this)};function Pn(t){return t*(2-t)}Cn.prototype.isEnabled=function(){return!!this._enabled},Cn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},Cn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},Cn.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:Pn,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var An=function(t){this._map=t,q.bindAll(["_onDblClick","_onZoomEnd"],this)};An.prototype.isEnabled=function(){return!!this._enabled},An.prototype.isActive=function(){return!!this._active},An.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},An.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},An.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(1<t.points.length||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout(function(){e._tapped=null},300)))},An.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},An.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},An.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var On=q.bezier(0,0,.15,1),zn=function(t){this._map=t,this._el=t.getCanvasContainer(),q.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};zn.prototype.isEnabled=function(){return!!this._enabled},zn.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},zn.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},zn.prototype.disableRotation=function(){this._rotationDisabled=!0},zn.prototype.enableRotation=function(){this._rotationDisabled=!1},zn.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var e=g.mousePos(this._el,t.touches[0]),n=g.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._gestureIntent=void 0,this._inertia=[],g.addEventListener(q.default$1.document,"touchmove",this._onMove,{passive:!1}),g.addEventListener(q.default$1.document,"touchend",this._onEnd)}},zn.prototype._getTouchEventData=function(t){var e=g.mousePos(this._el,t.touches[0]),n=g.mousePos(this._el,t.touches[1]),r=e.sub(n);return{vec:r,center:e.add(n).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},zn.prototype._onMove=function(t){if(2===t.touches.length){var e=this._getTouchEventData(t),n=e.vec,r=e.scale,i=e.bearing;if(!this._gestureIntent){var o=.15<Math.abs(1-r);10<Math.abs(i)?this._gestureIntent="rotate":o&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new q.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new q.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},zn.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var e=this._map.transform;this._startScale||(this._startScale=e.scale,this._startBearing=e.bearing);var n=this._getTouchEventData(this._lastTouchEvent),r=n.center,i=n.bearing,o=n.scale,a=e.pointLocation(r),s=e.locationPoint(a);"rotate"===t&&(e.bearing=this._startBearing+i),e.zoom=e.scaleZoom(this._startScale*o),e.setLocationAtPoint(a,s),this._map.fire(new q.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new q.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([q.default$2.now(),o,r])}},zn.prototype._onEnd=function(t){g.removeEventListener(q.default$1.document,"touchmove",this._onMove,{passive:!1}),g.removeEventListener(q.default$1.document,"touchend",this._onEnd);var e=this._gestureIntent,n=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,e){this._map.fire(new q.Event(e+"end",{originalEvent:t})),this._drainInertiaBuffer();var r=this._inertia,i=this._map;if(r.length<2)i.snapToNorth({},{originalEvent:t});else{var o=r[r.length-1],a=r[0],s=i.transform.scaleZoom(n*o[1]),u=i.transform.scaleZoom(n*a[1]),l=s-u,c=(o[0]-a[0])/1e3,f=o[2];if(0!==c&&s!==u){var h=.15*l/c;2.5<Math.abs(h)&&(h=0<h?2.5:-2.5);var p=1e3*Math.abs(h/(12*.15)),d=s+h*p/2e3;d<0&&(d=0),i.easeTo({zoom:d,duration:p,easing:On,around:this._aroundCenter?i.getCenter():i.unproject(f),noMoveStart:!0},{originalEvent:t})}else i.snapToNorth({},{originalEvent:t})}}},zn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=q.default$2.now();2<t.length&&160<e-t[0][0];)t.shift()};var In={scrollZoom:wn,boxZoom:En,dragRotate:kn,dragPan:Tn,keyboard:Cn,doubleClickZoom:An,touchZoomRotate:zn},Rn=function(n){function t(t,e){n.call(this),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=e.bearingSnap,q.bindAll(["_renderFrameCallback"],this)}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},t.prototype.panBy=function(t,e,n){return t=q.default.convert(t).mult(-1),this.panTo(this.transform.center,q.extend({offset:t},e),n)},t.prototype.panTo=function(t,e,n){return this.easeTo(q.extend({center:t},e),n)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},t.prototype.zoomTo=function(t,e,n){return this.easeTo(q.extend({zoom:t},e),n)},t.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},t.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},t.prototype.rotateTo=function(t,e,n){return this.easeTo(q.extend({bearing:t},e),n)},t.prototype.resetNorth=function(t,e){return this.rotateTo(0,q.extend({duration:1e3},t),e),this},t.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},t.prototype.cameraForBounds=function(t,e){if("number"==typeof(e=q.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){var n=e.padding;e.padding={top:n,bottom:n,right:n,left:n}}if(q.default$13(Object.keys(e.padding).sort(function(t,e){return t<e?-1:e<t?1:0}),["bottom","left","right","top"])){t=R.convert(t);var r=[(e.padding.left-e.padding.right)/2,(e.padding.top-e.padding.bottom)/2],i=Math.min(e.padding.right,e.padding.left),o=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+r[0],e.offset[1]+r[1]];var a=q.default.convert(e.offset),s=this.transform,u=s.project(t.getNorthWest()),l=s.project(t.getSouthEast()),c=l.sub(u),f=(s.width-2*i-2*Math.abs(a.x))/c.x,h=(s.height-2*o-2*Math.abs(a.y))/c.y;if(!(h<0||f<0))return e.center=s.unproject(u.add(l).div(2)),e.zoom=Math.min(s.scaleZoom(s.scale*Math.min(f,h)),e.maxZoom),e.bearing=0,e;q.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else q.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},t.prototype.fitBounds=function(t,e,n){var r=this.cameraForBounds(t,e);return r?(e=q.extend(r,e)).linear?this.easeTo(e,n):this.flyTo(e,n):this},t.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(r=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=I.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire(new q.Event("movestart",e)).fire(new q.Event("move",e)),r&&this.fire(new q.Event("zoomstart",e)).fire(new q.Event("zoom",e)).fire(new q.Event("zoomend",e)),i&&this.fire(new q.Event("rotatestart",e)).fire(new q.Event("rotate",e)).fire(new q.Event("rotateend",e)),o&&this.fire(new q.Event("pitchstart",e)).fire(new q.Event("pitch",e)).fire(new q.Event("pitchend",e)),this.fire(new q.Event("moveend",e))},t.prototype.easeTo=function(t,o){var a=this;this.stop(),!1===(t=q.extend({offset:[0,0],duration:500,easing:q.ease},t)).animate&&(t.duration=0);var s=this.transform,u=this.getZoom(),l=this.getBearing(),c=this.getPitch(),f="zoom"in t?+t.zoom:u,h="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:c,d=s.centerPoint.add(q.default.convert(t.offset)),e=s.pointLocation(d),n=I.convert(t.center||e);this._normalizeCenter(n);var m,y,v=s.project(e),g=s.project(n).sub(v),_=s.zoomScale(f-u);return t.around&&(m=I.convert(t.around),y=s.locationPoint(m)),this._zooming=f!==u,this._rotating=l!==h,this._pitching=p!==c,this._prepareEase(o,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(a._zooming&&(s.zoom=q.number(u,f,t)),a._rotating&&(s.bearing=q.number(l,h,t)),a._pitching&&(s.pitch=q.number(c,p,t)),m)s.setLocationAtPoint(m,y);else{var e=s.zoomScale(s.zoom-u),n=u<f?Math.min(2,_):Math.max(.5,_),r=Math.pow(n,1-t),i=s.unproject(v.add(g.mult(t*r)).mult(e));s.setLocationAtPoint(s.renderWorldCopies?i.wrap():i,d)}a._fireMoveEvents(o)},function(){t.delayEndEvents?a._easeEndTimeoutID=setTimeout(function(){return a._afterEase(o)},t.delayEndEvents):a._afterEase(o)},t),this},t.prototype._prepareEase=function(t,e){this._moving=!0,e||this.fire(new q.Event("movestart",t)),this._zooming&&this.fire(new q.Event("zoomstart",t)),this._rotating&&this.fire(new q.Event("rotatestart",t)),this._pitching&&this.fire(new q.Event("pitchstart",t))},t.prototype._fireMoveEvents=function(t){this.fire(new q.Event("move",t)),this._zooming&&this.fire(new q.Event("zoom",t)),this._rotating&&this.fire(new q.Event("rotate",t)),this._pitching&&this.fire(new q.Event("pitch",t))},t.prototype._afterEase=function(t){var e=this._zooming,n=this._rotating,r=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,e&&this.fire(new q.Event("zoomend",t)),n&&this.fire(new q.Event("rotateend",t)),r&&this.fire(new q.Event("pitchend",t)),this.fire(new q.Event("moveend",t))},t.prototype.flyTo=function(t,i){var o=this;this.stop(),t=q.extend({offset:[0,0],speed:1.2,curve:1.42,easing:q.ease},t);var a=this.transform,s=this.getZoom(),u=this.getBearing(),l=this.getPitch(),c="zoom"in t?q.clamp(+t.zoom,a.minZoom,a.maxZoom):s,f="bearing"in t?this._normalizeBearing(t.bearing,u):u,h="pitch"in t?+t.pitch:l,e=a.zoomScale(c-s),p=a.centerPoint.add(q.default.convert(t.offset)),n=a.pointLocation(p),r=I.convert(t.center||n);this._normalizeCenter(r);var d=a.project(n),m=a.project(r).sub(d),y=t.curve,v=Math.max(a.width,a.height),g=v/e,_=m.mag();if("minZoom"in t){var b=q.clamp(Math.min(t.minZoom,s,c),a.minZoom,a.maxZoom),x=v/a.zoomScale(b-s);y=Math.sqrt(x/_*2)}var w=y*y;function E(t){var e=(g*g-v*v+(t?-1:1)*w*w*_*_)/(2*(t?g:v)*w*_);return Math.log(Math.sqrt(e*e+1)-e)}function S(t){return(Math.exp(t)-Math.exp(-t))/2}function k(t){return(Math.exp(t)+Math.exp(-t))/2}var M=E(0),T=function(t){return k(M)/k(M+y*t)},C=function(t){return v*((k(M)*(S(e=M+y*t)/k(e))-S(M))/w)/_;var e},P=(E(1)-M)/y;if(Math.abs(_)<1e-6||!isFinite(P)){if(Math.abs(v-g)<1e-6)return this.easeTo(t,i);var A=g<v?-1:1;P=Math.abs(Math.log(g/v))/y,C=function(){return 0},T=function(t){return Math.exp(A*y*t)}}if("duration"in t)t.duration=+t.duration;else{var O="screenSpeed"in t?+t.screenSpeed/y:+t.speed;t.duration=1e3*P/O}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=u!==f,this._pitching=h!==l,this._prepareEase(i,!1),this._ease(function(t){var e=t*P,n=1/T(e);a.zoom=1===t?c:s+a.scaleZoom(n),o._rotating&&(a.bearing=q.number(u,f,t)),o._pitching&&(a.pitch=q.number(l,h,t));var r=a.unproject(d.add(m.mult(C(e))).mult(n));a.setLocationAtPoint(a.renderWorldCopies?r.wrap():r,p),o._fireMoveEvents(i)},function(){return o._afterEase(i)},t),this},t.prototype.isEasing=function(){return!!this._easeFrameId},t.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},t.prototype._ease=function(t,e,n){!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=q.default$2.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=e,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},t.prototype._renderFrameCallback=function(){var t=Math.min((q.default$2.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},t.prototype._normalizeBearing=function(t,e){t=q.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},t.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=180<n?-360:n<-180?360:0}},t}(q.Evented),Nn=function(t){void 0===t&&(t={}),this.options=t,q.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Nn.prototype.getDefaultPosition=function(){return"bottom-right"},Nn.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Nn.prototype.onRemove=function(){g.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Nn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:l.ACCESS_TOKEN}];if(t){var e=r.reduce(function(t,e,n){return e.value&&(t+=e.key+"="+e.value+(n<r.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},Nn.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},Nn.prototype._updateAttributions=function(){if(this._map.style){var r=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var e=this._map.style.sourceCaches;for(var n in e){var i=e[n].getSource();i.attribution&&r.indexOf(i.attribution)<0&&r.push(i.attribution)}r.sort(function(t,e){return t.length-e.length}),(r=r.filter(function(t,e){for(var n=e+1;n<r.length;n++)if(0<=r[n].indexOf(t))return!1;return!0})).length?(this._container.innerHTML=r.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Nn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Dn=function(){q.bindAll(["_updateLogo"],this),q.bindAll(["_updateCompact"],this)};Dn.prototype.onAdd=function(t){this._map=t,this._container=g.create("div","mapboxgl-ctrl");var e=g.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Dn.prototype.onRemove=function(){g.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Dn.prototype.getDefaultPosition=function(){return"bottom-left"},Dn.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Dn.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Dn.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Ln=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ln.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Ln.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},Ln.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ln.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var jn=q.default$1.HTMLImageElement,Fn=q.default$1.HTMLElement,Bn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Un=function(s){function t(t){if(null!=(t=q.extend({},Bn,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var e=new yn(t.minZoom,t.maxZoom,t.renderWorldCopies);s.call(this,e,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new Ln;var n=t.transformRequest;if(this._transformRequest=n?function(t,e){return n(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof t.container){var r=q.default$1.document.getElementById(t.container);if(!r)throw new Error("Container '"+t.container+"' not found.");this._container=r}else{if(!(t.container instanceof Fn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),q.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==q.default$1&&(q.default$1.addEventListener("online",this._onWindowOnline,!1),q.default$1.addEventListener("resize",this._onWindowResize,!1)),function(n,r){var i=n.getCanvasContainer(),o=null,a=!1,s=null;for(var t in In)n[t]=new In[t](n,r),r.interactive&&r[t]&&n[t].enable(r[t]);g.addEventListener(i,"mouseout",function(t){n.fire(new _n("mouseout",n,t))}),g.addEventListener(i,"mousedown",function(t){a=!0,s=g.mousePos(i,t);var e=new _n("mousedown",n,t);n.fire(e),e.defaultPrevented||(r.interactive&&!n.doubleClickZoom.isActive()&&n.stop(),n.boxZoom.onMouseDown(t),n.boxZoom.isActive()||n.dragPan.isActive()||n.dragRotate.onMouseDown(t),n.boxZoom.isActive()||n.dragRotate.isActive()||n.dragPan.onMouseDown(t))}),g.addEventListener(i,"mouseup",function(t){var e=n.dragRotate.isActive();o&&!e&&n.fire(new _n("contextmenu",n,o)),o=null,a=!1,n.fire(new _n("mouseup",n,t))}),g.addEventListener(i,"mousemove",function(t){if(!n.dragPan.isActive()&&!n.dragRotate.isActive()){for(var e=t.target;e&&e!==i;)e=e.parentNode;e===i&&n.fire(new _n("mousemove",n,t))}}),g.addEventListener(i,"mouseover",function(t){for(var e=t.target;e&&e!==i;)e=e.parentNode;e===i&&n.fire(new _n("mouseover",n,t))}),g.addEventListener(i,"touchstart",function(t){var e=new bn("touchstart",n,t);n.fire(e),e.defaultPrevented||(r.interactive&&n.stop(),n.boxZoom.isActive()||n.dragRotate.isActive()||n.dragPan.onTouchStart(t),n.touchZoomRotate.onStart(t),n.doubleClickZoom.onTouchStart(e))},{passive:!1}),g.addEventListener(i,"touchmove",function(t){n.fire(new bn("touchmove",n,t))},{passive:!1}),g.addEventListener(i,"touchend",function(t){n.fire(new bn("touchend",n,t))}),g.addEventListener(i,"touchcancel",function(t){n.fire(new bn("touchcancel",n,t))}),g.addEventListener(i,"click",function(t){var e=g.mousePos(i,t);(e.equals(s)||e.dist(s)<r.clickTolerance)&&n.fire(new _n("click",n,t))}),g.addEventListener(i,"dblclick",function(t){var e=new _n("dblclick",n,t);n.fire(e),e.defaultPrevented||n.doubleClickZoom.onDblClick(e)}),g.addEventListener(i,"contextmenu",function(t){var e=n.dragRotate.isActive();a||e?a&&(o=t):n.fire(new _n("contextmenu",n,t)),t.preventDefault()}),g.addEventListener(i,"wheel",function(t){r.interactive&&n.stop();var e=new xn("wheel",n,t);n.fire(e),e.defaultPrevented||n.scrollZoom.onWheel(t)},{passive:!1})}(this,t),this._hash=t.hash&&(new gn).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Nn),this.addControl(new Dn,t.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}s&&(t.__proto__=s);var e={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return((t.prototype=Object.create(s&&s.prototype)).constructor=t).prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),r=this._controlPositions[e];return-1!==e.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(t){return t.onRemove(this),this},t.prototype.resize=function(t){var e=this._containerDimensions(),n=e[0],r=e[1];return this._resizeCanvas(n,r),this.transform.resize(n,r),this.painter.resize(n,r),this.fire(new q.Event("movestart",t)).fire(new q.Event("move",t)).fire(new q.Event("resize",t)).fire(new q.Event("moveend",t)),this},t.prototype.getBounds=function(){return(new R).extend(this.transform.pointLocation(new q.default(0,0))).extend(this.transform.pointLocation(new q.default(this.transform.width,0))).extend(this.transform.pointLocation(new q.default(this.transform.width,this.transform.height))).extend(this.transform.pointLocation(new q.default(0,this.transform.height)))},t.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new R([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},t.prototype.setMaxBounds=function(t){if(t){var e=R.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null==t&&(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},t.prototype.setMinZoom=function(t){if(0<=(t=null==t?0:t)&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},t.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update(),this},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(t){return this.transform.locationPoint(I.convert(t))},t.prototype.unproject=function(t){return this.transform.pointLocation(q.default.convert(t))},t.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},t.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isActive()},t.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},t.prototype.on=function(r,i,o){var t,a=this;if(void 0===o)return s.prototype.on.call(this,r,i);var e=function(){if("mouseenter"===r||"mouseover"===r){var n=!1;return{layer:i,listener:o,delegates:{mousemove:function(t){var e=a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length?n||(n=!0,o.call(a,new _n(r,a,t.originalEvent,{features:e}))):n=!1},mouseout:function(){n=!1}}}}if("mouseleave"!==r&&"mouseout"!==r)return{layer:i,listener:o,delegates:(t={},t[r]=function(t){var e=a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length&&(t.features=e,o.call(a,t),delete t.features)},t)};var e=!1;return{layer:i,listener:o,delegates:{mousemove:function(t){(a.getLayer(i)?a.queryRenderedFeatures(t.point,{layers:[i]}):[]).length?e=!0:e&&(e=!1,o.call(a,new _n(r,a,t.originalEvent)))},mouseout:function(t){e&&(e=!1,o.call(a,new _n(r,a,t.originalEvent)))}}}}();for(var n in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[r]=this._delegatedListeners[r]||[],this._delegatedListeners[r].push(e),e.delegates)a.on(n,e.delegates[n]);return this},t.prototype.off=function(t,e,n){if(void 0===n)return s.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var r=this._delegatedListeners[t],i=0;i<r.length;i++){var o=r[i];if(o.layer===e&&o.listener===n){for(var a in o.delegates)this.off(a,o.delegates[a]);return r.splice(i,1),this}}return this},t.prototype.queryRenderedFeatures=function(t,e){var n;return e=2===arguments.length?(t=arguments[0],arguments[1]):1===arguments.length&&((n=arguments[0])instanceof q.default||Array.isArray(n))?(t=arguments[0],{}):1===arguments.length?(t=void 0,arguments[0]):(t=void 0,{}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform):[]},t.prototype._makeQueryGeometry=function(t){var e,n=this;if(void 0===t&&(t=[q.default.convert([0,0]),q.default.convert([this.transform.width,this.transform.height])]),t instanceof q.default||"number"==typeof t[0])e=[q.default.convert(t)];else{var r=[q.default.convert(t[0]),q.default.convert(t[1])];e=[r[0],new q.default(r[1].x,r[0].y),r[1],new q.default(r[0].x,r[1].y),r[0]]}return{viewport:e,worldCoordinate:e.map(function(t){return n.transform.pointCoordinate(t)})}},t.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},t.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){q.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Re(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t)):delete this.style,this},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():q.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},t.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];if(void 0!==e)return e.loaded();this.fire(new q.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},t.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},t.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},t.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},t.prototype.getSource=function(t){return this.style.getSource(t)},t.prototype.addImage=function(t,e,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var i=n.sdf;if(void 0===i&&(i=!1),e instanceof jn){var o=q.default$2.getImageData(e),a=o.width,s=o.height,u=o.data;this.style.addImage(t,{data:new q.RGBAImage({width:a,height:s},u),pixelRatio:r,sdf:i})}else{if(void 0===e.width||void 0===e.height)return this.fire(new q.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var l=e.width,c=e.height,f=e.data;this.style.addImage(t,{data:new q.RGBAImage({width:l,height:c},new Uint8Array(f)),pixelRatio:r,sdf:i})}},t.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new q.ErrorEvent(new Error("Missing required image id"))),!1)},t.prototype.removeImage=function(t){this.style.removeImage(t)},t.prototype.loadImage=function(t,e){q.getImage(this._transformRequest(t,q.ResourceType.Image),e)},t.prototype.listImages=function(){return this.style.listImages()},t.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},t.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},t.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},t.prototype.getLayer=function(t){return this.style.getLayer(t)},t.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},t.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},t.prototype.getFilter=function(t){return this.style.getFilter(t)},t.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0),this},t.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},t.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},t.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},t.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.setFeatureState=function(t,e){this.style.setFeatureState(t,e),this._update()},t.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},t.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==q.default$1.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&q.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},t.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=g.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=g.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=g.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=g.create("div","mapboxgl-control-container",t),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){i[t]=g.create("div","mapboxgl-ctrl-"+t,r)})},t.prototype._resizeCanvas=function(t,e){var n=q.default$1.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},t.prototype._setupPainter=function(){var t=q.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},n.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);e?this.painter=new hn(e,this.transform):this.fire(new q.ErrorEvent(new Error("Failed to initialize WebGL")))},t.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new q.Event("webglcontextlost",{originalEvent:t}))},t.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new q.Event("webglcontextrestored",{originalEvent:t}))},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},t.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},t.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},t.prototype._render=function(){this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,n=q.default$2.now();this.style.zoomHistory.update(e,n);var r=new q.default$23(e,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(r)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),fadeDuration:this._fadeDuration}),this.fire(new q.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new q.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==q.default$1&&(q.default$1.removeEventListener("resize",this._onWindowResize,!1),q.default$1.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),Vn(this._canvasContainer),Vn(this._controlContainer),Vn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new q.Event("remove"))},t.prototype._rerender=function(){var t=this;this.style&&!this._frame&&(this._frame=q.default$2.frame(function(){t._frame=null,t._render()}))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},e.showTileBoundaries.get=function(){return!!this._showTileBoundaries},e.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},e.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},e.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&((this._showCollisionBoxes=t)?this.style._generateCollisionBoxes():this._update())},e.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},e.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},e.repaint.get=function(){return!!this._repaint},e.repaint.set=function(t){this._repaint=t,this._update()},e.vertices.get=function(){return!!this._vertices},e.vertices.set=function(t){this._vertices=t,this._update()},t.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(new q.Event(t.dataType+"data",t))},t.prototype._onDataLoading=function(t){this.fire(new q.Event(t.dataType+"dataloading",t))},Object.defineProperties(t.prototype,e),t}(Rn);function Vn(t){t.parentNode&&t.parentNode.removeChild(t)}var qn={showCompass:!0,showZoom:!0},Yn=function(t){var e=this;this.options=q.extend({},qn,t),this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()})),this.options.showCompass&&(q.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=g.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Wn(t,e,n){if(t=new I(t.lng,t.lat),e){var r=new I(t.lng-360,t.lat),i=new I(t.lng+360,t.lat),o=n.locationPoint(t).distSqr(e);n.locationPoint(r).distSqr(e)<o?t=r:n.locationPoint(i).distSqr(e)<o&&(t=i)}for(;180<Math.abs(t.lng-n.center.lng);){var a=n.locationPoint(t);if(0<=a.x&&0<=a.y&&a.x<=n.width&&a.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Yn.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Yn.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new kn(t,{button:"left",element:this._compass}),g.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Yn.prototype.onRemove=function(){g.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),g.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Yn.prototype._createButton=function(t,e,n){var r=g.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",n),r};var $n={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Hn(t,e,n){var r=t.classList;for(var i in $n)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Zn,Gn=function(v){function t(t){if(v.call(this),(arguments[0]instanceof q.default$1.HTMLElement||2===arguments.length)&&(t=q.extend({element:t},arguments[1])),q.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._draggable=t&&t.draggable||!1,this._state="inactive",t&&t.element)this._element=t.element,this._offset=q.default.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=g.create("div");var e=g.createNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS(null,"height","41px"),e.setAttributeNS(null,"width","27px"),e.setAttributeNS(null,"viewBox","0 0 27 41");var n=g.createNS("http://www.w3.org/2000/svg","g");n.setAttributeNS(null,"stroke","none"),n.setAttributeNS(null,"stroke-width","1"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"fill-rule","evenodd");var r=g.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"fill-rule","nonzero");var i=g.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"transform","translate(3.0, 29.0)"),i.setAttributeNS(null,"fill","#000000");for(var o=0,a=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];o<a.length;o+=1){var s=a[o],u=g.createNS("http://www.w3.org/2000/svg","ellipse");u.setAttributeNS(null,"opacity","0.04"),u.setAttributeNS(null,"cx","10.5"),u.setAttributeNS(null,"cy","5.80029008"),u.setAttributeNS(null,"rx",s.rx),u.setAttributeNS(null,"ry",s.ry),i.appendChild(u)}var l=g.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"fill",this._color);var c=g.createNS("http://www.w3.org/2000/svg","path");c.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),l.appendChild(c);var f=g.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");var h=g.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(h);var p=g.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"transform","translate(6.0, 7.0)"),p.setAttributeNS(null,"fill","#FFFFFF");var d=g.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"transform","translate(8.0, 8.0)");var m=g.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#000000"),m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962");var y=g.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),d.appendChild(m),d.appendChild(y),r.appendChild(i),r.appendChild(l),r.appendChild(f),r.appendChild(p),r.appendChild(d),e.appendChild(r),this._element.appendChild(e),this._offset=q.default.convert(t&&t.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return v&&(t.__proto__=v),((t.prototype=Object.create(v&&v.prototype)).constructor=t).prototype.addTo=function(t){return this.remove(),(this._map=t).getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},t.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),delete this._map),g.remove(this._element),this._popup&&this._popup.remove(),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(t){return this._lngLat=I.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},t.prototype.getElement=function(){return this._element},t.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},t.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},t.prototype.getPopup=function(){return this._popup},t.prototype.togglePopup=function(){var t=this._popup;return t&&(t.isOpen()?t.remove():t.addTo(this._map)),this},t.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Wn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),g.setTransform(this._element,$n[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),Hn(this._element,this._anchor,"marker"))},t.prototype.getOffset=function(){return this._offset},t.prototype.setOffset=function(t){return this._offset=q.default.convert(t),this._update(),this},t.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new q.Event("dragstart"))),this.fire(new q.Event("drag"))},t.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new q.Event("dragend")),this._state="inactive"},t.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},t.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},t.prototype.isDraggable=function(){return this._draggable},t}(q.Evented),Xn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Kn=function(e){function t(t){e.call(this),this.options=q.extend({},Xn,t),q.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.onAdd=function(t){var e;return this._map=t,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),e=this._setupUI,void 0!==Zn?e(Zn):void 0!==q.default$1.navigator.permissions?q.default$1.navigator.permissions.query({name:"geolocation"}).then(function(t){Zn="denied"!==t.state,e(Zn)}):(Zn=!!q.default$1.navigator.geolocation,e(Zn)),this._container},t.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(q.default$1.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),g.remove(this._container),this._map=void 0},t.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new q.Event("geolocate",t)),this._finish()},t.prototype._updateCamera=function(t){var e=new I(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},t.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},t.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new q.Event("error",t)),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(t){var e=this;!1!==t?(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=g.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Gn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire(new q.Event("trackuserlocationend")))})):q.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},t.prototype.trigger=function(){if(!this._setup)return q.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new q.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new q.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new q.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=q.default$1.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else q.default$1.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},t.prototype._clearWatch=function(){q.default$1.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},t}(q.Evented),Jn={maxWidth:100,unit:"metric"},Qn=function(t){this.options=q.extend({},Jn,t),q.bindAll(["_onMove","setUnit"],this)};function tr(t,e,n){var r,i,o,a,s,u,l=n&&n.maxWidth||100,c=t._container.clientHeight/2,f=(r=t.unproject([0,c]),i=t.unproject([l,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,u=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(u,1)));if(n&&"imperial"===n.unit){var h=3.2808*f;5280<h?er(e,l,h/5280,"mi"):er(e,l,h,"ft")}else n&&"nautical"===n.unit?er(e,l,f/1852,"nm"):er(e,l,f,"m")}function er(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=10<=(a=i/o)?10:5<=a?5:3<=a?3:2<=a?2:1)),u=s/n;"m"===r&&1e3<=s&&(s/=1e3,r="km"),t.style.width=e*u+"px",t.innerHTML=s+r}Qn.prototype.getDefaultPosition=function(){return"bottom-left"},Qn.prototype._onMove=function(){tr(this._map,this._container,this.options)},Qn.prototype.onAdd=function(t){return this._map=t,this._container=g.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Qn.prototype.onRemove=function(){g.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Qn.prototype.setUnit=function(t){this.options.unit=t,tr(this._map,this._container,this.options)};var nr=function(){this._fullscreen=!1,q.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in q.default$1.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in q.default$1.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in q.default$1.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in q.default$1.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};nr.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=g.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",q.warnOnce("This device does not support fullscreen mode.")),this._container},nr.prototype.onRemove=function(){g.remove(this._container),this._map=null,q.default$1.document.removeEventListener(this._fullscreenchange,this._changeIcon)},nr.prototype._checkFullscreenSupport=function(){return!!(q.default$1.document.fullscreenEnabled||q.default$1.document.mozFullScreenEnabled||q.default$1.document.msFullscreenEnabled||q.default$1.document.webkitFullscreenEnabled)},nr.prototype._setupUI=function(){var t=this._fullscreenButton=g.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),q.default$1.document.addEventListener(this._fullscreenchange,this._changeIcon)},nr.prototype._isFullscreen=function(){return this._fullscreen},nr.prototype._changeIcon=function(){(q.default$1.document.fullscreenElement||q.default$1.document.mozFullScreenElement||q.default$1.document.webkitFullscreenElement||q.default$1.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},nr.prototype._onClickFullscreen=function(){this._isFullscreen()?q.default$1.document.exitFullscreen?q.default$1.document.exitFullscreen():q.default$1.document.mozCancelFullScreen?q.default$1.document.mozCancelFullScreen():q.default$1.document.msExitFullscreen?q.default$1.document.msExitFullscreen():q.default$1.document.webkitCancelFullScreen&&q.default$1.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()};var rr={closeButton:!0,closeOnClick:!0,className:""},ir=function(e){function t(t){e.call(this),this.options=q.extend(Object.create(rr),t),q.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this.fire(new q.Event("open")),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&g.remove(this._content),this._container&&(g.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire(new q.Event("close")),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(t){return this._lngLat=I.convert(t),this._pos=null,this._update(),this},t.prototype.setText=function(t){return this.setDOMContent(q.default$1.document.createTextNode(t))},t.prototype.setHTML=function(t){var e,n=q.default$1.document.createDocumentFragment(),r=q.default$1.document.createElement("body");for(r.innerHTML=t;e=r.firstChild;)n.appendChild(e);return this.setDOMContent(n)},t.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},t.prototype._createContent=function(){this._content&&g.remove(this._content),this._content=g.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=g.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=g.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=g.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return e._container.classList.add(t)})),this._map.transform.renderWorldCopies&&(this._lngLat=Wn(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),n=this.options.anchor,r=function t(e){if(e){if("number"==typeof e){var n=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{center:new q.default(0,0),top:new q.default(0,e),"top-left":new q.default(n,n),"top-right":new q.default(-n,n),bottom:new q.default(0,-e),"bottom-left":new q.default(n,-n),"bottom-right":new q.default(-n,-n),left:new q.default(e,0),right:new q.default(-e,0)}}if(e instanceof q.default||Array.isArray(e)){var r=q.default.convert(e);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:q.default.convert(e.center||[0,0]),top:q.default.convert(e.top||[0,0]),"top-left":q.default.convert(e["top-left"]||[0,0]),"top-right":q.default.convert(e["top-right"]||[0,0]),bottom:q.default.convert(e.bottom||[0,0]),"bottom-left":q.default.convert(e["bottom-left"]||[0,0]),"bottom-right":q.default.convert(e["bottom-right"]||[0,0]),left:q.default.convert(e.left||[0,0]),right:q.default.convert(e.right||[0,0])}}return t(new q.default(0,0))}(this.options.offset);if(!n){var i,o=this._container.offsetWidth,a=this._container.offsetHeight;i=t.y+r.bottom.y<a?["top"]:t.y>this._map.transform.height-a?["bottom"]:[],t.x<o/2?i.push("left"):t.x>this._map.transform.width-o/2&&i.push("right"),n=0===i.length?"bottom":i.join("-")}var s=t.add(r[n]).round();g.setTransform(this._container,$n[n]+" translate("+s.x+"px,"+s.y+"px)"),Hn(this._container,n,"popup")}},t.prototype._onClickClose=function(){this.remove()},t}(q.Evented),or={version:"0.47.0",supported:n,workerCount:Math.max(Math.floor(q.default$2.hardwareConcurrency/2),1),setRTLTextPlugin:q.setRTLTextPlugin,Map:Un,NavigationControl:Yn,GeolocateControl:Kn,AttributionControl:Nn,ScaleControl:Qn,FullscreenControl:nr,Popup:ir,Marker:Gn,Style:Re,LngLat:I,LngLatBounds:R,Point:q.default,Evented:q.Evented,config:l,get accessToken(){return l.ACCESS_TOKEN},set accessToken(t){l.ACCESS_TOKEN=t},workerUrl:""};return or}),a}()},function(t,o,a){"use strict";a.r(o),function(t){a.d(o,"isBrowserMainThread",function(){return i});var e=a(144),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=!("object"===(void 0===t?"undefined":n(t))&&"[object process]"===String(t)&&!t.browser)||e.a,i=r&&"undefined"!=typeof document;o.default=r}.call(this,a(24))},function(Yt,Wt,$t){var Ht;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,s,t,m){"use strict";var a,u=["","webkit","Moz","MS","ms","o"],e=s.createElement("div"),n="function",l=Math.round,y=Math.abs,v=Date.now;function c(t,e,n){return setTimeout(g(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(f(t,n[e],n),!0)}function f(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==m)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function i(r,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,i,e),r.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(t===m||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==m&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var h=i(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===m)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),p=i(function(t,e){return h(t,e,!0)},"merge","Use `assign`.");function d(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&a(r,n)}function g(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return typeof t==n?t.apply(e&&e[0]||m,e):t}function b(t,e){return t===m?e:t}function x(e,t,n){f(k(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){f(k(t),function(t){e.removeEventListener(t,n,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return-1<t.indexOf(e)}function k(t){return t.trim().split(/\s+/g)}function M(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function C(t,n,e){for(var r=[],i=[],o=0;o<t.length;){var a=n?t[o][n]:t[o];M(i,a)<0&&r.push(t[o]),i[o]=a,o++}return e&&(r=n?r.sort(function(t,e){return t[n]>e[n]}):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return m}var A=1;function O(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var z="ontouchstart"in o,I=P(o,"PointerEvent")!==m,R=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",D=25,L=1,j=4,F=8,B=1,U=2,V=4,q=8,Y=16,W=U|V,$=q|Y,H=W|$,Z=["x","y"],G=["clientX","clientY"];function X(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function K(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&L&&r-i==0,a=e&(j|F)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=J(e));1<i&&!n.firstMultiple?n.firstMultiple=J(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=Q(r);e.timeStamp=v(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(s,u),e.distance=nt(s,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==L&&o.eventType!==j||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var l=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=y(l.x)>y(l.y)?l.x:l.y,e.scale=a?(h=a.pointers,p=r,nt(p[0],p[1],G)/nt(h[0],h[1],G)):1,e.rotation=a?(c=a.pointers,f=r,rt(f[1],f[0],G)+rt(c[1],c[0],G)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(e.eventType!=F&&(D<s||a.velocity===m)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=tt(s,u,l);r=c.x,i=c.y,n=y(c.x)>y(c.y)?c.x:c.y,o=et(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var c,f;var h,p;var d=t.element;E(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function J(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:l(t.pointers[n].clientX),clientY:l(t.pointers[n].clientY)},n++;return{timeStamp:v(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:l(n/e),y:l(r/e)}}function tt(t,e,n){return{x:e/t||0,y:n/t||0}}function et(t,e){return t===e?B:y(t)>=y(e)?t<0?U:V:e<0?q:Y}function nt(t,e,n){n||(n=Z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function rt(t,e,n){n||(n=Z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}X.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)}};var it={mousedown:L,mousemove:2,mouseup:j},ot="mousedown",at="mousemove mouseup";function st(){this.evEl=ot,this.evWin=at,this.pressed=!1,X.apply(this,arguments)}d(st,X,{handler:function(t){var e=it[t.type];e&L&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=j),this.pressed&&(e&j&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ut={pointerdown:L,pointermove:2,pointerup:j,pointercancel:F,pointerout:F},lt={2:N,3:"pen",4:"mouse",5:"kinect"},ct="pointerdown",ft="pointermove pointerup pointercancel";function ht(){this.evEl=ct,this.evWin=ft,X.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(ct="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),d(ht,X,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ut[r],o=lt[t.pointerType]||t.pointerType,a=o==N,s=M(e,t.pointerId,"pointerId");i&L&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(j|F)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var pt={touchstart:L,touchmove:2,touchend:j,touchcancel:F};function dt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,X.apply(this,arguments)}d(dt,X,{handler:function(t){var e=pt[t.type];if(e===L&&(this.started=!0),this.started){var n=function(t,e){var n=T(t.touches),r=T(t.changedTouches);e&(j|F)&&(n=C(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(j|F)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}}});var mt={touchstart:L,touchmove:2,touchend:j,touchcancel:F},yt="touchstart touchmove touchend touchcancel";function vt(){this.evTarget=yt,this.targetIds={},X.apply(this,arguments)}d(vt,X,{handler:function(t){var e=mt[t.type],n=function(t,e){var n=T(t.touches),r=this.targetIds;if(e&(2|L)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=T(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return E(t.target,u)}),e===L)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(j|F)&&delete r[a[i].identifier],i++;return s.length?[C(o.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}});var gt=2500;function _t(){X.apply(this,arguments);var t=g(this.handler,this);this.touch=new vt(this.manager,t),this.mouse=new st(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);-1<t&&r.splice(t,1)},gt)}}d(_t,X,{handler:function(t,e,n){var r=n.pointerType==N,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&L?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):t&(j|F)&&bt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=P(e.style,"touchAction"),wt=xt!==m,Et="manipulation",St="none",kt="pan-x",Mt="pan-y",Tt=function(){if(!wt)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();function Ct(t,e){this.manager=t,this.set(e)}Ct.prototype={set:function(t){"compute"==t&&(t=this.compute()),wt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return f(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(S(t,St))return St;var e=S(t,kt),n=S(t,Mt);if(e&&n)return St;if(e||n)return e?kt:Mt;if(S(t,Et))return Et;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=S(r,St)&&!Tt.none,o=S(r,Mt)&&!Tt[Mt],a=S(r,kt)&&!Tt[kt];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&W||a&&n&$?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Pt=1;function At(t){this.options=a({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=Pt,this.simultaneous={},this.requireFail=[]}function Ot(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function zt(t){return t==Y?"down":t==q?"up":t==U?"left":t==V?"right":""}function It(t,e){var n=e.manager;return n?n.get(t):t}function Rt(){At.apply(this,arguments)}function Nt(){Rt.apply(this,arguments),this.pX=null,this.pY=null}function Dt(){Rt.apply(this,arguments)}function Lt(){At.apply(this,arguments),this._timer=null,this._input=null}function jt(){Rt.apply(this,arguments)}function Ft(){Rt.apply(this,arguments)}function Bt(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ut(t,e){return(e=e||{}).recognizers=b(e.recognizers,Ut.defaults.preset),new Vt(t,e)}At.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=It(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)||(t=It(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return-1===M(e,t=It(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=It(t,this);var e=M(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var n=this,t=this.state;function r(t){n.manager.emit(t,e)}t<8&&r(n.options.event+Ot(t)),r(n.options.event),e.additionalEvent&&r(e.additionalEvent),8<=t&&r(n.options.event+Ot(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Pt)))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Pt),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},d(Rt,At,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(n&F||!i)?16|e:r||i?n&j?8|e:2&e?4|e:2:32}}),d(Nt,Rt,{defaults:{event:"pan",threshold:10,pointers:1,direction:H},getTouchAction:function(){var t=this.options.direction,e=[];return t&W&&e.push(Mt),t&$&&e.push(kt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(r=e.direction&W?(i=0===o?B:o<0?U:V,n=o!=this.pX,Math.abs(t.deltaX)):(i=0===a?B:a<0?q:Y,n=a!=this.pY,Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Rt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=zt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(Dt,Rt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(Lt,At,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(j|F)&&!i)this.reset();else if(t.eventType&L)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&j)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&j?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),d(jt,Rt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),d(Ft,Rt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|$,pointers:1},getTouchAction:function(){return Nt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(W|$)?e=t.overallVelocity:n&W?e=t.overallVelocityX:n&$&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&y(e)>this.options.velocity&&t.eventType&j},emit:function(t){var e=zt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(Bt,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&L&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=j)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ut.VERSION="2.0.7",Ut.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[jt,{enable:!1}],[Dt,{enable:!1},["rotate"]],[Ft,{direction:W}],[Nt,{direction:W},["swipe"]],[Bt],[Bt,{event:"doubletap",taps:2},["tap"]],[Lt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Vt(t,e){var n;this.options=a({},Ut.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(I?ht:R?vt:z?_t:st))(n,K),this.touchAction=new Ct(this,this.options.touchAction),qt(this,!0),f(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function qt(n,r){var i,o=n.element;o.style&&(f(n.options.cssProps,function(t,e){i=P(o.style,e),o.style[i]=r?(n.oldCssProps[i]=o.style[i],t):n.oldCssProps[i]||""}),r||(n.oldCssProps={}))}Vt.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof At)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=M(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==m&&e!==m){var n=this.handlers;return f(k(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==m){var n=this.handlers;return f(k(t),function(t){e?n[t]&&n[t].splice(M(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,r,i;this.options.domEvents&&(n=t,r=e,(i=s.createEvent("Event")).initEvent(n,!0,!0),(i.gesture=r).target.dispatchEvent(i));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](e),a++}},destroy:function(){this.element&&qt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Ut,{INPUT_START:L,INPUT_MOVE:2,INPUT_END:j,INPUT_CANCEL:F,STATE_POSSIBLE:Pt,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:B,DIRECTION_LEFT:U,DIRECTION_RIGHT:V,DIRECTION_UP:q,DIRECTION_DOWN:Y,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:$,DIRECTION_ALL:H,Manager:Vt,Input:X,TouchAction:Ct,TouchInput:vt,MouseInput:st,PointerEventInput:ht,TouchMouseInput:_t,SingleTouchInput:dt,Recognizer:At,AttrRecognizer:Rt,Tap:Bt,Pan:Nt,Swipe:Ft,Pinch:Dt,Rotate:jt,Press:Lt,on:x,off:w,each:f,merge:p,extend:h,assign:a,inherit:d,bindFn:g,prefixed:P}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Ut,(Ht=function(){return Ut}.call(Wt,$t,Wt,Yt))===m||(Yt.exports=Ht)}(window,document)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),a=(r=i)&&r.__esModule?r:{default:r},o=n(0),s=n(101);n(267);var u=function(t){var e=t.longitude,n=t.latitude,r=t.radius,i=t.color,o=t.onClick;return a.default.createElement(s.Marker,{longitude:e,latitude:n},a.default.createElement("svg",{height:2*r,width:2*r,className:"circle-marker"},a.default.createElement("circle",{cx:r,cy:r,r:r,fill:i,onClick:o})))};u.propTypes={longitude:o.PropTypes.number.isRequired,latitude:o.PropTypes.number.isRequired,radius:o.PropTypes.number,color:o.PropTypes.string,onClick:o.PropTypes.func},u.defaultProps={radius:2,color:"red",onClick:function(){}},e.default=u},function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),y=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(60)),v=n(52),i=n(1),g=a(i),o=n(9),_=a(n(27)),b=a(n(270)),x=a(n(312));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=s(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i)))).state={sortBy:"id",sortDir:"asc",page:1,pageSize:10},s(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,i.Component),r(a,[{key:"onSortClicked",value:function(t){var e=this.state,n=e.sortBy,r=e.sortDir;n===t?"asc"===r?this.setState({sortDir:"desc"}):this.setState({sortDir:"asc"}):this.setState({sortBy:t,sortDir:"asc"})}},{key:"render",value:function(){var t=this,e=[],n=this.props,r=n.loans;if(!0===n.loading)return g.default.createElement(_.default,null);var i=this.state,o=i.sortBy,a=i.sortDir,s=i.page,u=i.pageSize;null!==o&&(r.sort(function(t,e){var n=t[o],r=e[o];if((0,v.isMoment)(n)){if(null==n||n instanceof Date&&Number.isNaN(n))return-1;if(null==r||r instanceof Date&&Number.isNaN(r))return 1}else{if(null==n)return 1;if(null==r)return-1}return n===r?0:r<n?1:n<r?-1:0}),"asc"===a&&r.reverse());for(var l=r.length,c=(s-1)*u,f=y.min([(s-1)*u+u,l]),h=c;h<f;h++){var p=r[h];e.push(g.default.createElement(b.default,{loan:p,key:h}))}var d=f<l,m=1<c;return g.default.createElement("div",{className:"row row-cards row-deck"},g.default.createElement("div",{className:"col-12"},g.default.createElement("div",{className:"card"},g.default.createElement("div",{className:"card-header"},g.default.createElement("h3",{className:"card-title"},"Loans detail")),g.default.createElement("div",{className:"table-responsive"},g.default.createElement("table",{className:"table card-table table-vcenter text-nowrap"},g.default.createElement("thead",null,g.default.createElement("tr",null,g.default.createElement(x.default,{name:"NGR Code",sortKey:"ngr_code",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"Status",sortKey:"status",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"Num Events",sortKey:"num_events",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"Allocated credit",sortKey:"im_acc_cassa",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"Utilized credit",sortKey:"im_util_cassa",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"Alloc/Util rate",sortKey:"util_rate",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}),g.default.createElement(x.default,{name:"3 mon prediction",sortKey:"predictions",sortingBy:o,sortingDir:a,sortClicked:this.onSortClicked.bind(this)}))),g.default.createElement("tbody",null,e))),g.default.createElement("div",{className:"card-footer text-center"},g.default.createElement("div",{className:"row"},g.default.createElement("div",{className:"col-4 text-left"},m?g.default.createElement("a",{className:"btn btn-secondary btn-sm",onClick:function(){t.setState({page:t.state.page-1})}},g.default.createElement("i",{className:"fe fe-arrow-left"})," Previews"):null),g.default.createElement("div",{className:"col-4"},"Displaying ",c+1," to ",f," of ",l," loans."),g.default.createElement("div",{className:"col-4 text-right"},d?g.default.createElement("a",{className:"btn btn-secondary btn-sm",onClick:function(){t.setState({page:t.state.page+1})}},"Next ",g.default.createElement("i",{className:"fe fe-arrow-right"})):null))))))}}]),a}();e.default=(0,o.connect)(function(t){var e=t.loans;return{loans:e.loans,loading:e.loading}})(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1));n(271);var o=n(279),a=r(n(305)),s=r(n(311));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=t.loan,n=void 0;"0"==e.prediction&&(n=i.default.createElement(o.Checkbox,{checkboxClass:"icheckbox_square-green",increaseArea:"20%",checked:"True"})),"1"==e.prediction&&(n=i.default.createElement(o.Radio,{name:"aa",radioClass:"iradio_square-red",increaseArea:"20%",checked:"True"}));var r=void 0;return"0"==e.status&&(r=i.default.createElement(o.Checkbox,{checkboxClass:"icheckbox_square-green",increaseArea:"20%",checked:"True"})),"1"==e.status&&(r=i.default.createElement(o.Radio,{name:"aa",radioClass:"iradio_square-red",increaseArea:"20%",checked:"True"})),i.default.createElement("tr",null,i.default.createElement("td",{className:"text-center"},e.ngr_cd),i.default.createElement("td",{className:"text-center"},r),i.default.createElement("td",{className:"text-center"},e.num_events),i.default.createElement(s.default,{ammount:e.im_acc_cassa}),i.default.createElement(s.default,{ammount:e.im_util_cassa}),i.default.createElement(a.default,{percentage:e.util_rate}),i.default.createElement("td",{className:"text-center"},n))}},function(t,e,n){},,,,,,,,function(t,e,n){"use strict";var r=n(28).default;Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(280)),o=r(n(98)),a=r(n(304));e.default={Checkbox:i.default,Radio:o.default,RadioGroup:a.default},t.exports=e.default},function(t,e,n){"use strict";var r=n(31).default,i=n(33).default,o=n(34).default,a=n(35).default,s=n(36).default,u=n(28).default;Object.defineProperty(e,"__esModule",{value:!0});var l=u(n(1)),c=u(n(96)),f=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={}}return i(e,t),o(e,[{key:"getValue",value:function(){return this.refs.enhancedSwitch.getValue()}},{key:"setChecked",value:function(t){this.refs.enhancedSwitch.setChecked(t)}},{key:"isChecked",value:function(){return this.refs.enhancedSwitch.isChecked()}},{key:"render",value:function(){return l.default.createElement(c.default,s({ref:"enhancedSwitch"},this.props,{inputType:"checkbox"}))}}]),e}(l.default.Component);e.default=f,t.exports=e.default},function(t,e,n){t.exports={default:n(282),__esModule:!0}},function(t,e,n){var r=n(29);n(283),t.exports=function(t,e){return r.getDesc(t,e)}},function(t,e,n){var r=n(284);n(286)("getOwnPropertyDescriptor",function(n){return function(t,e){return n(r(t),e)}})},function(t,e,n){var r=n(90),i=n(91);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(59),o=n(32),a=n(93);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports={default:n(290),__esModule:!0}},function(t,e,n){var r=n(29);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){t.exports={default:n(292),__esModule:!0}},function(t,e,n){n(293),t.exports=n(32).Object.setPrototypeOf},function(t,e,n){var r=n(59);r(r.S,"Object",{setPrototypeOf:n(294).set})},function(t,e,i){var o=i(29).getDesc,n=i(94),r=i(295),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{(r=i(92)(Function.call,o(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return a(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:a}},function(t,e,n){var r=n(94);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(29);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){t.exports={default:n(298),__esModule:!0}},function(t,e,n){n(299),t.exports=n(32).Object.assign},function(t,e,n){var r=n(59);r(r.S+r.F,"Object",{assign:n(300)})},function(t,e,n){var d=n(29),m=n(301),y=n(90);t.exports=n(93)(function(){var t=Object.assign,e={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(t){n[t]=t}),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=i})?function(t,e){for(var n=m(t),r=arguments,i=r.length,o=1,a=d.getKeys,s=d.getSymbols,u=d.isEnum;o<i;)for(var l,c=y(r[o++]),f=s?a(c).concat(s(c)):a(c),h=f.length,p=0;p<h;)u.call(c,l=f[p++])&&(n[l]=c[l]);return n}:Object.assign},function(t,e,n){var r=n(91);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(95).default;e.default=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},e.__esModule=!0},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&t.push(i)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&t.push(o)}}return t.join(" ")}void 0!==t&&t.exports?(s.default=s,t.exports=s):void 0===(r=function(){return s}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";var r=n(31).default,i=n(33).default,o=n(34).default,a=n(35).default,s=n(97).default,u=n(36).default,l=n(28).default;Object.defineProperty(e,"__esModule",{value:!0});var c=l(n(1)),f=l(n(0)),h=l(n(98)),p=function(t){function e(t){a(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={numberCheckedRadioButtons:0,value:this.props.value||this.props.defaultValue||""}}return i(e,t),o(e,null,[{key:"propTypes",value:{name:f.default.string.isRequired,defaultValue:f.default.string,value:f.default.string,onChange:f.default.func,children:f.default.node,className:f.default.string},enumerable:!0}]),o(e,[{key:"componentWillMount",value:function(){var e=this,n=0;c.default.Children.forEach(this.props.children,function(t){e.hasCheckAttribute(t)&&n++},this),this.setState({numberCheckedRadioButtons:n})}},{key:"componentWillReceiveProps",value:function(t){t.hasOwnProperty("value")&&this.setState({value:t.value})}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(t){this.updateRadioButtons(t)}},{key:"clearValue",value:function(){this.setValue("")}},{key:"hasCheckAttribute",value:function(t){return t.props.hasOwnProperty("checked")&&t.props.checked}},{key:"updateRadioButtons",value:function(t){if(0===this.state.numberCheckedRadioButtons)this.setState({value:t});else;}},{key:"handleChange",value:function(t){var e=t.target.value;this.updateRadioButtons(e),0===this.state.numberCheckedRadioButtons&&this.props.onChange&&this.props.onChange(t,e)}},{key:"render",value:function(){var r=this,t=c.default.Children.map(this.props.children,function(t){var e=t.props,n=(e.name,e.value,e.label,e.onChange,s(e,["name","value","label","onChange"]));return c.default.createElement(h.default,u({},n,{ref:t.props.value,name:r.props.name,key:t.props.value,value:t.props.value,label:t.props.label,onChange:r.handleChange.bind(r),checked:t.props.value===r.state.value}))},this);return c.default.createElement("div",{className:this.props.className},t)}}]),e}(c.default.Component);e.default=p,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1)),o=r(n(306));n(307),n(309);var a=r(n(99));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=t.percentage;if(null==e||Number.isNaN(e))return i.default.createElement("td",null,"--");var n=(0,a.default)(e).multiply(100).format("0"),r="#cd201f";return 40<n&&n<=70&&(r="#f1c40f"),70<n&&(r="#5eba00"),i.default.createElement("td",{className:"text-center"},i.default.createElement(o.default,{percentage:n,styles:{path:{stroke:r}},text:n+"%"}))}},function(t,e,n){var r;t.exports=(r=n(1),function(n){function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i={};return r.m=n,r.c=i,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),o=n(6),s=r(o),a=n(4),u=r(a),l=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={percentage:t.initialAnimation?0:t.percentage},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),i(n,[{key:"componentDidMount",value:function(){var t=this;this.props.initialAnimation&&(this.initialTimeout=setTimeout(function(){t.requestAnimationFrame=window.requestAnimationFrame(function(){t.setState({percentage:t.props.percentage})})},0))}},{key:"componentWillReceiveProps",value:function(t){this.setState({percentage:t.percentage})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.initialTimeout),window.cancelAnimationFrame(this.requestAnimationFrame)}},{key:"getBackgroundPadding",value:function(){return this.props.background?null==this.props.backgroundPadding?this.props.strokeWidth:this.props.backgroundPadding:0}},{key:"getPathDescription",value:function(){var t=this.getPathRadius(),e=this.props.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+e+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+e+" 1 1 0,-"+2*t+"\n    "}},{key:"getPathStyles",value:function(){var t=2*Math.PI*this.getPathRadius(),e=Math.min(Math.max(this.state.percentage,0),100),n=(100-e)/100*t;return{strokeDasharray:t+"px "+t+"px",strokeDashoffset:(this.props.counterClockwise?-n:n)+"px"}}},{key:"getPathRadius",value:function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()}},{key:"render",value:function(){var t=this.props,e=(t.percentage,t.className),n=t.classes,r=t.styles,i=t.strokeWidth,o=t.text,a=this.getPathDescription();return s.default.createElement("svg",{className:n.root+" "+e,style:r.root,viewBox:"0 0 100 100"},this.props.background?s.default.createElement("circle",{className:n.background,style:r.background,cx:50,cy:50,r:50}):null,s.default.createElement("path",{className:n.trail,style:r.trail,d:a,strokeWidth:i,fillOpacity:0}),s.default.createElement("path",{className:n.path,d:a,strokeWidth:i,fillOpacity:0,style:Object.assign({},r.path,this.getPathStyles())}),o?s.default.createElement("text",{className:n.text,style:r.text,x:50,y:50},o):null)}}]),n}(s.default.Component);l.propTypes={percentage:u.default.number.isRequired,className:u.default.string,text:u.default.string,classes:u.default.objectOf(u.default.string),styles:u.default.objectOf(u.default.object),strokeWidth:u.default.number,background:u.default.bool,backgroundPadding:u.default.number,initialAnimation:u.default.bool,counterClockwise:u.default.bool},l.defaultProps={strokeWidth:8,className:"",text:null,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},styles:{root:{},trail:{},path:{},text:{},background:{}},background:!1,backgroundPadding:null,initialAnimation:!1,counterClockwise:!1},e.default=l},function(t,e,n){"use strict";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";var r=n(1),a=n(2),s=n(5);t.exports=function(){function t(t,e,n,r,i,o){o!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}var n={array:t.isRequired=t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n}},function(t,e,n){t.exports=n(3)()},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=r},function(t,e,n){t.exports=n(0)}]))},function(t,e,n){},,function(t,e,n){},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(1),o=u(i),a=u(n(0)),s=u(n(99));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"render",value:function(){return o.default.createElement("td",{className:"text-right"},"€",(0,s.default)(this.props.ammount).format("0,0"))}}]),e}();l.propTypes={ammount:a.default.number.isRequired},e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(1)),r=i(n(0));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){var e=t.sortingBy,n=t.sortKey,r=t.sortingDir,i=t.colSpan,o=t.name,a=t.sortClicked,s=void 0;return s=!0===(e===n)?"asc"===r?u.default.createElement("i",{className:"fe fe-arrow-up"}):u.default.createElement("i",{className:"fe fe-arrow-down"}):u.default.createElement("i",{className:"fe fe-minus"}),u.default.createElement("th",{colSpan:i,onClick:function(){return a(n)},style:{cursor:"pointer"}},o,u.default.createElement("div",{className:"text-right d-inline "},s))};o.propTypes={sortingBy:r.default.string.isRequired,sortKey:r.default.string.isRequired,sortingDir:r.default.string.isRequired,sortClicked:r.default.func.isRequired,name:r.default.string.isRequired,colSpan:r.default.number},o.defaultProps={colSpan:1},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(0)),i=c(n(1)),o=n(9),a=n(11),s=n(13),u=n(49),l=n(17);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){var e=t.portfolio,n=t.loading,r=t.dispatch;return null!=e?(r(s.alertActions.success("The portfolio was created. We will let you know by email when the data processing is ready, it could take several hours.")),r({type:u.portfolioConstants.CLEAR}),i.default.createElement(a.Redirect,{to:"/portfolio"})):i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"page-header"},i.default.createElement("p",null,i.default.createElement(a.Link,{to:"/portfolio"},i.default.createElement("i",{className:"fe fe-arrow-left"}),"My portfolios")),i.default.createElement("h1",{className:"page-title"},"Upload portfolio")),i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-6"},n?i.default.createElement(l.SpinnerCard,null):i.default.createElement(l.UploaderCard,null)),i.default.createElement("div",{className:"col-5"},i.default.createElement("div",{style:{padding:30}},i.default.createElement("h5",{className:"upload-bullets-title"},"Things to consider"),i.default.createElement("ul",{className:"upload-bullets"},i.default.createElement("li",null,i.default.createElement("i",{className:"fe fe-file-text bullet-icon"}),"We do our best to support multiple file formats, but if yours is not working contact our ..."),i.default.createElement("li",null,i.default.createElement("i",{className:"fe fe-shield bullet-icon"}),"We will protect your data. It's strictly confidential. For more information read our privacy policy."),i.default.createElement("li",null,i.default.createElement("i",{className:"fe fe-help-circle bullet-icon"}),"What to do if you need help. Maybe send an email"))))))};f.propTypes={dispatch:r.default.func.isRequired,portfolio:r.default.shape({code:r.default.string.isRequired}),loading:r.default.bool},f.defaultProps={portfolio:null,loading:!1},e.default=(0,o.connect)(function(t){var e=t.portfolio;return{portfolio:e.createPortfolio,loading:e.createLoading}})(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=a(n(52)),o=a(n(0)),s=n(1),u=a(s),l=n(11),c=n(17),f=n(50);function a(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=o.default.shape({state:o.default.string.isRequired,code:o.default.string.isRequired,name:o.default.string.isRequired}),d=function(t){t.state;return u.default.createElement("div",{className:"tag tag-green"},"Ready",u.default.createElement("span",{className:"tag-addon"},u.default.createElement("i",{className:"fe fe-check"})))},m=function(t){var e=t.portfolio,n=(0,i.default)(e.created_at).format("MMMM Do YYYY");return u.default.createElement("tr",null,u.default.createElement("td",null,e.name?e.name:u.default.createElement("span",null,"No name set")),u.default.createElement("td",null,u.default.createElement(d,{state:e.state})),u.default.createElement("td",null,e.n_loans?e.n_loans.toLocaleString():"--"),u.default.createElement("td",null,n),u.default.createElement("td",null,u.default.createElement(l.Link,{to:"/portfolio/i/"+e.code},u.default.createElement("i",{className:"fe fe-lock"}),e.code)))};m.propType={portfolio:p};var y=function(t){var e=t.portfolios.map(function(t){return u.default.createElement(m,{portfolio:t,key:t.code})});return u.default.createElement("div",{className:"card"},u.default.createElement("div",{className:"table-responsive"},u.default.createElement("table",{className:"table table-hover table-outline table-vcenter text-nowrap card-table"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Name"),u.default.createElement("th",null,"Status"),u.default.createElement("th",null,"N Loans"),u.default.createElement("th",null,"Created at"),u.default.createElement("th",null,"Secure link"))),u.default.createElement("tbody",null,e))))};y.propType={portfolios:o.default.arrayOf(p)};var v=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=h(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i)))).state={isLoading:!0,portfolios:[]},h(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,s.Component),r(a,[{key:"componentDidMount",value:function(){var e=this;f.portfolioService.list().then(function(t){e.setState({portfolios:t.data.results,isLoading:!1})})}},{key:"render",value:function(){var t=this.state,e=t.isLoading,n=t.portfolios,r=u.default.createElement(l.Link,{to:"/portfolio/upload",className:"btn btn-success btn-sm",style:{float:"right",marginTop:8}},u.default.createElement("i",{className:"fe fe-plus"}),"Add new");return u.default.createElement("div",null,e?u.default.createElement(c.Loader,null):u.default.createElement("div",{className:"container"},0===n.length?u.default.createElement(l.Redirect,{to:"/portfolio/upload"}):u.default.createElement("div",null,u.default.createElement(c.PageTitle,{title:"UTP portfolios",btn:r}),u.default.createElement(y,{portfolios:n}))))}}]),a}();e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),i=n(0),o=n(1),l=u(o),a=n(9),c=n(11),f=u(n(100)),s=n(13),h=n(17);function u(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={email:"",password:"",submitted:!1},e.handleChange=e.handleChange.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e.closeAlert=e.closeAlert.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,o.Component),r(n,[{key:"closeAlert",value:function(){(0,this.props.dispatch)(alertActions.clear())}},{key:"handleChange",value:function(t){var e,n,r,i=t.target,o=i.name,a=i.value;this.setState((r=a,(n=o)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({submitted:!0});var e=this.state,n=e.email,r=e.password;n&&r&&(0,this.props.dispatch)(s.accountActions.login(n,r))}},{key:"render",value:function(){var t=this.props,e=t.loading,n=t.errors,r=t.alert,i=this.state,o=i.email,a=i.password,s=i.submitted,u=null;return r&&r.type&&(u=l.default.createElement("div",{className:"alert "+r.type},l.default.createElement("div",{className:"container"},l.default.createElement("button",{onClick:this.closeAlert,type:"button",className:"close","data-dismiss":"alert"}),r.message))),l.default.createElement("div",{className:"page-single"},l.default.createElement("div",{className:"container"},l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"col col-login mx-auto"},l.default.createElement("div",{className:"text-center mb-6"},l.default.createElement("img",{src:f.default,className:"app-logo",alt:"Zarathustra technologies"})),u,l.default.createElement("form",{className:"card",onSubmit:this.handleSubmit},l.default.createElement("div",{className:"card-body p-6"},l.default.createElement("div",{className:"card-title"},"Login to your account"),l.default.createElement(h.NonFieldErrors,{errors:n}),l.default.createElement(h.FormField,{type:"text",name:"email",label:"Email address",tabIndex:1,value:o,submitted:s,onChange:this.handleChange,errors:n.email}),l.default.createElement(h.FormField,{type:"password",name:"password",label:"Password",tabIndex:2,value:a,submitted:s,onChange:this.handleChange,errors:n.password}),l.default.createElement("div",{className:"form-footer"},l.default.createElement(h.LoadingButton,{text:"Sign in",isLoading:e,tabIndex:3})))),l.default.createElement("div",{className:"text-center text-muted"},"Don't have account yet? ",l.default.createElement(c.Link,{to:"/register"},"Register"),".")))))}}]),n}();p.propTypes={loading:i.PropTypes.bool,errors:i.PropTypes.shape(),alert:i.PropTypes.shape(),dispatch:i.PropTypes.func.isRequired},p.defaultProps={errors:{},loading:!1},e.default=(0,a.connect)(function(t){var e=t.authentication;return{loading:e.loggingIn,errors:e.loggingError,alert:t.alert}})(p)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),a=f(n(1)),i=n(9),s=n(11),l=f(n(100)),o=n(13),c=n(17);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={user:{first_name:"",last_name:"",company:"",email:"",password1:"",password2:""},submitted:!1},e.handleChange=e.handleChange.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default.Component),r(n,[{key:"handleChange",value:function(t){var e,n,r,i=t.target,o=i.name,a=i.value,s=this.state.user;this.setState({user:u({},s,(e={},n=o,r=a,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e))})}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({submitted:!0}),this.props.dispatch(o.accountActions.register(this.state.user))}},{key:"render",value:function(){var t=this.props,e=t.loading,n=t.errors,r=this.state,i=r.user,o=r.submitted;return a.default.createElement("div",{className:"page-single"},a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col col-login mx-auto"},a.default.createElement("div",{className:"text-center mb-6"},a.default.createElement("img",{src:l.default,className:"app-logo",alt:"Zarathustra technologies"})),a.default.createElement("form",{className:"card",onSubmit:this.handleSubmit},a.default.createElement("div",{className:"card-body p-6"},a.default.createElement("div",{className:"card-title"},"Login to your account"),a.default.createElement(c.NonFieldErrors,{errors:n}),a.default.createElement(c.FormField,{type:"text",name:"company",label:"Company",tabIndex:1,isRequired:!0,value:i.company,errors:n.company,submitted:o,onChange:this.handleChange}),a.default.createElement(c.FormField,{type:"text",name:"first_name",label:"First name",tabIndex:2,isRequired:!0,value:i.first_name,errors:n.first_name,submitted:o,onChange:this.handleChange}),a.default.createElement(c.FormField,{type:"text",name:"last_name",label:"Last name",tabIndex:3,isRequired:!0,value:i.last_name,errors:n.last_name,submitted:o,onChange:this.handleChange}),a.default.createElement(c.FormField,{type:"email",name:"email",label:"Email address",tabIndex:4,isRequired:!0,value:i.email,errors:n.email,submitted:o,onChange:this.handleChange}),a.default.createElement(c.FormField,{type:"password",name:"password1",label:"Password",tabIndex:5,isRequired:!0,value:i.password1,errors:n.password1,submitted:o,onChange:this.handleChange}),a.default.createElement(c.FormField,{type:"password",name:"password2",label:"Repeat password",tabIndex:6,isRequired:!0,value:i.password2,errors:n.password2,submitted:o,onChange:this.handleChange}),a.default.createElement("div",{className:"form-footer"},a.default.createElement(c.LoadingButton,{text:"Sign in",isLoading:!!e,tabIndex:7})))),a.default.createElement("div",{className:"text-center text-muted"},"Already have an account? ",a.default.createElement(s.Link,{to:"/login"},"Login now"),".")))))}}]),n}();e.default=(0,i.connect)(function(t){var e=t.registration;return{loading:e.registering,errors:e.errors}})(h)},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(1),I=n.n(r),i=n(0),o=n.n(i),a=n(106),s=n.n(a),R="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input");function N(t,e){return"application/x-moz-file"===t.type||s()(t,e)}function u(t){t.preventDefault()}var D={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},L={opacity:.5},j={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},F={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}();function U(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var c=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return i.renderChildren=function(t,e,n,r){return"function"==typeof t?t(B({},i.state,{isDragActive:e,isDragAccept:n,isDragReject:r})):t},i.composeHandlers=i.composeHandlers.bind(i),i.onClick=i.onClick.bind(i),i.onDocumentDrop=i.onDocumentDrop.bind(i),i.onDragEnter=i.onDragEnter.bind(i),i.onDragLeave=i.onDragLeave.bind(i),i.onDragOver=i.onDragOver.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrop=i.onDrop.bind(i),i.onFileDialogCancel=i.onFileDialogCancel.bind(i),i.onInputElementClick=i.onInputElementClick.bind(i),i.setRef=i.setRef.bind(i),i.setRefs=i.setRefs.bind(i),i.isFileDialogActive=!1,i.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,I.a.Component),l(n,[{key:"componentDidMount",value:function(){var t=this.props.preventDropOnDocument;this.dragTargets=[],t&&(document.addEventListener("dragover",u,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",u),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(t){return this.props.disabled?null:t}},{key:"onDocumentDrop",value:function(t){this.node&&this.node.contains(t.target)||(t.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(t){this.props.onDragStart&&this.props.onDragStart.call(this,t)}},{key:"onDragEnter",value:function(t){var e=this;t.preventDefault(),-1===this.dragTargets.indexOf(t.target)&&this.dragTargets.push(t.target),Promise.resolve(this.props.getDataTransferItems(t)).then(function(t){e.setState({isDragActive:!0,draggedFiles:t})}),this.props.onDragEnter&&this.props.onDragEnter.call(this,t)}},{key:"onDragOver",value:function(t){t.preventDefault(),t.stopPropagation();try{t.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(t){}return this.props.onDragOver&&this.props.onDragOver.call(this,t),!1}},{key:"onDragLeave",value:function(e){var n=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(t){return t!==e.target&&n.node.contains(t)}),0<this.dragTargets.length||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var a=this,t=this.props,n=t.onDrop,r=t.onDropAccepted,s=t.onDropRejected,u=t.multiple,l=t.disablePreview,c=t.accept,i=t.getDataTransferItems;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Promise.resolve(i(e)).then(function(t){var i=[],o=[];t.forEach(function(t){if(!l)try{t.preview=window.URL.createObjectURL(t)}catch(t){0}var e,n,r;N(t,c)&&(e=t,n=a.props.maxSize,r=a.props.minSize,e.size<=n&&e.size>=r)?i.push(t):o.push(t)}),u||o.push.apply(o,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(i.splice(1))),n&&n.call(a,i,o,e),0<o.length&&s&&s.call(a,o,e),0<i.length&&r&&r.call(a,i,e)})}},{key:"onClick",value:function(t){var e=this.props,n=e.onClick;e.disableClick||(t.stopPropagation(),n&&n.call(this,t),!function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return-1!==(t=e).indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?this.open():setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(t){t.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var t=this,e=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){null!=t.fileInputEl&&(t.fileInputEl.files.length||(t.isFileDialogActive=!1));"function"==typeof e&&e()},300)}},{key:"setRef",value:function(t){this.node=t}},{key:"setRefs",value:function(t){this.fileInputEl=t}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var t,e,n=this.props,r=n.accept,i=n.acceptClassName,o=n.activeClassName,a=n.children,s=n.disabled,u=n.disabledClassName,l=n.inputProps,c=n.multiple,f=n.name,h=n.rejectClassName,p=U(n,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),d=p.acceptStyle,m=p.activeStyle,y=p.className,v=void 0===y?"":y,g=p.disabledStyle,_=p.rejectStyle,b=p.style,x=U(p,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),w=this.state,E=w.isDragActive,S=w.draggedFiles,k=S.length,M=c||k<=1,T=0<k&&(t=S,e=this.props.accept,t.every(function(t){return N(t,e)})),C=0<k&&(!T||!M),P=!(v||b||m||d||_||g);E&&o&&(v+=" "+o),T&&i&&(v+=" "+i),C&&h&&(v+=" "+h),s&&u&&(v+=" "+u),P&&(b=F,d=m=j,_=D,g=L);var A=B({position:"relative"},b);m&&E&&(A=B({},A,m)),d&&T&&(A=B({},A,d)),_&&C&&(A=B({},A,_)),g&&s&&(A=B({},A,g));var O={accept:r,disabled:s,type:"file",style:B({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},l.style),multiple:R&&c,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};f&&f.length&&(O.name=f);x.acceptedFiles,x.preventDropOnDocument,x.disablePreview,x.disableClick,x.onDropAccepted,x.onDropRejected,x.onFileDialogCancel,x.maxSize,x.minSize,x.getDataTransferItems;var z=U(x,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return I.a.createElement("div",B({className:v,style:A},z,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":s}),this.renderChildren(a,E,T,C),I.a.createElement("input",B({},l,O)))}}]),n}();e.default=c;c.propTypes={accept:o.a.oneOfType([o.a.string,o.a.arrayOf(o.a.string)]),children:o.a.oneOfType([o.a.node,o.a.func]),disableClick:o.a.bool,disabled:o.a.bool,disablePreview:o.a.bool,preventDropOnDocument:o.a.bool,inputProps:o.a.object,multiple:o.a.bool,name:o.a.string,maxSize:o.a.number,minSize:o.a.number,className:o.a.string,activeClassName:o.a.string,acceptClassName:o.a.string,rejectClassName:o.a.string,disabledClassName:o.a.string,style:o.a.object,activeStyle:o.a.object,acceptStyle:o.a.object,rejectStyle:o.a.object,disabledStyle:o.a.object,getDataTransferItems:o.a.func,onClick:o.a.func,onDrop:o.a.func,onDropAccepted:o.a.func,onDropRejected:o.a.func,onDragStart:o.a.func,onDragEnter:o.a.func,onDragOver:o.a.func,onDragLeave:o.a.func,onFileDialogCancel:o.a.func},c.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:function(t){var e=[];if(t.dataTransfer){var n=t.dataTransfer;n.files&&n.files.length?e=n.files:n.items&&n.items.length&&(e=n.items)}else t.target&&t.target.files&&(e=t.target.files);return Array.prototype.slice.call(e)}}}]);